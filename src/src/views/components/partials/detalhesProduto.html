<template> 
    <require from="jquery-datetimepicker/jquery.datetimepicker.min.css"></require>
    <require from="../attributes/moneyMask"></require>
    <require from="../attributes/datepicker"></require>
    <require from="../attributes/timeMask"></require>
    <require from="../attributes/numberMask"></require>
    <require from="../valueConverters/dateFormatValueConverter"></require>
    <require from="../valueConverters/timeValueConverter"></require>
    <require from="../valueConverters/numberValueConverter"></require>

    <div class="row mb-5" style="width: 85%;">
        <div class="col-md-12">
            <div class="card">
                  <div class="card-header">
                     Detalhes do produto
                  </div>
                  <div class="card-body">
                    <div class="row mt-2 text-center mx-auto">
                        <h3 class="text-center mx-auto">${simulationInput.name}</h3>
                    </div> 
                    <div class="row mt-2">
                        <p>A cotaçao deste produto é feita por ${simulationInput.items[0].unit.name}</p>
                    </div>    
                    <div class="row mt-2">
                        <p class="mt-3">Quanto(a)s  ${simulationInput.items[0].unit.name} deseja cotar?</p>
                        <input type="text" class="col-md-2 money text-right form-control au-target ml-5" number="" autocomplete="off" value.bind="product.quantity | number" placeholder="000" au-target-id="224" maxlength="2">
                    </div>        
                    <div class="mt-3"> 
                        <div class="row mt-5 text-center mx-auto">
                            <h3>Marcas disponíveis</h3>
                        </div>    
                        <div class="row mt-1">
                                <span style="padding : 10px; cursor: pointer; width: 200px;"  repeat.for="brand of simulationInput.brands" click.trigger="addRemoveBrand(brand)" class="badge ${ brand.wasRemoved ?  'badge-success' : 'badge-default' }  ml-3 mt-2">
                                    <i class="fa fa-times mr-3" if.bind="! brand.wasRemoved" aria-hidden="true" style="cursor: pointer;" click.trigger="addRemoveBrand(brand)"></i>
                                    <i class="fa fa-plus mr-3" if.bind="brand.wasRemoved" aria-hidden="true" style="cursor: pointer;" click.trigger="addRemoveBrand(brand)"></i>
                                    ${brand.name}
                                </span>
                        </div>
                        </div> 
                        <div class="row mt-5 text-center mx-auto" if.bind="simulationInput.units.length > 1">
                            <h3>Unidades de medida disponíveis</h3>
                        </div>                         
                        <div class="row mt-1">
                                <span style="padding : 10px; cursor: pointer; width: 200px;"  repeat.for="unit of simulationInput.units" click.trigger="addRemoveBrand(unit)" class="badge ${ unit.wasRemoved ?  'badge-success' : 'badge-default' }  ml-3 mt-2">
                                    <i class="fa fa-times mr-3" if.bind="! unit.wasRemoved" aria-hidden="true" style="cursor: pointer;" click.trigger="addRemoveBrand(unit)"></i>
                                    <i class="fa fa-plus mr-3" if.bind="unit.wasRemoved" aria-hidden="true" style="cursor: pointer;" click.trigger="addRemoveBrand(unit)"></i>
                                    ${unit.name}
                                </span>
                        </div>      
                        <div class="row">  
                            <table class="table table-hover table-responsive mt-5">
                            <thead>
                                <tr>
                                    <th>Marca</th> 
                                    <th>Unidade de medida</th>
                                    <th>Descricao</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr repeat.for="product of simulationInput.items">
                                    <td>${product.brand.name}</td>
                                    <td>${product.umDetailed}</td>
                                    <td>${product.description}</td>
                                    <th>
                                        <button type="button" class="btn btn-danger btn-sm waves-effect waves-light">
                                            Remover
                                        </button>
                                    </th>
                                </tr>
                            </tbody>
                            </table>
                        </div>                     
                    </div>   
                </div>  
            </div>
        </div>
    </div>    
</template>