define("main",["require","exports","./environment","whatwg-fetch","jquery","popper.js","bootstrap","mdbootstrap","velocity-animate","velocity","custom-scrollbar","jquery-visible","ie10-viewport"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=function(e){e.use.standardConfiguration().feature("resources").plugin("aurelia-dialog").plugin("aurelia-validation").plugin("aurelia-animator-css").feature("resources").plugin("aurelia-api",function(e){e.registerEndpoint("csz",i.default.apiAddress),e.registerEndpoint("viacep",i.default.viacepAddress)}),i.default.debug&&e.use.developmentLogging(),i.default.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot()})}}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1,apiAddress:"https://csz.azurewebsites.net/Backend/api/",viacepAddress:"viacep.com.br/ws/00000000/json/"}});var __decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("app",["require","exports","./services/scriptRunner","./services/identityService","aurelia-framework","aurelia-pal","aurelia-api","aurelia-event-aggregator","./services/notificationService","jquery","popper.js","bootstrap","mdbootstrap","velocity-animate","velocity","custom-scrollbar","jquery-visible","ie10-viewport"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a,o,r){this.aurelia=e,this.config=t,this.ea=i,this.service=a,this.nService=o,this.identityService=r,this.api=this.config.getEndpoint("csz"),this.identityService.configureHttpClient(this.api.client)}return e.prototype.configureRouter=function(e,t){(e=e).title="CSZ Compras Inteligentes",this.router=t,this.addRoutes(e,t)},e.prototype.attached=function(){i.ScriptRunner.runScript()},e.prototype.addRoutes=function(e,t){e.map([{route:"",redirect:"login"},{route:"login",name:"login",moduleId:r.PLATFORM.moduleName("./views/login")},{route:"invite",name:"invite",moduleId:r.PLATFORM.moduleName("./views/confirmInvite")},{route:"forgotMyPassword",name:"forgotMyPassword",moduleId:r.PLATFORM.moduleName("./views/forgotMyPassword")},{route:"welcome",name:"invite",moduleId:r.PLATFORM.moduleName("./views/welcome")},{route:"csz",name:"csz",moduleId:r.PLATFORM.moduleName("./views/master")}]),e.mapUnknownRoutes({route:"login"}),e.fallbackRoute("login")},e.prototype.logout=function(){this.identityService.resetIdentity(),window.location.assign("/")},e=__decorate([o.autoinject,__metadata("design:paramtypes",[o.Aurelia,s.Config,n.EventAggregator,a.IdentityService,l.NotificationService,a.IdentityService])],e)}();t.App=c}),define("resources/index",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=function(e){}});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/evaluationRepository",["require","exports","aurelia-api","aurelia-dependency-injection"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getEvaluations=function(e){return this.api.find("evaluation?status="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMyEvaluations=function(){return this.api.find("myEvaluations").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.finishOrder=function(e){return this.api.post("finishOrder",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.updateStatus=function(e,t){return this.api.post("evaluation",{id:e,status:t}).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([a.autoinject,__metadata("design:paramtypes",[i.Config])],e)}();t.EvaluationRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/stateRegistrationRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getAll=function(){return this.api.find("stateRegistration").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.StateRegistrationRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/userRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getUsersFromFoodService=function(e){return this.api.find("foodServiceUsers?foodServiceId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getUsersFromSupplier=function(e){return this.api.find("supplierUsers?supplierId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getUser=function(e){return this.api.find("user?userId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.save=function(e){return this.api.post("user",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.confirmInvite=function(e){return this.api.post("confirmInvite",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.resendInvite=function(e){return this.api.find("resendInvite?userId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.createNew=function(e){return this.api.post("welcome",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.resetPassword=function(e){return this.api.post("resetPassword",{email:e}).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.UserRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/foodServiceRepository",["require","exports","aurelia-framework","aurelia-fetch-client","aurelia-api","../domain/editFoodServiceStatus"],function(e,t,i,a,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.config=e,this.client=t,this.api=this.config.getEndpoint("csz")}return e.prototype.getByUser=function(e){return this.api.find("foodServiceByUser?userId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.get=function(e){return this.api.find("foodService?supplierId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAll=function(){return this.api.find("allFoodServices").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.save=function(e){return this.api.post("foodService",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getProducts=function(){return this.api.find("foodServiceProduct").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getBuyListsParaCotacao=function(){return this.api.find("cotacao").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getLists=function(){return this.api.find("buyList").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.addProduct=function(e){return this.api.post("foodServiceProduct",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.inativateProduct=function(e){return this.api.post("inativateFoodServiceProduct",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.addBuyList=function(e){return this.api.post("buyList",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.alterBuyList=function(e){return this.api.post("alterBuyListProduct",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.updateStatus=function(e,t){var i=new r.EditFoodServiceStatus;return i.foodServiceId=e,i.status=t,this.api.post("foodServiceStatus",i).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.uploadSocialContract=function(e,t){var i=this;this.client.configure(function(e){e.withBaseUrl(i.api.client.baseUrl)}),this.client.defaults.headers={};var a=new Headers;return a.append("Accept","application/json"),this.client.fetch("uploadFoodServiceContractSocial?foodServiceId="+t,{method:"POST",body:e,headers:a}).then(function(e){if(200!=e.status)throw"Erro";return e}).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[o.Config,a.HttpClient])],e)}();t.FoodServiceRepository=s});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/foodServiceConnectionRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getSuppliers=function(e){return this.api.find("foodServiceConnection?queryType="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.updateConnection=function(e){return this.api.post("FoodServiceConnection",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.FoodServiceConnectionRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/supplierRepository",["require","exports","aurelia-framework","aurelia-fetch-client","aurelia-api","../services/identityService","../domain/editSupplierStatus"],function(e,t,i,a,o,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,i){this.config=e,this.client=t,this.service=i,this.api=this.config.getEndpoint("csz")}return e.prototype.uploadSocialContract=function(e,t){var i=this;this.client.configure(function(e){e.withBaseUrl(i.api.client.baseUrl)}),this.client.defaults.headers={};var a=new Headers;return a.append("Accept","application/json"),this.client.fetch("uploadSupplierContractSocial?supplierId="+t,{method:"POST",body:e,headers:a}).then(function(e){if(200!=e.status)throw"Erro";return e}).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.updateStatus=function(e,t){var i=new s.EditSupplierStatus;return i.supplierId=e,i.status=t,this.api.post("supplierStatus",i).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.get=function(e){return this.api.find("supplier?supplierId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getSupplier=function(){return this.api.find("supplier").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAllSuppliers=function(){return this.api.find("allSuppliers").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.save=function(e){return this.api.post("supplier",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.addProduct=function(e){return this.api.post("supplierProduct",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[o.Config,a.HttpClient,r.IdentityService])],e)}();t.SupplierRepository=n});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/supplierConnectionRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getSuggestedSuppliers=function(){return this.api.find("suggestedSupplier").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.connect=function(e){return this.api.post("supplierConnection",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.block=function(e){return this.api.post("blockSupplierConnection",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.unblock=function(e){return this.api.post("unblockSupplierConnection",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMySuppliers=function(){return this.api.find("mySuppliers").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMyBlockedSuppliers=function(){return this.api.find("myBlockedSuppliers").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAllSuppliers=function(){return this.api.find("foodServiceSuppliers").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.SupplierConnectionRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/notificationRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getAll=function(){return this.api.find("notification").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.updateUnseen=function(e){return this.api.post("seenNotification",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.NotificationRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/marketRuleRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getRule=function(e){return this.api.find("marketRule?userId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.save=function(e){return this.api.post("MarketRule",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.MarketRuleRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/orderRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.createOrder=function(e){return this.api.post("Order",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMyNewOrders=function(){return this.api.find("MyNewOrders").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMyAcceptedOrders=function(){return this.api.find("MyAcceptedOrders").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMyRejectedOrders=function(){return this.api.find("MyRejectedOrders").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMyDeliveredOrders=function(){return this.api.find("MyDeliveredOrders").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.acceptOrder=function(e){return this.api.post("acceptOrder",{id:e.id,deliveryDate:e.deliveryDate,paymentDate:e.paymentDate}).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.rejectOrder=function(e){return this.api.post("rejectOrder",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.OrderRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/financeRepository",["require","exports","aurelia-api","aurelia-dependency-injection"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getControls=function(){return this.api.find("invoiceControl").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.generateInvoices=function(e){return this.api.post("invoice",{dateReference:e.dateReference}).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.saveInvoice=function(e){return this.api.post("editInvoice",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([a.autoinject,__metadata("design:paramtypes",[i.Config])],e)}();t.FinanceRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/productRepository",["require","exports","../services/identityService","aurelia-framework","aurelia-api","aurelia-fetch-client"],function(e,t,i,a,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){this.config=e,this.client=t,this.service=i,this.api=this.config.getEndpoint("csz")}return e.prototype.addOrUpdate=function(e){return this.api.post("product",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAllCategories=function(){return this.api.find("productCategory").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAllClasses=function(){return this.api.find("productClass").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAllProductsByCategory=function(e){return this.api.find("productSearch?categoryId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAllProducts=function(){return this.api.find("product").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getOfferedProducts=function(e){return this.api.find("productByCategory?categoryId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.addSuplierProduct=function(e){return this.api.post("SupplierProduct",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAllSuplierProducts=function(e){return this.api.find("supplierProduct?categoryId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.alterSuplierProduct=function(e){var i=[];return e.forEach(function(e){var t={id:e.id,isActive:e.isActive,price:e.price};i.push(t)}),this.api.post("AlterSuplierProduct",i).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.uploadFile=function(e){var t=this;this.client.configure(function(e){e.withBaseUrl(t.api.client.baseUrl)}),this.client.defaults.headers={};var i=new Headers;i.append("Accept","application/json");var a=this.service.getIdentity().id;return this.client.fetch("uploadSupplierProducts?userId="+a,{method:"POST",body:e,headers:i}).then(function(e){if(200!=e.status)throw"Erro";return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getAllSuplierProductFiles=function(){return this.api.find("supplierProductFile").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([a.autoinject,__metadata("design:paramtypes",[o.Config,r.HttpClient,i.IdentityService])],e)}();t.ProductRepository=s});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/simulationRepository",["require","exports","../services/identityService","aurelia-framework","aurelia-api","aurelia-fetch-client"],function(e,t,i,a,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){this.config=e,this.client=t,this.service=i,this.api=this.config.getEndpoint("csz")}return e.prototype.timeout=function(i,a){return new Promise(function(e,t){setTimeout(function(){t(new Error("timeout"))},i),a.then(e,t)})},e.prototype.simulate=function(e){return this.api.post("simulation",e).then(function(e){return null==e?Promise.resolve():e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw console.log(e),e}))})},e.prototype.getCotacaoFromOrder=function(e){return this.api.find("cotacaoParcial?orderId="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([a.autoinject,__metadata("design:paramtypes",[o.Config,r.HttpClient,i.IdentityService])],e)}();t.SimulationRepository=s});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/loginRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.login=function(e){return this.api.post("login",e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.LoginRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/priceListRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getAll=function(){return this.api.find("priceList").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.PriceListRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/unitOfMeasurementRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getAll=function(){return this.api.find("unitOfMeasurement").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.UnitOfMeasurementRepository=o}),define("validators/foodServiceValidator",["require","exports","./contactValidator","./addressValidator"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.foodService=e,this.errorMessages=new Array,null!=this.foodService&&null!=this.foodService.address&&(this.addressValidator=new a.AddressValidator(this.foodService.address)),null!=this.foodService&&null!=this.foodService.contact&&(this.contactValidator=new i.ContactValidator(this.foodService.contact)),this.validate()}return e.prototype.validate=function(){var t=this;return this.errorMessages=[],this.addressValidator.validate().forEach(function(e){t.errorMessages.push(e)}),this.contactValidator.validate().forEach(function(e){t.errorMessages.push(e)}),this.validateName(),this.validateInscricaoEstadual(),this.errorMessages},e.prototype.validateName=function(){null==this.foodService.name||0==this.foodService.name.length?(this.errorMessages.push("O nome do fornecedor é obrigatório"),this.isNameInvalid=!0):this.isNameInvalid=!1},e.prototype.validateInscricaoEstadual=function(){null==this.foodService.inscricaoEstadual||""==this.foodService.inscricaoEstadual?(this.errorMessages.push("A inscrição estadual é obrigatória"),this.isInscricaoEstadualInvalid=!0):this.isInscricaoEstadualInvalid=!1},e}();t.FoodServiceValidator=o}),define("validators/supplierValidator",["require","exports","./contactValidator","./addressValidator"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.supplier=e,this.errorMessages=new Array,this.addressValidator=new a.AddressValidator(this.supplier.address),this.contactValidator=new i.ContactValidator(this.supplier.contact),this.validate()}return e.prototype.validate=function(){var t=this;return this.errorMessages=[],this.addressValidator.validate().forEach(function(e){t.errorMessages.push(e)}),this.contactValidator.validate().forEach(function(e){t.errorMessages.push(e)}),this.validateName(),this.validateInscricaoEstadual(),this.errorMessages},e.prototype.validateName=function(){null==this.supplier.name||0==this.supplier.name.length?(this.errorMessages.push("O nome do fornecedor é obrigatório"),this.isNameInvalid=!0):this.isNameInvalid=!1},e.prototype.validateInscricaoEstadual=function(){null==this.supplier.inscricaoEstadual||""==this.supplier.inscricaoEstadual?(this.errorMessages.push("A inscrição estadual é obrigatória"),this.isInscricaoEstadualInvalid=!0):this.isInscricaoEstadualInvalid=!1},e}();t.SupplierValidator=o}),define("validators/contactValidator",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.contact=e,this.errorMessages=new Array,this.validate()}return e.prototype.validate=function(){return this.errorMessages=[],null!=this.contact&&(this.validateName(),this.validatePhone(),this.validateEmail()),this.errorMessages},e.prototype.validateName=function(){null==this.contact.name||0==this.contact.name.length?(this.errorMessages.push("O nome do contato é obrigatório"),this.isNameInvalid=!0):this.isNameInvalid=!1},e.prototype.validatePhone=function(){null==this.contact.phone||(""+this.contact.phone).length<10?(this.errorMessages.push("O telefone do contato é obrigatório"),this.isPhoneInvalid=!0):this.isPhoneInvalid=!1},e.prototype.validateEmail=function(){null==this.contact.email||this.contact.email.length<=10?(this.errorMessages.push("O telefone do contato é obrigatório"),this.isEmailInvalid=!0):this.validateEmailString(this.contact.email)?this.isEmailInvalid=!1:(this.errorMessages.push("O e-mail digitado é invalido"),this.isEmailInvalid=!0)},e.prototype.validateEmailString=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},e}();t.ContactValidator=i}),define("validators/addressValidator",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.address=e,this.errorMessages=new Array,this.validate()}return e.prototype.validate=function(){return this.errorMessages=[],null!=this.address&&(this.validateCep(),this.validateLogradouro(),this.validateNumber(),this.validateNeighborhood(),this.validateCity(),this.validateState()),this.errorMessages},e.prototype.validateCep=function(){null==this.address.cep||this.address.cep.length<8?(this.errorMessages.push("O cep do endereço é obrigatório"),this.isCepInvalid=!0):this.isCepInvalid=!1},e.prototype.validateLogradouro=function(){null==this.address.logradouro||this.address.logradouro.length<3?(this.errorMessages.push("O logradouro do endereço é obrigatório"),this.isLogradouroInvalid=!0):this.isLogradouroInvalid=!1},e.prototype.validateNumber=function(){null==this.address.number||""+this.address.number==""||this.address.number<=0?(this.errorMessages.push("O número do endereço é obrigatório"),this.isNumberInvalid=!0):this.isNumberInvalid=!1},e.prototype.validateNeighborhood=function(){null==this.address.neighborhood||0==this.address.neighborhood.length?(this.errorMessages.push("O bairro do endereço é obrigatório"),this.isNeighborhoodInvalid=!0):this.isNeighborhoodInvalid=!1},e.prototype.validateCity=function(){null==this.address.city||0==this.address.city.length?(this.errorMessages.push("A cidade do endereço é obrigatório"),this.isCityInvalid=!0):this.isCityInvalid=!1},e.prototype.validateState=function(){null==this.address.state||0==this.address.state.length?(this.errorMessages.push("O estado do endereço é obrigatório"),this.isStateInvalid=!0):this.isStateInvalid=!1},e}();t.AddressValidator=i}),define("validators/marketRuleValidator",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.rule=e,this.errorMessages=new Array,this.validate()}return e.prototype.validate=function(){return this.errorMessages=[],this.validateMinimumOrderValue(),this.validateNumberOfDaysToAccept(),this.validatePeriodToAcceptOrder1(),this.validatePeriodToAcceptOrder2(),this.validateDeliverySchedule1(),this.validateDeliverySchedule2(),this.validateReceiverNewClient(),this.validateReceiverNewOrder(),this.errorMessages},e.prototype.validateReceiverNewClient=function(){!this.rule.sendNotificationToNewClient||null!=this.rule.receiverNewClient&&""!=this.rule.receiverNewClient||(this.errorMessages.push("O e-mail do destinatário em caso de novo cliente está em branco"),this.isReceiverNewClientInvalid=!0)},e.prototype.validateReceiverNewOrder=function(){!this.rule.sendNotificationToNewOrder||null!=this.rule.receiverNewOrder&&""!=this.rule.receiverNewOrder||(this.errorMessages.push("O e-mail do destinatário em caso de novo pedido está em branco"),this.isReceiverNewClientInvalid=!0)},e.prototype.validateMinimumOrderValue=function(){null==this.rule.minimumOrderValue||""+this.rule.minimumOrderValue==""?(this.errorMessages.push("O valor mínimo do pedido é obrigatório"),this.isMinimumOrderValueInvalid=!0):this.rule.minimumOrderValue<=0?(this.errorMessages.push("O valor mínimo do pedido deve ser maior que zero"),this.isMinimumOrderValueInvalid=!0):this.isMinimumOrderValueInvalid=!1},e.prototype.validateNumberOfDaysToAccept=function(){null==this.rule.numberOfDaysToAccept||""+this.rule.numberOfDaysToAccept==""?(this.errorMessages.push("A quantidade de dias para aceite do pedido é obrigatória"),this.isnumberOfDaysToAcceptInvalid=!0):this.rule.numberOfDaysToAccept<=0?(this.errorMessages.push("A quantidade de dias para aceite do pedido deve ser maior que zero"),this.isnumberOfDaysToAcceptInvalid=!0):this.isnumberOfDaysToAcceptInvalid=!1},e.prototype.validatePeriodToAcceptOrder1=function(){null==this.rule.periodToAcceptOrder1||""+this.rule.periodToAcceptOrder1==""?(this.errorMessages.push("O período inicial de aceite é obrigatório"),this.isPeriodToAcceptOrder1Invalid=!0):1800<this.rule.periodToAcceptOrder1?(this.errorMessages.push("O período inicial de aceite é inválido"),this.isPeriodToAcceptOrder1Invalid=!0):this.isPeriodToAcceptOrder1Invalid=!1},e.prototype.validatePeriodToAcceptOrder2=function(){null==this.rule.periodToAcceptOrder2||""+this.rule.periodToAcceptOrder2==""?(this.errorMessages.push("O período final de aceite é obrigatório"),this.isPeriodToAcceptOrder2Invalid=!0):2400<this.rule.periodToAcceptOrder2?(this.errorMessages.push("O período final  de aceite é inválido"),this.isPeriodToAcceptOrder2Invalid=!0):this.isPeriodToAcceptOrder2Invalid=!1},e.prototype.validateDeliverySchedule1=function(){null==this.rule.deliverySchedule1||""+this.rule.deliverySchedule1==""?(this.errorMessages.push("O horário inicial de entrega é obrigatório"),this.isDeliverySchedule1Invalid=!0):1800<this.rule.deliverySchedule1?(this.errorMessages.push("O horário inicial de entrega é inválido"),this.isDeliverySchedule1Invalid=!0):this.isDeliverySchedule1Invalid=!1},e.prototype.validateDeliverySchedule2=function(){null==this.rule.deliverySchedule2||""+this.rule.deliverySchedule2==""?(this.errorMessages.push("O horário final de entrega é obrigatório"),this.isDeliverySchedule2Invalid=!0):2400<this.rule.deliverySchedule1?(this.errorMessages.push("O horário final de entrega é inválido"),this.isDeliverySchedule2Invalid=!0):this.isDeliverySchedule2Invalid=!1},e}();t.MarketRuleValidator=i});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/forgotMyPassword",["require","exports","../services/notificationService","../services/scriptRunner","../services/identityService","../repositories/loginRepository","aurelia-framework","aurelia-router","aurelia-event-aggregator","../repositories/userRepository","jquery","popper.js","bootstrap","mdbootstrap","velocity-animate","velocity","custom-scrollbar","jquery-visible","ie10-viewport"],function(e,t,i,a,o,r,s,n,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,i,a,o,r,s){this.router=e,this.aurelia=t,this.loginRepository=i,this.userRepository=a,this.service=o,this.ea=r,this.nService=s,this.isLoading=!1,this.wasReseted=!1}return e.prototype.activate=function(e){},e.prototype.attached=function(){o.IdentityService.identity?this.router.navigateToRoute("login"):window.setTimeout(function(){return a.ScriptRunner.runScript()},10)},e.prototype.resetPassword=function(){var t=this;null==this.email||""==this.email?this.nService.presentError("O e-mail é obrigatório"):(this.isLoading=!0,this.userRepository.resetPassword(this.email).then(function(){t.isLoading=!1,t.wasReseted=!0}).catch(function(e){t.nService.error(e),t.isLoading=!1,t.wasReseted=!1}))},e=__decorate([s.autoinject,__metadata("design:paramtypes",[n.Router,s.Aurelia,r.LoginRepository,c.UserRepository,o.IdentityService,l.EventAggregator,i.NotificationService])],e)}();t.ForgotMyPassword=d});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/confirmInvite",["require","exports","../services/notificationService","../services/scriptRunner","../services/identityService","../repositories/loginRepository","aurelia-framework","aurelia-router","aurelia-event-aggregator","../repositories/userRepository","../domain/userStatus","../domain/confirmInviteViewModel","jquery","popper.js","bootstrap","mdbootstrap","velocity-animate","velocity","custom-scrollbar","jquery-visible","ie10-viewport"],function(e,t,i,a,o,r,s,n,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t,i,a,o,r,s){this.router=e,this.aurelia=t,this.loginRepository=i,this.userRepository=a,this.service=o,this.ea=r,this.nService=s,this.processing=!1,this.isLoading=!0,this.invite=new u.ConfirmInviteViewModel}return e.prototype.activate=function(e){null!=e&&e.userId?this.userId=e.userId:this.router.navigateToRoute("login")},e.prototype.attached=function(){o.IdentityService.identity?this.router.navigateToRoute("login"):this.loadData()},e.prototype.loadData=function(){var t=this;this.userRepository.getUser(this.userId).then(function(e){e.status==d.UserStatus.WaitingToConfirmInvite||e.status==d.UserStatus.WaitingToConfirmPassword?(t.user=e,t.isLoading=!1,a.ScriptRunner.runScript()):t.router.navigateToRoute("login")}).catch(function(e){t.nService.error(e),t.processing=!1})},e.prototype.save=function(){var t=this;this.invite.userId=this.userId,this.invite.password!=this.invite.confirmPassword?this.nService.presentError("A senha e a confirmação de senha são diferentes"):(this.processing=!0,this.userRepository.confirmInvite(this.invite).then(function(e){t.processing=!1,t.router.navigateToRoute("login")}).catch(function(e){t.nService.error(e),t.processing=!1}))},e=__decorate([s.autoinject,__metadata("design:paramtypes",[n.Router,s.Aurelia,r.LoginRepository,c.UserRepository,o.IdentityService,l.EventAggregator,i.NotificationService])],e)}();t.Login=p});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/welcome",["require","exports","aurelia-router","aurelia-event-aggregator","aurelia-dependency-injection","../services/identityService","../services/scriptRunner","../services/notificationService","aurelia-framework","../repositories/loginRepository","../repositories/userRepository","aurelia-validation","../domain/welcomeUser","./formValidationRenderer","jquery-visible","popper.js","bootstrap","velocity-animate"],function(e,t,i,a,o,r,s,n,l,c,d,u,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t,i,a,o,r,s,n,l){this.router=e,this.aurelia=t,this.validationControllerFactory=i,this.loginRepository=a,this.userRepository=o,this.notification=r,this.service=s,this.ea=n,this.nService=l,this.user=new p.WelcomeUser,this.user.selectedType="0",this.wasCreated=!1,this.isLoading=!1,this.validationController=this.validationControllerFactory.createForCurrentScope(),this.validationController.addRenderer(new f.FormValidationRenderer),this.validationController.validateTrigger=u.validateTrigger.blur,this.validationController.addObject(this.user)}return e.prototype.attached=function(){window.setTimeout(function(){return s.ScriptRunner.runScript()},10)},e.prototype.activate=function(e){u.ValidationRules.ensure(function(e){return e.contactName}).displayName("Nome").required().ensure(function(e){return e.email}).displayName("E-mail").required().ensure(function(e){return e.commercialPhone}).displayName("Telefone").required().ensure(function(e){return e.companyName}).displayName("Razão Social").required().ensure(function(e){return e.selectedType}).displayName("Tipo").required().on(this.user)},e.prototype.save=function(){var t=this;this.validationController.validate().then(function(e){e.valid?(t.isLoading=!0,t.userRepository.createNew(t.user).then(function(){t.notification.success("Cadastro realizado com sucesso!"),t.wasCreated=!0}).catch(function(e){t.isLoading=!1,t.notification.presentError(e)})):(t.isLoading=!1,t.notification.error("Erros de validação foram encontrados"))})},e=__decorate([o.autoinject,__metadata("design:paramtypes",[i.Router,l.Aurelia,u.ValidationControllerFactory,c.LoginRepository,d.UserRepository,n.NotificationService,r.IdentityService,a.EventAggregator,n.NotificationService])],e)}();t.Welcome=v});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/login",["require","exports","../services/notificationService","../services/scriptRunner","../services/identityService","../repositories/loginRepository","aurelia-framework","aurelia-router","aurelia-event-aggregator","jquery","popper.js","bootstrap","mdbootstrap","velocity-animate","velocity","custom-scrollbar","jquery-visible","ie10-viewport"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a,o,r){this.router=e,this.aurelia=t,this.loginRepository=i,this.service=a,this.ea=o,this.nService=r,this.processing=!1}return e.prototype.doLogin=function(){var t=this;this.processing=!0,this.loginRepository.login(this.credential).then(function(e){t.service.setIdentity(e),t.ea.publish("loginDone"),t.router.navigateToRoute("csz")}).catch(function(e){t.nService.error(e),t.processing=!1})},e.prototype.attached=function(){a.ScriptRunner.runScript(),o.IdentityService.identity&&(this.ea.publish("loginDone"),this.router.navigateToRoute("csz"))},e=__decorate([s.autoinject,__metadata("design:paramtypes",[n.Router,s.Aurelia,r.LoginRepository,o.IdentityService,l.EventAggregator,i.NotificationService])],e)}();t.Login=c});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/master",["require","exports","aurelia-pal","aurelia-event-aggregator","aurelia-dependency-injection","../services/identityService","../services/scriptRunner","../domain/userType","../repositories/foodServiceConnectionRepository","../services/notificationService","../repositories/notificationRepository","../repositories/orderRepository","../services/messageService","jquery-visible","popper.js","bootstrap","velocity-animate"],function(e,t,i,a,o,r,s,n,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i,a,o,r,s,n){var l=this;this.service=e,this.nService=t,this.notificationRepository=i,this.identityService=a,this.orderRepo=o,this.messageService=r,this.connRepository=s,this.ea=n,this.isLoadingOrders=!0,this.isloadingFoodServices=!0,this.ea.subscribe("loadingData",function(){l.isLoading=!0}),this.ea.subscribe("dataLoaded",function(){window.setTimeout(function(){return l.isLoading=!1},500)})}return e.prototype.attached=function(){s.ScriptRunner.runScript(),this.isLogged=this.service.isLogged(),this.identity=this.service.getIdentity(),this.load()},e.prototype.load=function(){var t=this;this.notifications=[],this.unSeenCount=0,this.isLogged=this.service.isLogged(),this.ea.subscribe("loginDone",function(){t.isLogged=t.service.isLogged(),t.identity=t.service.getIdentity(),s.ScriptRunner.runScript()}),this.ea.subscribe("loadingData",function(){t.isLoading=!0}),this.ea.subscribe("dataLoaded",function(){window.setTimeout(function(){return t.isLoading=!1},500)}),this.isLogged&&(this.identity=this.service.getIdentity()),this.isLogged&&(this.getNotifications(),this.ea.subscribe("newOrder",function(){t.newOrdersCount++}),this.ea.subscribe("orderAccepted",function(){t.newOrdersCount--,t.acceptedOrdersCount++}),this.ea.subscribe("orderRejected",function(){t.newOrdersCount--,t.rejectedOrdersCount++}),this.ea.subscribe("orderFinished",function(){t.acceptedOrdersCount--}),this.ea.subscribe("newNotification",function(e){t.notifications.unshift(e),t.updateUnSeenCount(),t.ea.publish(e.eventName,e.body),t.identity.type==n.UserType.Supplier&&t.loadFoodServiceConnections()}),this.identity.type!=n.UserType.Admin&&this.getOrders(),this.identity.type==n.UserType.FoodService&&this.ea.subscribe("registrationSent",function(){return t.loadFoodServiceConnections()}),this.identity.type==n.UserType.Supplier&&(this.loadFoodServiceConnections(),this.ea.subscribe("registrationSent",function(){return t.loadFoodServiceConnections()}),this.ea.subscribe("foodApproved",function(){return t.loadFoodServiceConnections()}),this.ea.subscribe("registrationRejected",function(){return t.loadFoodServiceConnections()}))),this.identity.type==n.UserType.Supplier?(this.router.navigateToRoute("dashboardFornecedor"),this.ea.subscribe("registrationRejected",function(){return t.loadFoodServiceConnections()})):this.identity.type==n.UserType.FoodService&&this.router.navigateToRoute("dashboardFoodService")},e.prototype.loadFoodServiceConnections=function(){var t=this,e=this.connRepository.getSuppliers(0).then(function(e){t.novoFoodServices=e}).catch(function(e){t.nService.presentError(e)}),i=this.connRepository.getSuppliers(1).then(function(e){t.waitingFoodServices=e}).catch(function(e){t.nService.presentError(e)});Promise.all([e,i]).then(function(){return t.isloadingFoodServices=!1})},e.prototype.getNotifications=function(){var t=this;this.notificationRepository.getAll().then(function(e){t.notifications=e,t.messageService.subscribe(),t.updateUnSeenCount()}).catch(function(e){t.nService.presentError(e)})},e.prototype.getOrders=function(){var t=this,e=this.orderRepo.getMyNewOrders().then(function(e){t.newOrdersCount=e.length}).catch(function(e){t.nService.presentError(e)}),i=this.orderRepo.getMyAcceptedOrders().then(function(e){t.acceptedOrdersCount=e.length}).catch(function(e){t.nService.presentError(e)}),a=this.orderRepo.getMyRejectedOrders().then(function(e){t.rejectedOrdersCount=e.length}).catch(function(e){t.nService.presentError(e)});Promise.all([e,i,a]).then(function(){return t.isLoadingOrders=!1})},e.prototype.updateUnSeenCount=function(){null!=this.notifications&&(this.unSeenCount=this.notifications.filter(function(e){return!e.wasSeen}).length)},e.prototype.canActivate=function(e,t,i){return this.service.isLogged()},e.prototype.configureRouter=function(e,t){e.title="",this.router=t,this.addRoutes(e,t)},e.prototype.updateNotifications=function(){var t=this;if(0<this.unSeenCount){var i=new Array,e=this.notifications.filter(function(e){return!e.wasSeen});e.forEach(function(e){i.push(e.id)}),this.notificationRepository.updateUnseen(i).then(function(){t.unSeenCount=0,e.forEach(function(e){e.wasSeen=!0})}).catch(function(e){t.nService.presentError(e)})}},e.prototype.addRoutes=function(e,t){this.identity=this.service.getIdentity(),null==this.identity||this.identity.type==n.UserType.Admin?e.map([{route:"",redirect:"dashboard"},{route:"dashboard",name:"dashboard",moduleId:i.PLATFORM.moduleName("./dashboard")}]):this.identity.type==n.UserType.Supplier?e.map([{route:"",redirect:"dashboard"},{route:"dashboard",name:"dashboard",moduleId:i.PLATFORM.moduleName("./fornecedor/dashboard")}]):this.identity.type==n.UserType.FoodService&&e.map([{route:"",redirect:"dashboard"},{route:"dashboard",name:"dashboard",moduleId:i.PLATFORM.moduleName("./foodService/dashboard")}]),e.map([{route:"dashboardFornecedor",name:"dashboardFornecedor",moduleId:i.PLATFORM.moduleName("./fornecedor/dashboard")},{route:"cadastro",name:"cadastro",moduleId:i.PLATFORM.moduleName("./cadastro")},{route:"produtos",name:"produtos",moduleId:i.PLATFORM.moduleName("./produtos")},{route:"regrasDeMercado",name:"regrasDeMercado",moduleId:i.PLATFORM.moduleName("./regrasDeMercado")},{route:"login",name:"login",moduleId:i.PLATFORM.moduleName("./login")},{route:"dashboardFoodService",name:"dashboardFoodService",moduleId:i.PLATFORM.moduleName("./foodService/dashboard")},{route:"cadastroFoodService",name:"cadastroFoodService",moduleId:i.PLATFORM.moduleName("./foodService/cadastro")},{route:"fornecedores",name:"fornecedores",moduleId:i.PLATFORM.moduleName("./foodService/fornecedores")},{route:"meusProdutos",name:"meusProdutos",moduleId:i.PLATFORM.moduleName("./foodService/meusProdutos")},{route:"clientes",name:"clientes",moduleId:i.PLATFORM.moduleName("./fornecedor/clientes")},{route:"cotacao",name:"cotacao",moduleId:i.PLATFORM.moduleName("./cotacao/cotacao")},{route:"pedidosFornecedor",name:"pedidosFornecedor",moduleId:i.PLATFORM.moduleName("./cotacao/pedidosFornecedor")},{route:"pedidosFoodService",name:"pedidosFoodService",moduleId:i.PLATFORM.moduleName("./foodService/pedidosFoodService")},{route:"produtosAdmin",name:"produtosAdmin",moduleId:i.PLATFORM.moduleName("./admin/product/listProduct")},{route:"suppliersAdmin",name:"suppliersAdmin",moduleId:i.PLATFORM.moduleName("./admin/supplier/listSuppliers")},{route:"foodServicesAdmin",name:"foodServicesAdmin",moduleId:i.PLATFORM.moduleName("./admin/foodService/listFoodServices")},{route:"editSupplierAdmin",name:"editSupplierAdmin",moduleId:i.PLATFORM.moduleName("./admin/supplier/editSupplier")},{route:"editFoodServiceAdmin",name:"editFoodServiceAdmin",moduleId:i.PLATFORM.moduleName("./admin/foodService/editFoodService")},{route:"avaliacoes",name:"avaliacoes",moduleId:i.PLATFORM.moduleName("./admin/supplier/evaluations")},{route:"avaliacoesFornecedor",name:"avaliacoesFornecedor",moduleId:i.PLATFORM.moduleName("./fornecedor/evaluations")},{route:"avaliacoesFoodService",name:"avaliacoesFoodService",moduleId:i.PLATFORM.moduleName("./foodService/evaluations")},{route:"financeiro",name:"financeiro",moduleId:i.PLATFORM.moduleName("./admin/finance/listInvoice")}]),e.mapUnknownRoutes({route:null,redirect:"/"})},e.prototype.logout=function(){this.identityService.resetIdentity(),window.location.assign("/")},e=__decorate([o.autoinject,__metadata("design:paramtypes",[r.IdentityService,c.NotificationService,d.NotificationRepository,r.IdentityService,u.OrderRepository,p.MessageService,l.FoodServiceConnectionRepository,a.EventAggregator])],e)}();t.Master=f});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/dashboard",["require","exports","aurelia-framework","aurelia-api","jquery","popper.js","bootstrap","mdbootstrap","velocity-animate","velocity","custom-scrollbar","jquery-visible","ie10-viewport"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.aurelia=e,this.config=t,this.api=this.config.getEndpoint("csz")}return e.prototype.attached=function(){},e=__decorate([i.autoinject,__metadata("design:paramtypes",[i.Aurelia,a.Config])],e)}();t.App=o}),define("views/formValidationRenderer",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.render=function(r){for(var e=function(t,e){if(t.valid||r.render.find(function(e){return!1===e.result.valid&&e.result.propertyName===t.propertyName}))return"continue";for(var i=0,a=e;i<a.length;i++){var o=a[i];s.remove(o,t)}},s=this,t=0,i=r.unrender;t<i.length;t++){var a=i[t];e(c=a.result,d=a.elements)}for(var o=0,n=r.render;o<n.length;o++){var l=n[o],c=l.result,d=l.elements;if(!c.valid)for(var u=0,p=d;u<p.length;u++){var f=p[u];this.add(f,c)}}},e.prototype.add=function(e,t){var i=e.closest(".form-group");i&&!i.classList.contains("has-danger")&&(i.classList.add("has-danger"),i.firstElementChild.classList.add("text-danger"),e.classList.add("border-danger"),this.setAttributes(e,{"data-toggle":"popover","data-content":t.message,"data-placement":"top","data-trigger":"hover"}),$(e).popover())},e.prototype.remove=function(e,t){var i=e.closest(".form-group");i&&(i.classList.remove("has-danger"),i.firstElementChild.classList.remove("text-danger"),e.classList.remove("border-danger"),this.removeAttributes(e,{"data-toggle":"popover","data-placement":"top","data-content":t.message,"data-trigger":"hover"}),$(e).popover("dispose"))},e.prototype.setAttributes=function(e,t){for(var i in t)e.setAttribute(i,t[i])},e.prototype.removeAttributes=function(e,t){for(var i in t)e.removeAttribute(i,t[i])},e}();t.FormValidationRenderer=i});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/cadastro",["require","exports","../validators/supplierValidator","../services/consultaCEPService","../repositories/stateRegistrationRepository","../domain/stateRegistration","../services/notificationService","../services/identityService","../repositories/supplierRepository","aurelia-framework","aurelia-router","aurelia-event-aggregator","../domain/address","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,a,i,o,r,s,n,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i,a,o,r,s){this.router=e,this.repository=t,this.ea=i,this.service=a,this.nService=o,this.stateRepo=r,this.consultaCepService=s,this.currentStep=1,this.totalSteps=3,this.isLoading=!1}return e.prototype.runScript=function(){var o="#rootwizard-1";if($(o).length){$(".pager li a, .pager li span").on("click",function(e){e.preventDefault()});var a=$(o+" .tab-pane").length;$(o).bootstrapWizard({onNext:function(e,t,i){i<=a&&($(o+" .tab-pane").eq(i).addClass("active"),$(o+" .tab-pane").eq(i-1).removeClass("active"))},onPrevious:function(e,t,i){-1!==i&&($(o+" .tab-pane").eq(i).addClass("active"),$(o+" .tab-pane").eq(i+1).removeClass("active"))},onTabShow:function(e,t,i){var a=(i+1)/t.find("li").length*100;$(o).closest(".card").find(".card-header .progress-bar").css({width:a+"%"}).attr("aria-valuenow",a)},onTabClick:function(e,t,i){return!1}})}},e.prototype.attached=function(){this.ea.publish("loadingData"),this.runScript(),this.loadData()},e.prototype.loadData=function(){var t=this,e=(this.service.getIdentity(),this.repository.getSupplier().then(function(e){t.supplier=e,null==t.supplier.address&&(t.supplier.address=new p.Address),null==t.supplier.stateRegistration&&(t.supplier.stateRegistration=new r.StateRegistration),t.validator=new a.SupplierValidator(t.supplier)}).catch(function(e){t.nService.presentError(e)})),i=this.stateRepo.getAll().then(function(e){t.stateRegistrations=e}).catch(function(e){t.nService.presentError(e)});Promise.all([e,i]).then(function(){return t.ea.publish("dataLoaded")})},e.prototype.consultaCEP=function(){var t=this;this.validator.addressValidator.validateCep(),8<=this.supplier.address.cep.length&&this.consultaCepService.findCEP(this.supplier.address.cep).then(function(e){null!=e&&(t.supplier.address.city=e.localidade,t.supplier.address.neighborhood=e.bairro,t.supplier.address.number=null,t.supplier.address.logradouro=e.logradouro,t.supplier.address.complement=e.complemento,t.supplier.address.state=e.uf,t.validator.validate())}).catch(function(e){t.nService.presentError(e)})},e.prototype.advance=function(){this.currentStep++},e.prototype.back=function(){this.currentStep--},e.prototype.save=function(){var t=this;this.isLoading=!0;var e=this.validator.validate();0==e.length?(this.supplier.stateRegistration=this.stateRegistrations.filter(function(e){return e.id==t.supplier.stateRegistration.id})[0],this.repository.save(this.supplier).then(function(e){t.nService.success("Cadastro realizado!"),t.router.navigate("/#/cadastro"),t.isLoading=!1}).catch(function(e){t.nService.error(e),t.isLoading=!1})):(this.isLoading=!1,e.forEach(function(e){t.nService.error(e)}))},e=__decorate([c.autoinject,__metadata("design:paramtypes",[d.Router,l.SupplierRepository,u.EventAggregator,n.IdentityService,s.NotificationService,o.StateRegistrationRepository,i.ConsultaCEPService])],e)}();t.Cadastro=f});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/produtos",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator","twitter-bootstrap-wizard","jquery-mask-plugin"],function(e,t,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.router=e,this.ea=t,this.productAddedCount=0,this.ea.publish("loadingData")}return e.prototype.attached=function(){var t=this;this.ea.subscribe("newProductsUpdated",function(e){t.productAddedCount=e}),this.ea.subscribe("selecaoDeProdutosLoaded",function(){t.selecaoDeProdutosLoaded=!0,t.selecaoDeProdutosLoaded&&t.historicoDeImportacaoLoaded&&t.listaDePrecosLoaded&&t.atualizacaoDePrecosLoaded&&t.ea.publish("dataLoaded")}),this.ea.subscribe("historicoDeImportacaoLoaded",function(){t.historicoDeImportacaoLoaded=!0,t.selecaoDeProdutosLoaded&&t.historicoDeImportacaoLoaded&&t.listaDePrecosLoaded&&t.atualizacaoDePrecosLoaded&&t.ea.publish("dataLoaded")}),this.ea.subscribe("listaDePrecosLoaded",function(){t.listaDePrecosLoaded=!0,t.selecaoDeProdutosLoaded&&t.historicoDeImportacaoLoaded&&t.listaDePrecosLoaded&&t.atualizacaoDePrecosLoaded&&t.ea.publish("dataLoaded")}),this.ea.subscribe("atualizacaoDePrecosLoaded",function(){t.atualizacaoDePrecosLoaded=!0,t.selecaoDeProdutosLoaded&&t.historicoDeImportacaoLoaded&&t.listaDePrecosLoaded&&t.atualizacaoDePrecosLoaded&&t.ea.publish("dataLoaded")})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator])],e)}();t.Produtos=r});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/regrasDeMercado",["require","exports","../validators/marketRuleValidator","../domain/marketRule","../repositories/marketRuleRepository","../services/notificationService","../services/identityService","aurelia-framework","aurelia-router","aurelia-event-aggregator","jquery-mask-plugin"],function(e,t,i,a,o,r,s,n,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,i,a,o){this.router=e,this.service=t,this.ea=i,this.nService=a,this.repository=o,this.isLoading=!1}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.loadData()},e.prototype.loadData=function(){var t=this,e=this.service.getIdentity();this.repository.getRule(e.id).then(function(e){t.rule=null==e?new a.MarketRule:e,t.validator=new i.MarketRuleValidator(t.rule),t.validator.validate()}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)})},e.prototype.save=function(){var t=this,e=this.validator.validate();this.rule.sendNotificationToNewOrder||(this.rule.receiverNewOrder=""),this.rule.sendNotificationToNewClient||(this.rule.receiverNewClient=""),0==e.length?(this.isLoading=!0,this.repository.save(this.rule).then(function(e){t.nService.success("Cadastro realizado!"),t.router.navigate("/#/dashboard"),t.isLoading=!1}).catch(function(e){t.nService.error(e),t.isLoading=!1})):e.forEach(function(e){t.nService.error(e)})},e=__decorate([n.autoinject,__metadata("design:paramtypes",[l.Router,s.IdentityService,c.EventAggregator,r.NotificationService,o.MarketRuleRepository])],e)}();t.RegrasDeMercado=d});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("services/messageService",["require","exports","./identityService","aurelia-framework","aurelia-event-aggregator","aurelia-api"],function(e,t,i,a,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i){this.service=e,this.ea=t,this.config=i,this.api=this.config.getEndpoint("csz")}return e.prototype.subscribe=function(){if(-1!=this.config.getEndpoint("csz").client.baseUrl.indexOf("https"))var e=this.config.getEndpoint("csz").client.baseUrl.replace("https://","").replace("/api/",""),t=new WebSocket("wss://"+e+"/hubs/foodServiceSupplierConnection");else e=this.config.getEndpoint("csz").client.baseUrl.replace("http://","").replace("/api/",""),t=new WebSocket("ws://"+e+"/hubs/foodServiceSupplierConnection");var a=this,i=this.service.getIdentity();t.onopen=function(){t.send('{ "protocol": "json", "version": 1 }'),console.log("Opened!"),t.send(JSON.stringify({type:1,invocationId:i.id,xonnectionId:i.id,target:"Register",arguments:[i.id],nonBlocking:!1})+"")},t.onmessage=function(e){var t;t=(t=e.data).replace("","");var i=JSON.parse(t);1==i.type&&a.ea.publish("newNotification",i.arguments[0])},t.onclose=function(e){console.log("Closed!")},t.onerror=function(e){console.log("Error!"),console.log(e)}},e=__decorate([a.autoinject,__metadata("design:paramtypes",[i.IdentityService,o.EventAggregator,r.Config])],e)}();t.MessageService=s});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("services/notificationService",["require","exports","toastr","aurelia-framework","aurelia-router"],function(e,t,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.router=e,this.aurelia=t,i.options={closeButton:!0,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut",positionClass:"toast-bottom-right",extendedTimeOut:0,timeOut:2e3}}return e.prototype.error=function(e){var t=this;null!=e.message?Array.isArray(e.message)?e.message.forEach(function(e){return t.presentError(e)}):this.presentError(e.message):this.presentError(e)},e.prototype.success=function(e){null!=e.message?this.presentSuccess(e.message):this.presentSuccess(e)},e.prototype.presentError=function(e){i.error(e,"Erro")},e.prototype.presentSuccess=function(e){i.success(e,"Sucesso")},e=__decorate([a.autoinject,__metadata("design:paramtypes",[o.Router,a.Aurelia])],e)}();t.NotificationService=r}),define("services/scriptRunner",["require","exports","velocity"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.runScript=function(){$(document).ready(function(){var a,e,t,l=(new Date).getTime(),c=(a={},function(e,t,i){i||(i="unique id"),a[i]&&clearTimeout(a[i]),a[i]=setTimeout(e,t)});function d(e,t){$("body").data("color-preset");$(e).mCustomScrollbar({autoHideScrollbar:!0,scrollbarPosition:"inside",theme:t,mouseWheel:{preventDefault:!0}})}!function(){$(".dropdown-menu a.dropdown-toggle").on("click",function(e){$(this).next().hasClass("show")||$(this).parents(".dropdown-menu").first().find(".show").removeClass("show");var t=$(this).next(".dropdown-menu");return t.toggleClass("show"),t.prev().toggleClass("show"),$(this).parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",function(e){$(".dropdown-submenu .show").removeClass("show")}),!1}),$(".btn-gradient").each(function(){var e=$(this),t='<span class="gradient">'+e.html()+"</span>";e.html(t)}),d(".card-media-list","dark"),$(".has-scroll").each(function(){d($(this),"dark")}),$(".card-header").each(function(){var e=$(this);40<e.height()&&e.find(".header-btn-block").css({top:"31px"})}),$("a.nav-parent").length&&$("a.nav-parent").on("click",function(e){var t=$(this);t.closest("li").hasClass("open")?(t.closest("li").removeClass("open"),t.siblings("ul.nav").velocity("slideUp",{easing:"easeOutCubic",duration:300,delay:0,complete:function(e){t.closest("li").find("li").removeClass("open"),t.closest("li").find("ul.nav").removeAttr("style")}})):(t.closest("li").addClass("open"),t.siblings("ul.nav").velocity("slideDown",{easing:"easeOutCubic",duration:300,delay:0,complete:function(e){}}),t.closest("li").siblings("li.nav-item.open").find("ul.nav").velocity("slideUp",{easing:"easeOutCubic",duration:300,delay:0,complete:function(e){$(this).removeAttr("style"),$(this).closest("li").removeClass("open")}}),t.closest("ul").siblings("ul.nav").find("ul.nav").velocity("slideUp",{easing:"easeOutCubic",duration:300,delay:0,complete:function(e){$(this).closest("li").removeClass("open"),$(this).closest("li").removeClass("open")}})),e.preventDefault()});var t="nav.sidebar";if($(t).length){var e=$(window).height();$(t).height(e),$(t).mCustomScrollbar("destroy"),d("nav.sidebar","light"),$(".sidebar > .mCustomScrollBox").before('<button class="hamburger hamburger--slider" type="button" data-target=".sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle Sidebar"><span class="hamburger-box"><span class="hamburger-inner"></span></span></button>'),$(window).resize(function(){c(function(){var e=$(window).height();$(t).height(e),$(t).mCustomScrollbar("destroy"),$(".sidebar .hamburger").remove(),d("nav.sidebar","light"),$(".sidebar > .mCustomScrollBox").before('<button class="hamburger hamburger--slider" type="button" data-target=".sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle Sidebar"><span class="hamburger-box"><span class="hamburger-inner"></span></span></button>')},500,"RandomUniqueString")})}$(document).on("click","button.hamburger",function(e){var t=$(".navbar-sidebar-horizontal").outerHeight();$(".sidebar-horizontal.fixed-top").css({top:t+"px"}),$(".hamburger").hasClass("is-active")?($(".hamburger").removeClass("is-active"),$("#sidebar").removeClass("open"),$(".sidebar-horizontal").slideUp().promise().always(function(){$(this).removeAttr("style")})):($(".hamburger").addClass("is-active"),$("#sidebar").addClass("open"),$(".sidebar-horizontal").slideDown()),e.preventDefault()}),$(".input-group .form-control").focus(function(){$(this).closest(".input-group").addClass("focus")}),$(".input-group .form-control").blur(function(){$(this).closest(".input-group").removeClass("focus")}),$('[data-toggle="popover"]').popover(),$('[data-toggle="tooltip"]').tooltip(),$("[data-qp-link]").on("click",function(e){window.location=$(this).data("qp-link"),e.preventDefault()});var i=".signin-left-column";$(i).length&&(630<(e=$(window).height())&&$(i).css({height:e+"px"}),$(window).resize(function(){c(function(){var e=$(window).height();630<e&&$(i).css({height:e+"px"})},500,"randomStringForSignupPage")}));var a=".signin-right-column";if($(a).length&&void 0!==$(a).data("qp-bg-image")&&""!=$(a).data("qp-bg-image")){var o=$(a).data("qp-bg-image");$(a).css({"background-image":"url(assets/img/"+o+")"})}var r=".load-ckeditor";if($(r).length&&$(r).ckeditor(),$(".custom-color-control.custom-control.custom-radio").length&&$(".custom-color-control.custom-control.custom-radio").each(function(){var e=$(this),t=e.data("qp-color");e.find(".custom-control-indicator").css({"background-color":t})}),$("body").hasClass("no-animation")||$("[data-qp-animate-type]").each(function(){var e=$(this);function t(e){var t="";if(void 0===e.data("qp-animate-type"))var t="fadeInDown";else t=e.data("qp-animate-type");if(void 0===e.data("qp-animate-delay"))var i=0;else i=e.data("qp-animate-delay");var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e.hasClass("invisible")&&setTimeout(function(){e.removeClass("invisible").addClass("animated "+t).one(a,function(){$(this).removeClass(t),$(this).removeClass("animated"),$(this).removeClass("infinite")})},i),e.hasClass("invisible-children")&&e.children().each(function(){var e=$(this);setTimeout(function(){e.addClass("animated "+t).one(a,function(){})},i),i+=75}),e.hasClass("invisible-children-with-scrollbar")&&e.children(".mCustomScrollBox").find(".mCSB_container").children().each(function(){var e=$(this);setTimeout(function(){e.addClass("animated "+t).one(a,function(){})},i),i+=75})}(e.visible(!0)||e.closest("nav").hasClass("sidebar"))&&t(e),$(window).scroll(function(){e.visible(!0)&&t(e)})}),$(".dropdown-menu-fullscreen").length){var s=$(".right-column").width();$(".dropdown-menu-fullscreen").css({width:s+"px"}),$(".dropdown-menu-fullscreen").closest(".nav-item").css({position:"static"}),$(window).resize(function(){c(function(){var e=$(".right-column").width();$(".dropdown-menu-fullscreen").css({width:e+"px"})},500,l)})}var n=$(window).width();$(".dropdown-toggle").on("click",function(){$(window).width()<=576?$(this).siblings(".dropdown-menu").each(function(){$(this).hasClass("dropdown-menu-fullscreen")||($(this).css({position:"absolute",width:n+"px"}),$(this).closest(".dropdown").css({position:"static"}))}):$(this).siblings(".dropdown-menu").each(function(){$(this).hasClass("dropdown-menu-fullscreen")||($(this).removeAttr("style"),$(this).closest(".dropdown").removeAttr("style"))})}),$(window).resize(function(){c(function(){$(window).width()<=576?$(".dropdown-toggle").on("click",function(){var e=$(window).width();$(this).siblings(".dropdown-menu").each(function(){$(this).hasClass("dropdown-menu-fullscreen")||($(this).css({position:"absolute",width:e+"px"}),$(this).closest(".dropdown").css({position:"static"}))})}):$(this).hasClass("dropdown-menu-fullscreen")||($(this).siblings(".dropdown-menu").removeAttr("style"),$(this).siblings(".dropdown-menu").closest(".dropdown").removeAttr("style"))},500,"uniqueTimeStamp+345")}),$("[data-toggle=offcanvas]").click(function(){$(".row-offcanvas").toggleClass("active")}),$(".no-waves-effect").removeClass("waves-effect")}(),$(window).resize(function(){c(function(){},500,"thisstringisunsdsaique")}),function(){var e=".card-task-list";if($(e).length){($(e).closest(".card").hasClass("card-xs")||$(e).closest(".card").hasClass("card-sm")||$(e).closest(".card").hasClass("card-md")||$(e).closest(".card").hasClass("card-lg"))&&d(e,"dark");var o=$(e+" .task-list-item .custom-checkbox"),t=function(e){void 0===e&&(e=0);var t=o.closest(".card-task-list").find("label.active").length+e,i=o.closest(".card-task-list").find(".task-list-item").length;o.closest(".card").find(".card-header .task-list-stats .task-list-completed").text(t),o.closest(".card").find(".card-header .task-list-stats .task-list-total").text(i);var a=t/i*100;o.closest(".card").find(".card-header .progress-bar").css({width:a+"%"}).attr("aria-valuenow",a)};o.on("click",function(){$(this).button("toggle"),t(void 0),$(e).hasClass("no-strike-out")&&$(this).addClass("anti-active")}),$(e).hasClass("no-strike-out")||o.each(function(){$(this).find(".custom-control-input").is(":checked")&&$(this).addClass("active")}),t(void 0),$(e).find(".task-item-controls .show-task").on("click",function(e){$(this).closest(".task-list-item").find(".task-item-details").slideToggle(300),e.preventDefault()})}}(),e=".timeline",$(e).length&&$(e).each(function(){$(this).timelify({animRight:"fadeInRight",animLeft:"fadeInLeft",animCenter:"fadeInUp"})}),function(){var t="#calendar";if($(t).length){$(t).closest(".card-body").find(".calendar-controls .create-event .dropdown-menu .legend-block-item .legend-block-color-box, .calendar-controls .available-events .fc-event .legend-block-item .legend-block-color-box").each(function(){var e=$(this).data("event-color"),t="highlight-color-"+e;$(this).addClass(t)}),$("#add-available-event").on("click",function(){var e=$(this).siblings(".dropdown-menu").find(".legend-block-item.active .legend-block-color-box").data("event-color"),t=$(this).parent().siblings("#input-new-event").val().trim();if($(this).parent().siblings("#input-new-event").val(""),""!=t){var i="<div class='fc-event' style='opacity:0;'><div class='legend-block-item'><div class='legend-block-color'><div class='legend-block-color-box highlight-color-"+e+"' data-event-color='"+e+"'><i class='batch-icon batch-icon-droplet'></i></div></div><div class='legend-block-text'>"+t+"</div></div></div>";$(this).closest(".calendar-controls").find(".available-events .event-list").prepend(i),$(this).closest(".calendar-controls").find(".available-events .fc-event").first().delay(200).animate({opacity:"1"},300),$(this).closest(".card-body").find(".calendar-controls .fc-event").each(function(){var e=$(this).find(".legend-block-color-box").data("event-color"),t={title:$.trim($(this).text()),className:"highlight-color-"+e};$(this).data("event",t),$(this).draggable({zIndex:999,revert:!0,revertDuration:0})})}else $("#input-new-event").focus()}),e();var e=function(){var e=$(t).closest(".card-body").find(".calendar-controls .create-event .dropdown-menu .legend-block-item.active .legend-block-color-box").data("event-color"),i=$(t).closest(".card-body").find(".calendar-controls .create-event .dropdown-toggle"),a=i.closest(".input-group-btn").siblings(".input-group-addon");i.addClass("highlight-color-"+e),a.addClass("highlight-color-"+e),$(t).closest(".card-body").find(".calendar-controls .create-event .dropdown-menu .legend-block-item").on("click",function(){var e=$(this).find(".legend-block-color-box").data("event-color"),t=new RegExp("\\bhighlight-color-.+?\\b","g");i[0].className=i[0].className.replace(t,""),i.addClass("highlight-color-"+e),a.removeAttr("class").addClass("input-group-addon highlight-color-"+e),$(this).siblings().removeClass("active"),$(this).addClass("active"),$("#input-new-event").focus()})};$(t).closest(".card-body").find(".calendar-controls .fc-event").each(function(){var e=$(this).find(".legend-block-color-box").data("event-color");$(this).data("event",{title:$.trim($(this).text()),className:"highlight-color-"+e,stick:!0}),$(this).draggable({zIndex:999,revert:!0,revertDuration:0})}),$(t).fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},themeSystem:"bootstrap3",defaultDate:"2017-11-12",editable:!0,droppable:!0,eventLimit:!0,events:[{title:"All Day Event",start:"2017-11-01",className:"highlight-color-red"},{title:"Long Event",start:"2017-11-07",end:"2017-11-10",className:"highlight-color-yellow"},{id:999,title:"Repeating Event",start:"2017-11-09T16:00:00",color:"#ff0097"},{id:999,title:"Repeating Event",start:"2017-11-16T16:00:00",className:"highlight-color-purple"},{title:"Conference",start:"2017-11-11",end:"2017-11-13",className:"highlight-color-green"},{title:"Meeting",start:"2017-11-12T10:30:00",end:"2017-11-12T12:30:00",className:"highlight-color-green"},{title:"Lunch",start:"2017-11-12T12:00:00",color:"#6ec06e"},{title:"Meeting",start:"2017-11-12T14:30:00",className:"highlight-color-red"},{title:"Happy Hour",start:"2017-11-12T17:30:00",className:"highlight-color-red"},{title:"Dinner",start:"2017-11-12T20:00:00",className:"highlight-color-blue"},{title:"Birthday Party",start:"2017-11-13T07:00:00"},{title:"Click for Google",url:"https://base5builder.com/",start:"2017-11-28"}],drop:function(){$(this).remove()},eventAfterAllRender:function(){$(t).find(".glyphicon.glyphicon-chevron-right").removeAttr("class").addClass("batch-icon batch-icon-arrow-right"),$(t).find(".glyphicon.glyphicon-chevron-left").removeAttr("class").addClass("batch-icon batch-icon-arrow-left")}})}}(),function(){var i=".mailbox-email-list";if($(i).length){$(i+" .email-item-checkbox .custom-control-input").removeAttr("checked");var t=$(i+" .email-select-all .custom-checkbox");t.on("click",function(){return $(this).hasClass("active")?($(this).find(".custom-control-input").removeAttr("checked"),$(i+" .email-item-checkbox .custom-control-input").removeAttr("checked"),$(this).removeClass("active"),$(i+" .mailbox-control-group .btn").addClass("disabled"),$(i+" tr").removeClass("highlighted")):($(this).find(".custom-control-input").attr("checked","checked"),$(i+" .email-item-checkbox .custom-control-input").attr("checked","checked"),$(this).addClass("active"),$(i+" .mailbox-control-group .btn").removeClass("disabled"),$(i+" tr").addClass("highlighted")),!1}),$(i+" .email-item-checkbox").on("click",function(){var e=$(this),t=0;return e.find(".custom-control-input").is(":checked")?(e.find(".custom-control-input").removeAttr("checked"),e.closest("tr").removeClass("highlighted"),e.closest("tr").siblings("tr").each(function(){$(this).find(".custom-control-input").is(":checked")&&t++}),t<1&&$(i+" .mailbox-control-group .btn").addClass("disabled")):(e.find(".custom-control-input").attr("checked","checked"),e.closest("tr").addClass("highlighted"),$(i+" .mailbox-control-group .btn").removeClass("disabled")),!1}),$(".email-refresh").on("click",function(e){location.reload(),e.preventDefault()}),$(".email-mark-read").on("click",function(e){$(".mailbox-email-list tr").each(function(){$(this).hasClass("email-status-unread")&&$(this).find(".email-checkbox .custom-control-input").is(":checked")?$(this).removeClass("email-status-unread"):!$(this).hasClass("email-status-unread")&&$(this).find(".email-checkbox .custom-control-input").is(":checked")&&$(this).addClass("email-status-unread")}),e.preventDefault()}),$(".email-delete").on("click",function(e){$(".mailbox-email-list tr").each(function(){$(this).find(".email-checkbox .custom-control-input").is(":checked")&&$(this).velocity("slideUp",{easing:"easeOutCubic",duration:300,delay:0,complete:function(e){$(this).remove()}})}),$(".alert").remove(),$(".mailbox-controls").after('<div class="alert alert-success alert-dismissable" style="opacity:0;"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button><strong>Deleted!</strong> Email(s) deleted.</div>'),$(".alert").animate({opacity:1},300),$(".email-mark-read, .email-mark-important, .email-mark-junk, .email-delete").addClass("disabled"),t.find(".custom-control-input").removeAttr("checked"),e.preventDefault()}),$(".email-mark-junk").on("click",function(e){$(".mailbox-email-list tr").each(function(){$(this).find(".email-checkbox .custom-control-input").is(":checked")&&$(this).velocity("slideUp",{easing:"easeOutCubic",duration:300,delay:0,complete:function(e){$(this).remove()}})}),$(".alert").remove(),$(".mailbox-controls").after('<div class="alert alert-success alert-dismissable" style="opacity:0;"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button><strong>Moved!</strong> Email(s) have been moved to the Junk Folder.</div>'),$(".alert").animate({opacity:1},300),$(".email-mark-read, .email-mark-important, .email-mark-junk, .email-delete").addClass("disabled"),t.find(".custom-control-input").removeAttr("checked"),e.preventDefault()}),$(".mailbox-email-list tr").each(function(){$(this).find(".email-star").on("click",function(){$(this).find(".email-star-status").toggleClass("checked")});var e=$(this).data("email-url");$(this).find(".email-sender, .email-subject, .email-datetime").on("click",function(){window.location.href=e})})}}(),$("#show-others").length&&$("#show-others").on("click",function(e){$(".message-recepient-others").slideToggle(300),e.preventDefault()}),t=".table-datatable",$(t).length&&$(t).each(function(){$(this).DataTable()})})},e}();t.ScriptRunner=i});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("services/identityService",["require","exports","aurelia-framework","aurelia-fetch-client"],function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.aurelia=e,this.httpClient=t}var a;return a=e,Object.defineProperty(e,"identity",{get:function(){return this._identity||(this._identity=JSON.parse(localStorage.getItem("identity"))),this._identity},enumerable:!0,configurable:!0}),e.prototype.getIdentity=function(){return a.identity},e.prototype.setIdentity=function(e){e&&(a._identity=e,localStorage.setItem("identity",JSON.stringify(e)),this.activateAuthorization())},e.prototype.isLogged=function(){return null!=this.getIdentity()},e.prototype.resetIdentity=function(){localStorage.removeItem("identity"),localStorage.removeItem("password"),a._identity=null},e.prototype.activateAuthorization=function(){this.configureHttpClient(this.httpClient)},e.prototype.configureHttpClient=function(e){var i=this;e.interceptors&&0<e.interceptors.length||e.configure(function(e){e.withDefaults({headers:{Accept:"application/json","Content-Type":"application/json"}}),e.withInterceptor({request:function(e){return-1==e.url.indexOf("viacep.com.br")&&a._identity&&e.headers.set("authtoken",a._identity.token),e},response:function(e){if(401===e.status)return a.isLoggingOut||(a.isLoggingOut=!0,i.aurelia.setRoot("App_Auth/app"),location.hash="#/logout"),e;var t=e.headers.get("authtoken-refresh");return t&&a._identity&&(a._identity.token=t,!0),e}})})},e.prototype.changePassword=function(){},e.isLoggingOut=!1,e=a=__decorate([i.autoinject,__metadata("design:paramtypes",[i.Aurelia,o.HttpClient])],e)}();t.IdentityService=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s};define("services/pdfService",["require","exports","aurelia-framework"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.runScript=function(){},e=__decorate([i.autoinject],e)}();t.PdfService=a}),define("services/customValidationRenderer",["require","exports","jquery"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.render=function(e){for(var t=0,i=e.unrender;t<i.length;t++)for(var a=i[t],o=a.result,r=0,s=a.elements;r<s.length;r++){var n=s[r];this.remove(n,o)}for(var l=0,c=e.render;l<c.length;l++)for(var d=c[l],u=(o=d.result,0),p=d.elements;u<p.length;u++){n=p[u];this.add(n,o)}},e.prototype.add=function(e,t){t.valid||$(e).addClass("border-danger")},e.prototype.remove=function(e,t){t.valid||$(e).removeClass("border-danger")},e}();t.CustomValidationRenderer=i});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("services/consultaCEPService",["require","exports","aurelia-framework","aurelia-fetch-client"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.httpClient=e}return e.prototype.findCEP=function(e){var t="https://viacep.com.br/ws/"+e+"/json";return this.httpClient.configure(function(e){return e.withBaseUrl(t)}),this.httpClient.fetch(t).then(function(e){return e.json()}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.HttpClient])],e)}();t.ConsultaCEPService=o}),define("domain/invoice",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Invoice=i}),define("domain/confirmScheduleOrderViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.ConfirmScheduleOrderViewModel=i}),define("domain/foodServiceProduct",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.FoodServiceProduct=i}),define("domain/productClass",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.ProductClass=i}),define("domain/buyListProduct",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.BuyListProduct=i}),define("domain/state",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.State=i}),define("domain/contact",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Contact=i}),define("domain/credential",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Credential=i}),define("domain/stateRegistration",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.StateRegistration=i}),define("domain/identity",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Identity=i}),define("domain/brand",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Brand=i}),define("domain/invoiceStatus",["require","exports"],function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.InvoiceStatus||(t.InvoiceStatus={}))[i.Created=0]="Created",i[i.Paid=1]="Paid",i[i.NotPaid=2]="NotPaid"}),define("domain/supplierProductFileRow",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SupplierProductFileRow=i}),define("domain/orderItem",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.OrderItem=i}),define("domain/supplier",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Supplier=i}),define("domain/foodServiceSupplier",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.FoodServiceSupplier=i}),define("domain/priceList",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.PriceList=i}),define("domain/foodService",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.FoodService=i}),define("domain/supplierProductFile",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SupplierProductFile=i}),define("domain/simulationItem",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SimulationItem=i}),define("domain/product",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Product=i}),define("domain/simulationInputItem",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SimulationInputItem=i}),define("domain/consultaCepResult",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.ConsultaCepResult=i}),define("domain/marketRule",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.MarketRule=i}),define("domain/simulationSummaryItem",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SimulationSummaryItem=i}),define("domain/foodServiceStatus",["require","exports"],function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.FoodServiceStatus||(t.FoodServiceStatus={}))[i.Active=0]="Active",i[i.Inactive=1]="Inactive",i[i.WaitingToApprove=2]="WaitingToApprove"}),define("domain/simulationResultItem",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SimulationResultItem=i}),define("domain/productViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.ProductViewModel=i}),define("domain/supplierStatus",["require","exports"],function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.SupplierStatus||(t.SupplierStatus={}))[i.Active=0]="Active",i[i.Inactive=1]="Inactive",i[i.WaitingToApprove=2]="WaitingToApprove"}),define("domain/invoiceControl",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.InvoiceControl=i}),define("domain/foodServiceViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.FoodServiceConnectionViewModel=i}),define("domain/welcomeUser",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.WelcomeUser=i}),define("domain/cotacaoViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.CotacaoViewModel=i}),define("domain/editSupplierStatus",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.EditSupplierStatus=i}),define("domain/order",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Order=i}),define("domain/simulationInput",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){this.items=[]};t.SimulationInput=i}),define("domain/priceListItem",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.PriceListItem=i}),define("domain/evaluation",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Evaluation=i}),define("domain/notification",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Notification=i}),define("domain/alterBuyListProductViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.AlterBuyListProductViewModel=i}),define("domain/evaluationStatus",["require","exports"],function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.EvaluationStatus||(t.EvaluationStatus={}))[i.Created=0]="Created",i[i.Approved=1]="Approved",i[i.Rejected=2]="Rejected",i[i.Blocked=3]="Blocked"}),define("domain/unitOfMeasurement",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.UnitOfMeasurement=i}),define("domain/userType",["require","exports"],function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.UserType||(t.UserType={}))[i.Supplier=0]="Supplier",i[i.FoodService=1]="FoodService",i[i.Admin=2]="Admin"}),define("domain/productCategory",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.ProductCategory=i}),define("domain/userStatus",["require","exports"],function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.UserStatus||(t.UserStatus={}))[i.Active=0]="Active",i[i.Inactive=1]="Inactive",i[i.WaitingToConfirmInvite=2]="WaitingToConfirmInvite",i[i.WaitingToConfirmPassword=3]="WaitingToConfirmPassword"}),define("domain/blockSupplierConnectionViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.BlockSupplierConnectionViewModel=i}),define("domain/rejectOrderViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.RejectOrderViewModel=i}),define("domain/supplierProduct",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SupplierProduct=i}),define("domain/user",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.User=i}),define("domain/confirmInviteViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.ConfirmInviteViewModel=i}),define("domain/simulationResult",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SimulationResult=i}),define("domain/editInvoiceViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.EditInvoiceViewModel=i}),define("domain/orderStatus",["require","exports"],function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.OrderStatus||(t.OrderStatus={}))[i.Created=0]="Created",i[i.Accepted=1]="Accepted",i[i.Delivered=2]="Delivered",i[i.Rejected=3]="Rejected"}),define("domain/address",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Address=i}),define("domain/supplierViewModel",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SupplierViewModel=i}),define("domain/city",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.City=i}),define("domain/simulation",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.Simulation=i}),define("domain/buyList",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.BuyList=i}),define("domain/editFoodServiceStatus",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.EditFoodServiceStatus=i});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("repositories/analytics/analyticsRepository",["require","exports","aurelia-framework","aurelia-api"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.config=e,this.api=this.config.getEndpoint("csz")}return e.prototype.getNumberOfCustomers=function(){return this.api.find("analytics/supplier/numberOfCustomers").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getNumberOfOrders=function(){return this.api.find("analytics/supplier/numberOfOrders").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getOrdersValues=function(e){return this.api.find("analytics/supplier/ordersValues?period="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMainClients=function(e){return this.api.find("analytics/supplier/clients?period="+e).then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e.prototype.getMainProducts=function(){return this.api.find("analytics/supplier/products").then(function(e){return e}).catch(function(e){return console.log(e),Promise.resolve(e.json().then(function(e){throw e}))})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Config])],e)}();t.AnalyticsRepository=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/cotacao/pedidosFornecedor",["require","exports","../../services/notificationService","../../services/identityService","aurelia-framework","aurelia-router","../../repositories/orderRepository","aurelia-event-aggregator","aurelia-dialog","../components/partials/aceitePedido","../../domain/orderStatus","../components/partials/rejeicaoPedido"],function(e,t,i,a,o,r,s,n,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t,i,a,o,r){this.router=e,this.dialogService=t,this.ea=i,this.service=a,this.nService=o,this.orderRepo=r,this.selectedStatus=0}return e.prototype.attached=function(){var i=this;this.ea.publish("loadingData"),this.ea.subscribe("newOrder",function(e){0!=i.selectedStatus&&"0"!=i.selectedStatus.toString()||i.orders.push(e)}),this.ea.subscribe("orderFinished",function(t){i.orders.forEach(function(e){e.id==t.id&&(e=t)}),i.filteredOrders.forEach(function(e){e.id==t.id&&(e.status=t.status)})}),this.loadData()},e.prototype.loadData=function(){this.load()},e.prototype.load=function(){var t=this;this.selectedStatus==d.OrderStatus.Created||null==this.selectedStatus?this.orderRepo.getMyNewOrders().then(function(e){t.orders=e,t.filteredOrders=t.orders,t.filter=""}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)}):this.selectedStatus==d.OrderStatus.Accepted?this.orderRepo.getMyAcceptedOrders().then(function(e){t.orders=e,t.filteredOrders=t.orders,t.filter=""}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)}):this.selectedStatus==d.OrderStatus.Rejected?this.orderRepo.getMyRejectedOrders().then(function(e){t.orders=e,t.filteredOrders=t.orders,t.filter=""}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)}):this.selectedStatus==d.OrderStatus.Delivered&&this.orderRepo.getMyDeliveredOrders().then(function(e){t.orders=e,t.filteredOrders=t.orders,t.filter=""}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)})},e.prototype.selectOrder=function(e){this.selectedOrder=e,this.foodService=e.foodService,this.showdDetails=!0},e.prototype.showOrders=function(){this.showdDetails=!1},e.prototype.acceptOrder=function(t){var e={Order:t};this.dialogService.open({viewModel:c.AceitePedido,model:e,lock:!1}).whenClosed(function(e){e.wasCancelled||(t.status=d.OrderStatus.Accepted)})},e.prototype.rejectOrder=function(t){var e={Order:t};this.dialogService.open({viewModel:u.RejeicaoPedido,model:e,lock:!1}).whenClosed(function(e){e.wasCancelled||(t.status=d.OrderStatus.Rejected)})},e.prototype.search=function(){var i=this;this.isFiltered=!0,this.filteredOrders=this.orders.filter(function(e){var t=!0;if(null!=i.filter&&""!=i.filter&&(t=!!(e.code.toString().toUpperCase().includes(i.filter.toUpperCase())||e.foodService.name.toString().toUpperCase().includes(i.filter.toUpperCase())||e.createdBy.name.toString().toUpperCase().includes(i.filter.toUpperCase())||e.total.toString().toUpperCase().includes(i.filter.toUpperCase()))),t)return e})},e=__decorate([o.autoinject,__metadata("design:paramtypes",[r.Router,l.DialogService,n.EventAggregator,a.IdentityService,i.NotificationService,s.OrderRepository])],e)}();t.PedidosFornecedor=p});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/cotacao/cotacao",["require","exports","../../services/notificationService","../../services/identityService","aurelia-framework","aurelia-router","../../repositories/foodServiceRepository","../../repositories/simulationRepository","../../domain/simulationInput","../../domain/simulationInputItem","../../repositories/orderRepository","aurelia-event-aggregator","aurelia-dialog","../components/partials/horarioDeEntregaPedido","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s,n,l,c,d,u,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t,i,a,o,r,s,n){this.router=e,this.repository=t,this.ea=i,this.dialogService=a,this.simulationRepository=o,this.orderRepository=r,this.service=s,this.nService=n,this.currentStep=1,this.totalSteps=3,this.isProcessing=!1,this.orderWasGenerated=!1,this.input=new l.SimulationInput,this.supplierBlackList=[]}return e.prototype.runScript=function(){var o="#rootwizard-1";if($(o).length){$(".pager li a, .pager li span").on("click",function(e){e.preventDefault()});var a=$(o+" .tab-pane").length;$(o).bootstrapWizard({onNext:function(e,t,i){i<=a&&($(o+" .tab-pane").eq(i).addClass("active"),$(o+" .tab-pane").eq(i-1).removeClass("active"))},onPrevious:function(e,t,i){-1!==i&&($(o+" .tab-pane").eq(i).addClass("active"),$(o+" .tab-pane").eq(i+1).removeClass("active"))},onTabShow:function(e,t,i){var a=(i+1)/t.find("li").length*100;$(o).closest(".card").find(".card-header .progress-bar").css({width:a+"%"}).attr("aria-valuenow",a)},onTabClick:function(e,t,i){return!1}})}},e.prototype.activate=function(e){null!=e.orderId&&""!=e.orderId&&(this.orderId=e.orderId)},e.prototype.advance=function(){this.currentStep++,2==this.currentStep&&this.simulate(),3==this.currentStep&&window.scrollTo(0,0)},e.prototype.simulate=function(){var i=this;this.ea.publish("loadingData"),this.isProcessing=!0,this.input.buyListId=this.selectedQuote.id,this.input.items=[],this.selectedQuote.products.forEach(function(e){if(null!=e.quantity&&0!=e.quantity){var t=new c.SimulationInputItem;t.productId=e.id,t.quantity=e.quantity,i.input.items.push(t)}}),this.input.supplierBlackList=this.supplierBlackList,this.simulationRepository.simulate(this.input).then(function(e){i.simulation=e,i.isProcessing=!1,i.runScript(),i.ea.publish("dataLoaded")}).catch(function(e){i.nService.presentError(e),i.isProcessing=!1,i.ea.publish("dataLoaded")})},e.prototype.back=function(){this.currentStep--},e.prototype.attached=function(){this.ea.publish("loadingData"),this.runScript(),this.loadData()},e.prototype.addRemoveSupplier=function(t){t.wasRemoved?(this.selectedQuote.suppliers.forEach(function(e){e.id==t.id&&(e.wasRemoved=!1)}),this.selectedQuote.products.forEach(function(e){e.suppliers.forEach(function(e){e.id==t.id&&(e.wasRemoved=!1)})}),this.supplierBlackList=this.supplierBlackList.filter(function(e){return e.id!=t.id})):(this.selectedQuote.suppliers.forEach(function(e){e.id==t.id&&(e.wasRemoved=!0)}),this.selectedQuote.products.forEach(function(e){e.suppliers.forEach(function(e){e.id==t.id&&(e.wasRemoved=!0)})}),this.supplierBlackList.push(t))},e.prototype.loadData=function(){var t=this;null!=this.orderId&&""!=this.orderId?this.simulationRepository.getCotacaoFromOrder(this.orderId).then(function(e){null!=(t.selectedQuote=e).blackListSupplier&&t.addRemoveSupplier(e.blackListSupplier)}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){return t.nService.presentError(e)}):this.repository.getBuyListsParaCotacao().then(function(e){t.quotes=e}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){return t.nService.presentError(e)})},e.prototype.generateOrder=function(){var t=this;this.dialogService.open({viewModel:f.HorarioDeEntregaPedido,lock:!1}).whenClosed(function(e){t.isProcessing=!0,e.wasCancelled?t.isProcessing=!1:(t.selectedResult.deliveryScheduleStart=e.output.deliveryScheduleStart,t.selectedResult.deliveryScheduleEnd=e.output.deliveryScheduleEnd,t.orderRepository.createOrder(t.selectedResult).then(function(e){t.nService.success("Pedido realizado!"),t.router.navigateToRoute("pedidosFoodService"),t.isProcessing=!1,t.orderWasGenerated=!0}).catch(function(e){t.isProcessing=!1,t.nService.error(e)}))})},e.prototype.changeSelectedCotacao=function(t){this.simulation.betterResults.forEach(function(e){return e.isSelected=e==t}),this.selectedResult=t},e=__decorate([o.autoinject,__metadata("design:paramtypes",[r.Router,s.FoodServiceRepository,u.EventAggregator,p.DialogService,n.SimulationRepository,d.OrderRepository,a.IdentityService,i.NotificationService])],e)}();t.Pedido=v});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/foodService/meusProdutos",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator"],function(e,t,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.router=e,this.ea=t,this.productAddedCount=0}return e.prototype.attached=function(){var t=this;this.ea.publish("loadingData"),this.ea.subscribe("productAdded",function(e){t.productAddedCount++}),this.ea.subscribe("productRemoved",function(e){t.productAddedCount--})},e.prototype.loadData=function(){},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator])],e)}();t.MeusProdutos=r});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/foodService/pedidosFoodService",["require","exports","../../services/notificationService","../../services/identityService","aurelia-framework","aurelia-router","../../repositories/orderRepository","aurelia-event-aggregator","aurelia-dialog","../../domain/orderStatus","../components/partials/baixaPedido"],function(e,t,i,a,o,r,s,n,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t,i,a,o,r){this.router=e,this.dialogService=t,this.ea=i,this.service=a,this.nService=o,this.orderRepo=r}return e.prototype.attached=function(){var e=this;this.ea.publish("loadingData"),this.ea.subscribe("orderAccepted",function(t){e.orders.forEach(function(e){e.id==t.id&&(e=t)}),e.filteredOrders.forEach(function(e){e.id==t.id&&(e.status=t.status,e.deliveryDate=t.deliveryDate,e.paymentDate=t.paymentDate)})}),this.ea.subscribe("orderRejected",function(t){var i=!1;e.orders.forEach(function(e){e.id==t.id&&(e.status=t.status,e.reasonToReject=t.reasonToReject,i=!0)}),i||3!=e.selectedStatus&&"3"!=e.selectedStatus.toString()||e.orders.push(t)}),this.loadData()},e.prototype.loadData=function(){this.load()},e.prototype.selectOrder=function(e){this.selectedOrder=e,this.showdDetails=!0},e.prototype.showOrders=function(){this.showdDetails=!1},e.prototype.load=function(){var t=this;this.selectedStatus==c.OrderStatus.Created||null==this.selectedStatus?this.orderRepo.getMyNewOrders().then(function(e){t.orders=e,t.filteredOrders=t.orders,t.filter=""}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.ea.publish("dataLoaded"),t.nService.presentError(e)}):this.selectedStatus==c.OrderStatus.Accepted?this.orderRepo.getMyAcceptedOrders().then(function(e){t.orders=e,t.filteredOrders=t.orders,t.filter=""}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.ea.publish("dataLoaded"),t.nService.presentError(e)}):this.selectedStatus==c.OrderStatus.Rejected?this.orderRepo.getMyRejectedOrders().then(function(e){t.orders=e,t.filteredOrders=t.orders,t.filter=""}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.ea.publish("dataLoaded"),t.nService.presentError(e)}):this.selectedStatus==c.OrderStatus.Delivered&&this.orderRepo.getMyDeliveredOrders().then(function(e){t.orders=e,t.filteredOrders=t.orders,t.filter=""}).then(function(){return t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)})},e.prototype.quoteAgain=function(e){this.router.navigate("cotacao?orderId="+e.id)},e.prototype.deliverOrder=function(t){var e={Order:t};this.dialogService.open({viewModel:d.BaixaPedido,model:e,lock:!1}).whenClosed(function(e){e.wasCancelled||(t.status=c.OrderStatus.Delivered)})},e.prototype.search=function(){var i=this;this.isFiltered=!0,this.filteredOrders=this.orders.filter(function(e){var t=!0;if(null!=i.filter&&""!=i.filter&&(t=!!(e.code.toString().toUpperCase().includes(i.filter.toUpperCase())||e.foodService.name.toString().toUpperCase().includes(i.filter.toUpperCase())||e.createdBy.name.toString().toUpperCase().includes(i.filter.toUpperCase())||e.total.toString().toUpperCase().includes(i.filter.toUpperCase()))),t)return e})},e=__decorate([o.autoinject,__metadata("design:paramtypes",[r.Router,l.DialogService,n.EventAggregator,a.IdentityService,i.NotificationService,s.OrderRepository])],e)}();t.PedidosFoodService=u});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/foodService/dashboard",["require","exports","aurelia-framework","aurelia-api","jquery","popper.js","bootstrap","mdbootstrap","velocity-animate","velocity","custom-scrollbar","jquery-visible","ie10-viewport"],function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.aurelia=e,this.config=t,this.api=this.config.getEndpoint("fol")}return e.prototype.attached=function(){},e=__decorate([i.autoinject,__metadata("design:paramtypes",[i.Aurelia,a.Config])],e)}();t.App=o});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/foodService/evaluations",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../services/notificationService","../../repositories/evaluationRepository","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,i,a){this.router=e,this.ea=t,this.repository=i,this.nService=a}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.selectedStatus=0,this.loadData()},e.prototype.loadData=function(){this.load()},e.prototype.load=function(){var t=this;this.repository.getMyEvaluations().then(function(e){t.evaluations=e,t.filteredEvaluations=e,t.ea.publish("dataLoaded")}).catch(function(e){t.ea.publish("dataLoaded"),t.nService.presentError(e)})},e.prototype.showDetails=function(e){this.evaluation=e},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator,s.EvaluationRepository,r.NotificationService])],e)}();t.Evaluations=n});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/foodService/fornecedores",["require","exports","../../services/notificationService","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../repositories/supplierConnectionRepository","../../repositories/productRepository","../../domain/blockSupplierConnectionViewModel"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a,o){var r=this;this.router=e,this.repository=t,this.productRepository=i,this.nService=a,this.ea=o,this.tipoFiltro="2",this.ea.subscribe("waitingToApprove",function(t){r.suppliers.forEach(function(e){e.supplier.id==t.supplierId&&(e.status=t.status)})}),this.ea.subscribe("registrationApproved",function(t){r.suppliers.forEach(function(e){e.supplier.id==t.supplierId&&(e.status=t.status)})}),this.ea.subscribe("registrationRejected",function(t){r.suppliers.forEach(function(e){e.supplier.id==t.supplierId&&(e.status=t.status)})}),this.ea.subscribe("clientBlocked",function(t){r.suppliers.forEach(function(e){e.supplier.id==t.supplierId&&(e.status=t.status)})}),this.ea.subscribe("waitingToApprove",function(t){r.suppliers.forEach(function(e){e.supplier.id==t.supplierId&&(e.status=t.status)})}),this.ea.subscribe("showSupplierDetailsCanceled",function(){r.showDetails=!1,document.body.scrollTop=0,document.documentElement.scrollTop=0}),this.showDetails=!1}return e.prototype.attached=function(){var e=this;this.ea.publish("loadingData"),this.loadData(),this.alterView().then(function(){e.ea.publish("dataLoaded"),e.isLoading=!1})},e.prototype.loadData=function(){this.isLoading=!0},e.prototype.alterView=function(){this.filteredSuppliers=[],this.suppliers=[];var e=Number.parseInt(this.tipoFiltro);return 1==e?(this.title="Fornecedores Sugeridos",this.loadSuggestedSuppliers()):2==e?(this.title="Meus fornecedores",this.loadMySuppliers()):3==e?(this.title="Todos fornecedores",this.loadAllSuppliers()):4==e?(this.title="Todos fornecedores",this.loadBlockedSuppliers()):void 0},e.prototype.loadSuggestedSuppliers=function(){var t=this;return this.repository.getSuggestedSuppliers().then(function(e){t.suppliers=e,t.search()})},e.prototype.loadMySuppliers=function(){var t=this;return this.repository.getMySuppliers().then(function(e){t.suppliers=e,t.filteredSuppliers=e})},e.prototype.loadBlockedSuppliers=function(){var t=this;return this.repository.getMyBlockedSuppliers().then(function(e){t.suppliers=e,t.filteredSuppliers=e})},e.prototype.loadAllSuppliers=function(){var t=this;return this.repository.getAllSuppliers().then(function(e){t.suppliers=e,t.filteredSuppliers=e})},e.prototype.connect=function(t){var i=this;t.isLoading=!0,this.repository.connect(t.supplier).then(function(e){t.status=1,i.nService.presentSuccess("A solicitação de conexão foi realizada com sucesso!"),t.isLoading=!1}).catch(function(e){i.nService.presentError(e),t.isLoading=!1})},e.prototype.block=function(t){var i=this;t.isLoading=!0;var e=new l.BlockSupplierConnectionViewModel;e.supplierId=t.supplier.id,this.repository.block(e).then(function(e){t.isLoading=!1,t.status=6,i.nService.presentSuccess("Fornecedor bloqueado com sucesso!")}).catch(function(e){i.nService.presentError(e),t.isLoading=!1})},e.prototype.unblock=function(t){var i=this;t.isLoading=!0;var e=new l.BlockSupplierConnectionViewModel;e.supplierId=t.supplier.id,this.repository.unblock(e).then(function(e){t.isLoading=!1,t.status=2,i.nService.presentSuccess("Fornecedor desbloqueado com sucesso!")}).catch(function(e){i.nService.presentError(e),t.isLoading=!1})},e.prototype.search=function(){var t=this;this.filteredSuppliers=this.suppliers.filter(function(e){return null==t.filter||""==t.filter||!!e.supplier.name.toUpperCase().includes(t.filter.toUpperCase())})},e.prototype.showSupplierDetails=function(e){this.showDetails=!0,this.ea.publish("showSupplierDetails",{supplierId:e.supplier.id,edit:!1})},e=__decorate([a.autoinject,__metadata("design:paramtypes",[o.Router,s.SupplierConnectionRepository,n.ProductRepository,i.NotificationService,r.EventAggregator])],e)}();t.Fornecedores=c});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/foodService/cadastro",["require","exports","../../validators/foodServiceValidator","../../services/consultaCEPService","../../repositories/stateRegistrationRepository","../../domain/stateRegistration","../../services/notificationService","../../repositories/foodServiceRepository","../../services/identityService","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../domain/address","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,o,i,a,r,s,n,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i,a,o,r,s){this.router=e,this.repository=t,this.service=i,this.ea=a,this.nService=o,this.stateRepo=r,this.consultaCepService=s,this.currentStep=1,this.totalSteps=3,this.isLoading=!1}return e.prototype.runScript=function(){var o="#rootwizard-1";if($(o).length){$(".pager li a, .pager li span").on("click",function(e){e.preventDefault()});var a=$(o+" .tab-pane").length;$(o).bootstrapWizard({onNext:function(e,t,i){i<=a&&($(o+" .tab-pane").eq(i).addClass("active"),$(o+" .tab-pane").eq(i-1).removeClass("active"))},onPrevious:function(e,t,i){-1!==i&&($(o+" .tab-pane").eq(i).addClass("active"),$(o+" .tab-pane").eq(i+1).removeClass("active"))},onTabShow:function(e,t,i){var a=(i+1)/t.find("li").length*100;$(o).closest(".card").find(".card-header .progress-bar").css({width:a+"%"}).attr("aria-valuenow",a)},onTabClick:function(e,t,i){return!1}})}},e.prototype.attached=function(){this.ea.publish("loadingData"),this.runScript(),this.loadData()},e.prototype.loadData=function(){var t=this,e=this.service.getIdentity(),i=this.repository.getByUser(e.id).then(function(e){t.foodService=e,null==t.foodService.address&&(t.foodService.address=new p.Address),null==t.foodService.stateRegistration&&(t.foodService.stateRegistration=new r.StateRegistration),t.validator=new o.FoodServiceValidator(t.foodService)}).catch(function(e){t.nService.presentError(e)}),a=this.stateRepo.getAll().then(function(e){t.stateRegistrations=e}).catch(function(e){t.nService.presentError(e)});Promise.all([i,a]).then(function(){return t.ea.publish("dataLoaded")})},e.prototype.consultaCEP=function(){var t=this;this.validator.addressValidator.validateCep(),8<=this.foodService.address.cep.length&&this.consultaCepService.findCEP(this.foodService.address.cep).then(function(e){null!=e&&(t.foodService.address.city=e.localidade,t.foodService.address.neighborhood=e.bairro,t.foodService.address.number=null,t.foodService.address.logradouro=e.logradouro,t.foodService.address.complement=e.complemento,t.foodService.address.state=e.uf,t.validator.validate())}).catch(function(e){t.nService.presentError(e)})},e.prototype.advance=function(){this.currentStep++},e.prototype.back=function(){this.currentStep--},e.prototype.save=function(){var t=this;this.isLoading=!0;var e=this.validator.validate();0==e.length?(this.foodService.stateRegistration=this.stateRegistrations.filter(function(e){return e.id==t.foodService.stateRegistration.id})[0],this.repository.save(this.foodService).then(function(e){t.nService.success("Cadastro realizado!"),t.router.navigate("/#/cadastroFoodService"),t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.nService.error(e)})):(this.isLoading=!1,e.forEach(function(e){t.nService.error(e)}))},e=__decorate([c.autoinject,__metadata("design:paramtypes",[d.Router,n.FoodServiceRepository,l.IdentityService,u.EventAggregator,s.NotificationService,a.StateRegistrationRepository,i.ConsultaCEPService])],e)}();t.Cadastro=f});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/fornecedor/clientes",["require","exports","../../services/notificationService","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../repositories/foodServiceConnectionRepository","../../domain/foodServiceViewModel"],function(e,t,i,a,o,r,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,i,a){var o=this;this.router=e,this.repository=t,this.nService=i,this.ea=a,this.ea.subscribe("registrationSent",function(){o.loadData()}),this.ea.subscribe("showFoodServiceDetailsCanceled",function(){o.showDetails=!1,document.body.scrollTop=0,document.documentElement.scrollTop=0}),this.processing=!1,this.showDetails=!1}return e.prototype.attached=function(){var e=this;this.ea.publish("loadingData"),this.type=0,this.tipoFiltro="0",this.alterView().then(function(){return e.ea.publish("dataLoaded")})},e.prototype.loadData=function(){var e=this;this.foodServices=[],this.filteredFoodServices=[],this.loadSuppliers().then(function(){return e.ea.publish("dataLoaded")})},e.prototype.alterView=function(){return this.type=Number.parseInt(this.tipoFiltro),0==this.type?this.title="Novos Clientes":1==this.type?this.title="Aguardando Aprovação":2==this.type?this.title="Meus  Clientes":3==this.type&&(this.title="Clientes Bloqueados"),this.loadSuppliers()},e.prototype.loadSuppliers=function(){var t=this;return this.processing=!0,this.repository.getSuppliers(this.type).then(function(e){t.foodServices=e,t.search(),t.processing=!1}).catch(function(e){t.nService.presentError(e),t.processing=!1})},e.prototype.approve=function(e){var t=this,i=new n.FoodServiceConnectionViewModel;i.foodService=e.foodService,i.status=2,this.repository.updateConnection(i).then(function(e){t.loadData(),t.nService.presentSuccess("Cliente foi aprovado com sucesso!"),t.ea.publish("foodApproved")}).catch(function(e){t.nService.presentError(e)})},e.prototype.registrationSent=function(t){var i=this;t.isLoading=!0;var e=new n.FoodServiceConnectionViewModel;e.foodService=t.foodService,e.status=5,this.repository.updateConnection(e).then(function(e){t.isLoading=!1,i.loadData(),i.nService.presentSuccess("Status atualizado com sucesso!"),i.ea.publish("registrationSent")}).catch(function(e){i.nService.presentError(e),t.isLoading=!1})},e.prototype.reject=function(t){var i=this;t.isLoading=!0;var e=new n.FoodServiceConnectionViewModel;e.foodService=t.foodService,e.status=3,this.repository.updateConnection(e).then(function(e){t.isLoading=!1,i.loadData(),i.nService.presentSuccess("Status rejeitado com sucesso!")}).catch(function(e){i.nService.presentError(e),t.isLoading=!1})},e.prototype.block=function(t){var i=this;t.isLoading=!0;var e=new n.FoodServiceConnectionViewModel;e.foodService=t.foodService,e.status=4,this.repository.updateConnection(e).then(function(e){t.isLoading=!1,i.loadData(),i.nService.presentSuccess("Status bloqueado com sucesso!")}).catch(function(e){i.nService.presentError(e),t.isLoading=!1})},e.prototype.unblock=function(t){var i=this;t.isLoading=!0;var e=new n.FoodServiceConnectionViewModel;e.foodService=t.foodService,e.status=2,this.repository.updateConnection(e).then(function(e){t.isLoading=!1,i.loadData(),i.nService.presentSuccess("Status desbloqueado com sucesso!")}).catch(function(e){i.nService.presentError(e),t.isLoading=!1})},e.prototype.search=function(){var i=this;this.filteredFoodServices=this.foodServices.filter(function(e){var t=!0;return null==i.filter||""==i.filter?t:t=!!e.foodService.name.toUpperCase().includes(i.filter.toUpperCase())})},e.prototype.showFoodServiceDetails=function(e){this.showDetails=!0,this.ea.publish("showFoodServiceDetails",{foodId:e.foodService.id,edit:!1})},e=__decorate([a.autoinject,__metadata("design:paramtypes",[o.Router,s.FoodServiceConnectionRepository,i.NotificationService,r.EventAggregator])],e)}();t.Clientes=l});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/fornecedor/dashboard",["require","exports","aurelia-framework","aurelia-api","../../repositories/analytics/analyticsRepository","../../services/identityService","../../services/notificationService","chart.js","../../domain/analytics/orderPeriod","../../repositories/evaluationRepository","jquery","popper.js","bootstrap","mdbootstrap","velocity-animate","velocity","custom-scrollbar","jquery-visible","ie10-viewport"],function(e,t,i,a,o,r,s,n,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,i,a,o,r){this.aurelia=e,this.config=t,this.service=i,this.repository=a,this.evalRepository=o,this.nService=r,this.api=this.config.getEndpoint("csz"),this.isLoadingNumberOfCustomers=!0,this.isLoadingNumberOfOrders=!0,this.period=l.OrderPeriod.ThisYear}return e.prototype.attached=function(){this.loadData()},e.prototype.drawClientesChart=function(e){var t=[];e.items.forEach(function(e){return t.push(e.total)});var i={type:"pie",data:{datasets:[{data:t,backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)"],label:"Clientes"}],labels:e.labels},options:{responsive:!0,legend:{display:!1}}},a=document.getElementById("principaisClientesChart").getContext("2d");this.clientesChart=new n(a,i)},e.prototype.drawProductsChart=function(e){var t=[];e.items.forEach(function(e){return t.push(e.total)});var i={type:"pie",data:{datasets:[{data:t,backgroundColor:["rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)"],label:"Produtos"}],labels:e.labels},options:{responsive:!0,legend:{display:!1}}},a=document.getElementById("principaisProdutosChart").getContext("2d");this.produtosChart=new n(a,i)},e.prototype.drawPedidosChart=function(e){var t=n.helpers.color,i=[];e[0].items.forEach(function(e){return i.push(e.total)});var a=[];e[1].items.forEach(function(e){return a.push(e.total)});var o={labels:e[0].labels,datasets:[{label:e[0].name,backgroundColor:t("rgb(54, 162, 235)").alpha(.5).rgbString(),borderColor:"rgb(54, 162, 235)",borderWidth:1,data:i},{label:e[1].name,backgroundColor:t("rgb(255, 99, 132)").alpha(.5).rgbString(),borderColor:"rgb(255, 99, 132)",borderWidth:1,data:a}]},r=document.getElementById("pedidos").getContext("2d");null!=this.pedidosChart&&this.pedidosChart.destroy(),this.pedidosChart=new n(r,{type:"bar",data:o,options:{responsive:!0,legend:{position:"top"}}})},e.prototype.loadData=function(){var t=this;this.loadOrdersValues(l.OrderPeriod.ThisYear),this.loadMainClients(l.OrderPeriod.ThisYear),this.loadMainProdutcs(),this.repository.getNumberOfCustomers().then(function(e){t.numberOfCustomers=e,t.isLoadingNumberOfCustomers=!1}).catch(function(e){t.nService.error(e),t.isLoadingNumberOfCustomers=!1}),this.evalRepository.getMyEvaluations().then(function(e){t.evaluations=e}).catch(function(e){t.nService.presentError(e)}),this.repository.getNumberOfOrders().then(function(e){t.numberOfOrders=e,t.isLoadingNumberOfOrders=!1}).catch(function(e){t.nService.error(e),t.isLoadingNumberOfOrders=!1})},e.prototype.loadOrdersValues=function(e){var t=this;null!=this.pedidosChart&&(this.pedidosChart.destroy(),this.pedidosChart=null),this.repository.getOrdersValues(e).then(function(e){return t.drawPedidosChart(e)}).catch(function(e){t.nService.error(e),t.isLoadingNumberOfOrders=!1})},e.prototype.loadMainClients=function(e){var t=this;null!=this.clientesChart&&(this.clientesChart.destroy(),this.clientesChart=null),this.repository.getMainClients(e).then(function(e){return t.drawClientesChart(e)}).catch(function(e){t.nService.error(e),t.isLoadingNumberOfOrders=!1})},e.prototype.loadMainProdutcs=function(){var t=this;null!=this.produtosChart&&(this.produtosChart.destroy(),this.produtosChart=null),this.repository.getMainProducts().then(function(e){return t.drawProductsChart(e)}).catch(function(e){t.nService.error(e),t.isLoadingNumberOfOrders=!1})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[i.Aurelia,a.Config,r.IdentityService,o.AnalyticsRepository,c.EvaluationRepository,s.NotificationService])],e)}();t.App=d});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/fornecedor/evaluations",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../services/notificationService","../../repositories/evaluationRepository","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,i,a){this.router=e,this.ea=t,this.repository=i,this.nService=a}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.selectedStatus=0,this.loadData()},e.prototype.loadData=function(){this.load()},e.prototype.load=function(){var t=this;this.repository.getMyEvaluations().then(function(e){t.evaluations=e,t.filteredEvaluations=e,t.ea.publish("dataLoaded")}).catch(function(e){t.ea.publish("dataLoaded"),t.nService.presentError(e)})},e.prototype.showDetails=function(e){this.evaluation=e},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator,s.EvaluationRepository,r.NotificationService])],e)}();t.Evaluations=n}),define("domain/analytics/genericAnalytics",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.GenericAnalytics=i}),define("domain/analytics/orderPeriod",["require","exports"],function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.OrderPeriod||(t.OrderPeriod={}))[i.ThisMonth=0]="ThisMonth",i[i.ThisYear=1]="ThisYear",i[i.All=2]="All"}),define("domain/analytics/analyticsSerie",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.AnalyticsSerie=i});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/admin/foodService/editFoodService",["require","exports","aurelia-framework","aurelia-router","aurelia-api","aurelia-event-aggregator","../../../services/notificationService","../../../repositories/stateRegistrationRepository","../../../domain/user","../../../repositories/userRepository","../../../domain/userType","../../../domain/foodService","../../../repositories/foodServiceRepository","../../../services/consultaCEPService","../../../validators/foodServiceValidator","../../../domain/address","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s,n,c,l,d,u,p,f,v,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t,i,a,o,r,s,n){var l=this;this.router=e,this.ea=t,this.nService=i,this.stateRepo=a,this.userRepository=o,this.config=r,this.repository=s,this.consultaCepService=n,this.foodService=new u.FoodService,this.foodService.address=new h.Address,this.user=new c.User,this.edit=!0,this.ea.subscribe("showFoodServiceDetails",function(e){l.foodId=e.foodId,l.edit=e.edit,l.loadData()})}return e.prototype.attached=function(){this.loadData()},e.prototype.activate=function(e){null!=e&&e.foodId&&(this.foodId=e.foodId)},e.prototype.loadData=function(){var t=this;if(null!=this.foodId&&""!=this.foodId){this.ea.publish("loadingData");var e=this.repository.get(this.foodId).then(function(e){return t.foodService=e}).catch(function(e){return t.nService.presentError(e)}),i=this.stateRepo.getAll().then(function(e){return t.stateRegistrations=e}).catch(function(e){return t.nService.presentError(e)}),a=this.userRepository.getUsersFromFoodService(this.foodId).then(function(e){return t.users=e}).catch(function(e){return t.nService.presentError(e)});Promise.all([e,i,a]).then(function(){t.ea.publish("dataLoaded"),null==t.foodService.address&&(t.foodService.address=new h.Address),t.validator=new v.FoodServiceValidator(t.foodService)})}},e.prototype.save=function(){var t=this;this.repository.save(this.foodService).then(function(){t.nService.presentSuccess("Cadastro atualizado com sucesso!")}).catch(function(e){t.nService.error(e)})},e.prototype.cancel=function(){this.router.navigateToRoute("foodServicesAdmin")},e.prototype.editUser=function(e){e.isEditing=!0,e._name=e.name,e._email=e.email},e.prototype.cancelEditUser=function(e){e.isEditing=!1,e.name=e._name,e.email=e._email},e.prototype.editUserStatus=function(t,e){var i=this;t._status=e,t.status=e,this.userRepository.save(t).then(function(e){i.nService.presentSuccess("Usuário atualizado com sucesso!")}).catch(function(e){t.status=t._status,i.nService.error(e)})},e.prototype.saveEditUser=function(e){var t=this;this.userRepository.save(e).then(function(){t.nService.presentSuccess("Usuário atualizado com sucesso!"),e.isEditing=!1}).catch(function(e){t.nService.error(e)})},e.prototype.createUser=function(){var t=this;this.user.foodService=this.foodService,this.user.type=d.UserType.FoodService,this.userRepository.save(this.user).then(function(e){t.nService.presentSuccess("Usuário atualizado com sucesso!"),t.users.unshift(e),t.user=new c.User}).catch(function(e){t.nService.error(e)})},e.prototype.cancelCreateUser=function(){this.user=new c.User},e.prototype.resendInvite=function(e){var t=this;this.userRepository.resendInvite(e.id).then(function(){t.nService.presentSuccess("Invite enviado com sucesso!")}).catch(function(e){return t.nService.presentError(e)})},e.prototype.editStatus=function(e){var t=this;this.repository.updateStatus(this.foodService.id,e).then(function(){t.foodService.status=e,t.nService.presentSuccess("Status atualizado com sucesso!")}).catch(function(e){return t.nService.presentError(e)})},e.prototype.cancelUpload=function(){this.selectedFiles=[],document.getElementById("files").value=""},e.prototype.downloadSocialContract=function(){var e=this.config.getEndpoint("csz");window.open(e.client.baseUrl+"downloadFoodServiceContractSocial?foodServiceId="+this.foodService.id,"_blank")},e.prototype.uploadSocialContract=function(){var t=this;this.isUploading=!0;for(var e=new FormData,i=0;i<this.selectedFiles.length;i++)e.append("file",this.selectedFiles[i]);this.repository.uploadSocialContract(e,this.foodService.id).then(function(){t.isUploading=!1,document.getElementById("files").value="",t.nService.presentSuccess("Contrato atualizado com sucesso!")}).catch(function(e){t.selectedFiles=[],t.nService.error(e),t.isUploading=!1})},e.prototype.consultaCEP=function(){var t=this;this.validator.addressValidator.validateCep(),8<=this.foodService.address.cep.length&&this.consultaCepService.findCEP(this.foodService.address.cep).then(function(e){null!=e&&(t.foodService.address.city=e.localidade,t.foodService.address.neighborhood=e.bairro,t.foodService.address.number=null,t.foodService.address.logradouro=e.logradouro,t.foodService.address.complement=e.complemento,t.foodService.address.state=e.uf,t.validator.validate())}).catch(function(e){t.nService.presentError(e)})},e.prototype.cancelShowDetails=function(){this.ea.publish("showFoodServiceDetailsCanceled")},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,r.EventAggregator,s.NotificationService,n.StateRegistrationRepository,l.UserRepository,o.Config,p.FoodServiceRepository,f.ConsultaCEPService])],e)}();t.EditFoodService=m});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/admin/foodService/listFoodServices",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../../services/notificationService","../../../repositories/foodServiceRepository","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,i,a){this.router=e,this.ea=t,this.nService=i,this.repository=a,this.foodServices=[]}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.loadData()},e.prototype.loadData=function(){var t=this;this.repository.getAll().then(function(e){t.foodServices=e,t.filteredFoodServices=e,t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)})},e.prototype.search=function(){var i=this;this.filteredFoodServices=this.foodServices.filter(function(e){var t=!0;if(null!=i.selectedStatus&&""!=i.selectedStatus&&(t=e.status.toString()==i.selectedStatus),null!=i.filter&&""!=i.filter&&(t=!!(e.name.toUpperCase().includes(i.filter.toUpperCase())||e.contact.name.toUpperCase().includes(i.filter.toUpperCase())||e.contact.email.toUpperCase().includes(i.filter.toUpperCase()))),t)return e})},e.prototype.edit=function(e){this.router.navigateToRoute("editFoodServiceAdmin",{foodId:e.id})},e.prototype.editStatus=function(e,t){var i=this;this.repository.updateStatus(e.id,t).then(function(){e.status=t,i.nService.presentSuccess("Status atualizado com sucesso!")}).catch(function(e){return i.nService.presentError(e)})},e.prototype.inactivate=function(e){this.router.navigateToRoute("editFoodServiceAdmin",{foodId:e.id})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator,r.NotificationService,s.FoodServiceRepository])],e)}();t.ListFoodServices=n});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/admin/product/listProduct",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../../services/identityService","../../../services/notificationService","../../../repositories/productRepository","../../../domain/product","../../../repositories/unitOfMeasurementRepository","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s,n,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,i,a,o,r,s){this.router=e,this.ea=t,this.service=i,this.nService=a,this.repository=o,this.unitRepository=r,this.productRepository=s,this.units=[]}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.loadData()},e.prototype.loadData=function(){var t=this;this.productRepository.getAllCategories().then(function(e){t.categories=e,t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)}),this.unitRepository.getAll().then(function(e){t.units=e}).catch(function(e){t.nService.presentError(e)})},e.prototype.searchProducts=function(){var t=this;this.repository.getAllProductsByCategory(this.selectedCategory).then(function(e){t.products=e,t.filteredProducts=e,t.search()}).catch(function(e){t.nService.presentError(e)})},e.prototype.search=function(){var i=this;this.filteredProducts=this.products.filter(function(e){var t=!0;if(null!=i.selectedCategory&&""!=i.selectedCategory&&(t=e.category.id==i.selectedCategory),t&&null!=i.filter&&""!=i.filter&&(t=!!(e.name.toUpperCase().includes(i.filter.toUpperCase())||e.category.name.toUpperCase().includes(i.filter.toUpperCase())||null!=e.brand&&e.brand.name.toUpperCase().includes(i.filter.toUpperCase()))),t)return e})},e.prototype.edit=function(e){var t=this;this.isEditing=!0,this.product=e,this.product.category=this.categories.filter(function(e){return e.id==t.product.category.id})[0],this.product.unit=this.units.filter(function(e){return e.id==t.product.unit.id})[0]},e.prototype.create=function(){this.product=new l.Product,this.isEditing=!0,this.product.isActive=!0},e.prototype.cancel=function(){this.isEditing=!1,this.product=null},e.prototype.addOrUpdate=function(){var t=this;this.repository.addOrUpdate(this.product).then(function(e){t.product=null,t.loadData(),t.isEditing=!1}).catch(function(e){t.nService.presentError(e)})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator,r.IdentityService,s.NotificationService,n.ProductRepository,c.UnitOfMeasurementRepository,n.ProductRepository])],e)}();t.ListProduct=d});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/admin/supplier/editSupplier",["require","exports","aurelia-framework","aurelia-router","aurelia-api","aurelia-event-aggregator","../../../services/notificationService","../../../domain/supplier","../../../repositories/supplierRepository","../../../repositories/stateRegistrationRepository","../../../domain/user","../../../repositories/userRepository","../../../domain/userType","../../../validators/supplierValidator","../../../services/consultaCEPService","../../../domain/address","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s,c,n,l,d,u,p,f,v,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t,i,a,o,r,s,n){var l=this;this.router=e,this.ea=t,this.nService=i,this.stateRepo=a,this.userRepository=o,this.consultaCepService=r,this.config=s,this.repository=n,this.supplier=new c.Supplier,this.supplier.address=new h.Address,this.user=new d.User,this.edit=!0,this.ea.subscribe("showSupplierDetails",function(e){l.supplierId=e.supplierId,l.edit=e.edit,l.loadData()})}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.loadData()},e.prototype.activate=function(e){null!=e&&e.supplierId&&(this.supplierId=e.supplierId)},e.prototype.loadData=function(){var t=this;if(null!=this.supplierId&&""!=this.supplierId){var e=this.repository.get(this.supplierId).then(function(e){return t.supplier=e}).catch(function(e){return t.nService.presentError(e)}),i=this.stateRepo.getAll().then(function(e){return t.stateRegistrations=e}).catch(function(e){return t.nService.presentError(e)}),a=this.userRepository.getUsersFromSupplier(this.supplierId).then(function(e){return t.users=e}).catch(function(e){return t.nService.presentError(e)});Promise.all([e,i,a]).then(function(){t.ea.publish("dataLoaded"),null==t.supplier.address&&(t.supplier.address=new h.Address),t.validator=new f.SupplierValidator(t.supplier)})}},e.prototype.cancelUpload=function(){this.selectedFiles=[],document.getElementById("files").value=""},e.prototype.downloadSocialContract=function(){var e=this.config.getEndpoint("csz");window.open(e.client.baseUrl+"downloadSupplierContractSocial?supplierId="+this.supplier.id,"_blank")},e.prototype.uploadSocialContract=function(){var t=this;this.isUploading=!0;for(var e=new FormData,i=0;i<this.selectedFiles.length;i++)e.append("file",this.selectedFiles[i]);this.repository.uploadSocialContract(e,this.supplier.id).then(function(){t.isUploading=!1,document.getElementById("files").value="",t.nService.presentSuccess("Contrato atualizado com sucesso!")}).catch(function(e){t.selectedFiles=[],t.nService.error(e),t.isUploading=!1})},e.prototype.save=function(){var t=this;this.repository.save(this.supplier).then(function(){t.nService.presentSuccess("Cadastro atualizado com sucesso!")}).catch(function(e){t.nService.error(e)})},e.prototype.cancel=function(){this.router.navigateToRoute("suppliersAdmin")},e.prototype.editUser=function(e){e.isEditing=!0,e._name=e.name,e._email=e.email},e.prototype.cancelEditUser=function(e){e.isEditing=!1,e.name=e._name,e.email=e._email},e.prototype.editUserStatus=function(t,e){var i=this;t._status=e,t.status=e,this.userRepository.save(t).then(function(e){i.nService.presentSuccess("Usuário atualizado com sucesso!")}).catch(function(e){t.status=t._status,i.nService.error(e)})},e.prototype.saveEditUser=function(e){var t=this;this.userRepository.save(e).then(function(){t.nService.presentSuccess("Usuário atualizado com sucesso!"),e.isEditing=!1}).catch(function(e){t.nService.error(e)})},e.prototype.createUser=function(){var t=this;this.user.supplier=this.supplier,this.user.type=p.UserType.Supplier,this.userRepository.save(this.user).then(function(e){t.nService.presentSuccess("Usuário atualizado com sucesso!"),t.users.unshift(e),t.user=new d.User}).catch(function(e){t.nService.error(e)})},e.prototype.cancelCreateUser=function(){this.user=new d.User},e.prototype.resendInvite=function(e){var t=this;this.userRepository.resendInvite(e.id).then(function(){t.nService.presentSuccess("Invite enviado com sucesso!")}).catch(function(e){return t.nService.presentError(e)})},e.prototype.editStatus=function(e){var t=this;this.repository.updateStatus(this.supplier.id,e).then(function(){t.supplier.status=e,t.nService.presentSuccess("Status atualizado com sucesso!")}).catch(function(e){return t.nService.presentError(e)})},e.prototype.consultaCEP=function(){var t=this;this.validator.addressValidator.validateCep(),8<=this.supplier.address.cep.length&&this.consultaCepService.findCEP(this.supplier.address.cep).then(function(e){null!=e&&(t.supplier.address.city=e.localidade,t.supplier.address.neighborhood=e.bairro,t.supplier.address.number=null,t.supplier.address.logradouro=e.logradouro,t.supplier.address.complement=e.complemento,t.supplier.address.state=e.uf,t.validator.validate())}).catch(function(e){t.nService.presentError(e)})},e.prototype.cancelView=function(){this.ea.publish("showSupplierDetailsCanceled")},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,r.EventAggregator,s.NotificationService,l.StateRegistrationRepository,u.UserRepository,v.ConsultaCEPService,o.Config,n.SupplierRepository])],e)}();t.EditSupplier=m});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/admin/supplier/listSuppliers",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../../services/notificationService","../../../repositories/supplierRepository","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,i,a){this.router=e,this.ea=t,this.nService=i,this.repository=a,this.suppliers=[]}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.loadData()},e.prototype.loadData=function(){var t=this;this.repository.getAllSuppliers().then(function(e){t.suppliers=e,t.filteredSuppliers=e,t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)})},e.prototype.search=function(){var i=this;this.filteredSuppliers=this.suppliers.filter(function(e){var t=!0;if(null!=i.selectedStatus&&""!=i.selectedStatus&&(t=e.status.toString()==i.selectedStatus),null!=i.filter&&""!=i.filter&&(t=!!(e.name.toUpperCase().includes(i.filter.toUpperCase())||e.contact.name.toUpperCase().includes(i.filter.toUpperCase())||e.contact.email.toUpperCase().includes(i.filter.toUpperCase()))),t)return e})},e.prototype.edit=function(e){this.router.navigateToRoute("editSupplierAdmin",{supplierId:e.id})},e.prototype.editStatus=function(e,t){var i=this;this.repository.updateStatus(e.id,t).then(function(){e.status=t,i.nService.presentSuccess("Status atualizado com sucesso!")}).catch(function(e){return i.nService.presentError(e)})},e.prototype.inactivate=function(e){this.router.navigateToRoute("editSupplierAdmin",{supplierId:e.id})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator,r.NotificationService,s.SupplierRepository])],e)}();t.ListSuppliers=n});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/admin/supplier/evaluations",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../../services/notificationService","../../../repositories/evaluationRepository","../../../domain/evaluationStatus","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,i,a){this.router=e,this.ea=t,this.repository=i,this.nService=a}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.selectedStatus=0,this.loadData()},e.prototype.loadData=function(){this.load()},e.prototype.load=function(){var t=this;this.repository.getEvaluations(this.selectedStatus).then(function(e){t.evaluations=e,t.filteredEvaluations=e,t.ea.publish("dataLoaded")}).catch(function(e){t.ea.publish("dataLoaded"),t.nService.presentError(e)})},e.prototype.reject=function(t){var i=this;t.processing=!0,this.repository.updateStatus(t.id,n.EvaluationStatus.Rejected).then(function(){t.status=n.EvaluationStatus.Rejected,i.nService.success("Avaliação alterada com sucesso!"),t.processing=!1,i.evaluation=null}).catch(function(e){i.nService.error(e),t.processing=!1})},e.prototype.approve=function(t){var i=this;t.processing=!0,this.repository.updateStatus(t.id,n.EvaluationStatus.Approved).then(function(){t.status=n.EvaluationStatus.Approved,i.nService.success("Avaliação alterada com sucesso!"),t.processing=!1,i.evaluation=null}).catch(function(e){i.nService.error(e),t.processing=!1})},e.prototype.showDetails=function(e){this.evaluation=e},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator,s.EvaluationRepository,r.NotificationService])],e)}();t.Evaluations=l});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/admin/finance/listInvoice",["require","exports","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../../services/notificationService","../../../repositories/financeRepository","../../../domain/invoiceStatus","../../../domain/editInvoiceViewModel","twitter-bootstrap-wizard","jquery-mask-plugin","aurelia-validation"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a){this.router=e,this.ea=t,this.nService=i,this.repository=a,this.controls=[]}return e.prototype.attached=function(){this.ea.publish("loadingData"),this.loadData()},e.prototype.changeControl=function(){this.filteredInvoices=this.selectedControl.invoices,this.search(),this.calculateTotalValue()},e.prototype.calculateTotalValue=function(){null!=this.selectedControl.invoices&&(this.totalValue=this.selectedControl.invoices.reduce(function(e,t){return e+t.valueToPay},0),this.totalValuePaid=this.selectedControl.invoices.filter(function(e){return e.status==n.InvoiceStatus.Paid}).reduce(function(e,t){return e+t.valueToPay},0))},e.prototype.loadData=function(){var t=this;this.repository.getControls().then(function(e){0<(t.controls=e).length&&(t.selectedControl=e[0],t.filteredInvoices=e[0].invoices,t.calculateTotalValue()),t.ea.publish("dataLoaded")}).catch(function(e){t.nService.presentError(e)})},e.prototype.generateInvoices=function(){var t=this;this.isLoading=!0,this.repository.generateInvoices(this.selectedControl).then(function(e){t.selectedControl.invoices=e,t.filteredInvoices=e,0==t.filteredInvoices.length&&t.nService.presentError("Não há pedidos para gerar o faturamento"),t.calculateTotalValue(),t.selectedControl.canGenerateInvoices=!1,t.isLoading=!1}).catch(function(e){t.nService.presentError(e),t.isLoading=!1})},e.prototype.edit=function(e){this.isEditing=!0,this.selectedInvoice=e,this.setInvoiceValues()},e.prototype.cancelEdit=function(){this.isEditing=!1},e.prototype.setInvoiceValues=function(){null==this.selectedInvoice.originalPrice&&(this.selectedInvoice.originalPrice=this.selectedInvoice.totalValue),null==this.selectedInvoice.originalFee&&(this.selectedInvoice.originalFee=this.selectedInvoice.fee)},e.prototype.editStatus=function(e,t){e.status=t,this.selectedInvoice=e,this.saveInvoice()},e.prototype.saveInvoice=function(){var t=this;this.isLoading=!0,this.selectedInvoice.isEditing=!0;var e=new l.EditInvoiceViewModel;e.id=this.selectedInvoice.id,e.fee=this.selectedInvoice.fee,e.maturity=this.selectedInvoice.maturity,e.status=this.selectedInvoice.status,e.totalValue=this.selectedInvoice.totalValue,e.valueToPay=this.selectedInvoice.valueToPay,this.repository.saveInvoice(e).then(function(e){t.nService.presentSuccess("Fatura atualizada com sucesso!"),t.isLoading=!1,t.selectedInvoice.isEditing=!1,t.calculateTotalValue()}).catch(function(e){t.nService.presentError(e),t.isLoading=!1,t.selectedInvoice.isEditing=!1})},e.prototype.calculateInvoicePrice=function(){this.selectedInvoice.valueToPay=this.selectedInvoice.totalValue*(this.selectedInvoice.fee/100)},e.prototype.cancelEditInvoicePrice=function(){null!=this.selectedInvoice.originalPrice&&(this.selectedInvoice.totalValue=this.selectedInvoice.originalPrice),null!=this.selectedInvoice.originalFee&&(this.selectedInvoice.fee=this.selectedInvoice.originalFee),this.calculateInvoicePrice()},e.prototype.search=function(){var i=this;this.filteredInvoices=this.selectedControl.invoices.filter(function(e){var t=!0;if(null!=i.selectedStatus&&""!=i.selectedStatus&&(t=e.status.toString()==i.selectedStatus),null!=i.filter&&""!=i.filter&&(t=!!e.supplier.name.toUpperCase().includes(i.filter.toUpperCase())),t)return e})},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.Router,o.EventAggregator,r.NotificationService,s.FinanceRepository])],e)}();t.ListInvoice=c});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/inscricaoEstadualMask",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).mask("000.000.000.000")},e=__decorate([i.customAttribute("inscricaoEstadual"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.InscricaoEstadualMask=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/numberMask",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).mask("00")},e=__decorate([i.customAttribute("number"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.NumberMask=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/datepicker",["require","exports","aurelia-framework","jquery-datetimepicker"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).datetimepicker({onGenerate:function(e){},format:"d/m/Y",timepicker:!1,mask:!0}).on("blur",function(e){return t=e.target,i="change",(a=document.createEvent("Event")).initEvent(i,!0,!0),void t.dispatchEvent(a);var t,i,a})},e.prototype.detached=function(){},e=__decorate([i.customAttribute("datepicker"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.DatePicker=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/timeMask",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).mask("00:00")},e=__decorate([i.customAttribute("time"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.TimeMask=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/cellPhoneWithDDDMask",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).mask("(00) 00000-0000")},e=__decorate([i.customAttribute("cell-phone-with-ddd"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.CellPhoneWithDDDMask=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/moneyMask",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).mask("000.000.000.000.000,00",{reverse:!0})},e=__decorate([i.customAttribute("money"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.MoneyMask=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/cepMask",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).mask("00000-000")},e=__decorate([i.customAttribute("cep"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.CEPMask=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/cnpjMask",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).mask("00.000.000/0000-00")},e=__decorate([i.customAttribute("cnpj"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.CNPJMask=a});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/attributes/phoneWithDDDMask",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.element=e}return e.prototype.attached=function(){$(this.element).mask("(00) 0000-0000")},e=__decorate([i.customAttribute("phone-with-ddd"),i.autoinject,__metadata("design:paramtypes",[Element])],e)}();t.PhoneWithDDDMask=a}),define("views/components/valueConverters/numberValueConverter",["require","exports","jquery-mask-plugin"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.toView=function(e){return e},e.prototype.fromView=function(e){return e},e}();t.NumberValueConverter=i});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s};define("views/components/valueConverters/timeValueConverter",["require","exports","aurelia-framework","jquery-mask-plugin"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.toView=function(e){if(null!=e){if(isNaN(e))return"";if(1==(e+="").length)return Number.parseInt(e)<10&&2<Number.parseInt(e)?"0"+e+":00":Number.parseInt(e)<=2?e:e+":00";if(2==e.length)return 24<Number.parseInt(e)?"0"+e+"0":e+":00";if(3==e.length){var t=(""+e).substr(0,2),i=(""+e).substr(2,1);if(""==e)return null;if(24<Number.parseInt(t)){i=(""+e).substr(1,2);return 59<Number.parseInt(i)&&(i="00"),"0"+e.substr(0,1)+":"+i}return 5<Number.parseInt(i)&&(i="00"),t+":"+i}t=(""+e).substr(0,2),i=(""+e).substr(2,2);return""==e?null:24<=Number.parseInt(t)?"":("0"==i.substr(0,1)&&(i=(10*Number.parseInt(i)/10).toString()),59<Number.parseInt(i)&&(i="00"),i.length<2&&(i+="0"),t+":"+i)}},e.prototype.fromView=function(e){return(""+e).replace(":","")},e=__decorate([i.autoinject],e)}();t.TimeValueConverter=a}),define("views/components/valueConverters/dateAndTimeFormatValueConverter",["require","exports","moment"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.toView=function(e){return i.locale("pt-BR"),null==e||""==e?"":i(e).format("DD/MM/YYYY HH:mm:ss")},e.prototype.fromView=function(e){return i.locale("pt-BR"),i(e,"DD/MM/YYYY").utc().format("YYYY-MM-DD HH:mm:ssZ")},e}();t.DateAndTimeFormatValueConverter=a}),define("views/components/valueConverters/moneyValueConverter",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.toView=function(e){if(null==e)return e;var t=e.toFixed(2).split(".");return t[0]=t[0].split(/(?=(?:...)*$)/).join("."),t.join(",")},e.prototype.fromView=function(e){return null!=e?e.split(".").join("").replace(",","")/100:null},e}();t.MoneyValueConverter=i}),define("views/components/valueConverters/inscricaoEstadualValueConverter",["require","exports","jquery-mask-plugin"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.toView=function(e){return null==e?e:(e=""+e).substr(0,3)+"."+e.substr(3,3)+"."+e.substr(6,3)+"."+e.substr(9,3)},e.prototype.fromView=function(e){return null!=e?e.replace(".","").replace(".","").replace(".",""):null},e}();t.InscricaoEstadualValueConverter=i}),define("views/components/valueConverters/dateFormatValueConverter",["require","exports","moment"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.toView=function(e){return i.locale("pt-BR"),null==e||""==e?null:i(e).format("DD/MM/YYYY")},e.prototype.fromView=function(e){return i.locale("pt-BR"),null==e||""==e?null:i(e,"DD/MM/YYYY").utc().format("YYYY-MM-DD HH:mm:ssZ")},e}();t.DateFormatValueConverter=a}),define("views/components/valueConverters/phoneWithDDDValueConverter",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.toView=function(e){return null==e?e:"("+(e=""+e).substr(0,2)+") "+e.substr(2,4)+"-"+e.substr(6,4)},e.prototype.fromView=function(e){return null!=e?e.replace("(","").replace(")","").replace("-","").replace(" ",""):null},e}();t.PhoneWithDDDValueConverter=i}),define("views/components/valueConverters/cepValueConverter",["require","exports","jquery-mask-plugin"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.toView=function(e){return null==e?e:(e=""+e).substr(0,5)+"-"+e.substr(5,3)},e.prototype.fromView=function(e){return null!=e?e.replace("-",""):null},e}();t.CepValueConverter=i}),define("views/components/valueConverters/cellPhoneWithDDDValueConverter",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.toView=function(e){return null==e?e:"("+(e=""+e).substr(0,2)+") "+e.substr(2,5)+"-"+e.substr(7,4)},e.prototype.fromView=function(e){return null!=e?e.replace("(","").replace(")","").replace("-","").replace(" ",""):null},e}();t.CellPhoneWithDDDValueConverter=i}),define("views/components/valueConverters/cnpjValueConverter",["require","exports","jquery-mask-plugin"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.toView=function(e){return null==e?e:(e=""+e).substr(0,2)+"."+e.substr(2,3)+"."+e.substr(5,3)+"/"+e.substr(8,4)+"-"+e.substr(12,2)},e.prototype.fromView=function(e){return null!=e?e.replace(".","").replace(".","").replace("/","").replace("-",""):null},e}();t.CnpjValueConverter=i});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/atualizacaoDePrecos",["require","exports","aurelia-api","../../../repositories/productRepository","../../../services/notificationService","../../../services/identityService","aurelia-framework","aurelia-router","aurelia-event-aggregator"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a,o,r,s){this.router=e,this.service=t,this.nService=i,this.ea=a,this.productRepository=o,this.config=r,this.repository=s,this.filteredProducts=new Array,this.supplierProducts=new Array,this.alteredProducts=new Array,this.isLoading=!0}return e.prototype.attached=function(){var t=this;this.loadData(),this.ea.subscribe("productAdded",function(e){e.isNew=!0,t.supplierProducts.push(e),t.supplierProducts=t.supplierProducts.sort(function(e,t){return 0-(e.product.name>t.product.name?-1:1)}),t.search()})},e.prototype.loadData=function(){var t=this;this.productRepository.getAllCategories().then(function(e){t.categories=e,t.selectedCategory=e[0].id,t.ea.publish("atualizacaoDePrecosLoaded"),t.loadProducts()}).catch(function(e){t.nService.presentError(e)})},e.prototype.loadProducts=function(){var t=this;this.isLoading=!0,this.supplierProducts=[],this.filteredProducts=[],this.alteredProducts=[],this.filter="",this.repository.getAllSuplierProducts(this.selectedCategory).then(function(e){t.supplierProducts=e,t.filteredProducts=e,t.isLoading=!1}).catch(function(e){t.nService.presentError(e)})},e.prototype.search=function(){var i=this;this.filteredProducts=this.supplierProducts.filter(function(e){var t=!0;if(null!=i.selectedCategory&&""!=i.selectedCategory&&(t=e.product.category.id==i.selectedCategory),t&&null!=i.filter&&""!=i.filter&&(t=!!(e.product.name.toUpperCase().includes(i.filter.toUpperCase())||e.product.category.name.toUpperCase().includes(i.filter.toUpperCase())||null!=e.product.brand&&e.product.brand.name.toUpperCase().includes(i.filter.toUpperCase()))),t)return e})},e.prototype.edit=function(e){e.isEditing=!0,e.oldPrice=e.price,e.oldIsActive=e.isActive},e.prototype.cancelEdit=function(t){t.isEditing=!1,t.walAltered=!1,t.price=t.oldPrice,t.isActive=t.oldIsActive,this.alteredProducts=this.alteredProducts.filter(function(e){return e.id!=t.id})},e.prototype.alterStatus=function(e){e.isActive=!e.isActive},e.prototype.save=function(t){var i=this;this.alteredProducts.push(t),t.isEditing=!1,t.wasAltered=!0,t.isLoading=!0,this.repository.alterSuplierProduct(this.alteredProducts).then(function(e){i.nService.success("O produto foram atualizado com sucesso!"),i.isLoading=!1,i.ea.publish("uploadSupplierProductFileDone"),i.alteredProducts=[],t.isLoading=!1}).catch(function(e){i.nService.error(e),i.isLoading=!1})},e.prototype.downloadFile=function(){var e=this.service.getIdentity().id,t=this.config.getEndpoint("csz");window.open(t.client.baseUrl+"downloadSupplierProducts?userId="+e,"_parent")},e.prototype.uploadFile=function(){var t=this;this.isUploading=!0;for(var e=new FormData,i=0;i<this.selectedFiles.length;i++)e.append("file",this.selectedFiles[i]);this.repository.uploadFile(e).then(function(e){(t.loadData(),null!=e.rows&&0<e.rows.length)?0<e.rows.filter(function(e){return 1==e.status}).length?t.nService.error("Foram encontrados erros no arquivo. Verifique os detalhes no histórico de importação"):t.nService.success("O arquivo foi processado com sucesso"):t.nService.success("O arquivo foi processado com sucesso");t.selectedFiles=[],t.ea.publish("uploadSupplierProductFileDone",e),t.isUploading=!1,document.getElementById("files").value=""}).catch(function(e){t.selectedFiles=[],t.nService.error(e),t.isUploading=!1})},e=__decorate([s.autoinject,__metadata("design:paramtypes",[n.Router,r.IdentityService,o.NotificationService,l.EventAggregator,a.ProductRepository,i.Config,a.ProductRepository])],e)}();t.AtualizacaoDePrecos=c});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/aceitePedido",["require","exports","aurelia-framework","aurelia-dialog","aurelia-event-aggregator","aurelia-validation","../../../services/notificationService","../../../repositories/orderRepository","../../formValidationRenderer","../../../domain/order","../../../domain/orderStatus"],function(e,t,i,a,o,r,s,n,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t,i,a,o){this.validationControllerFactory=t,this.ea=i,this.notification=a,this.orderRepo=o,this.controller=e,this.order=new c.Order,this.validationController=this.validationControllerFactory.createForCurrentScope(),this.validationController.addRenderer(new l.FormValidationRenderer),this.validationController.validateTrigger=r.validateTrigger.blur,this.validationController.addObject(this.order),this.processing=!1}return e.prototype.activate=function(e){null!=e.Order&&(this.order=e.Order),r.ValidationRules.ensure(function(e){return e.deliveryDate}).displayName("Data de entrega").required().ensure(function(e){return e.paymentDate}).displayName("Data de pagamento").required().on(this.order)},e.prototype.acceptOrder=function(){var t=this;this.validationController.validate().then(function(e){e.valid?(t.processing=!0,t.orderRepo.acceptOrder(t.order).then(function(e){t.notification.success("Pedido atualizado com sucesso!"),t.ea.publish("orderAccepted",t.order),t.order.status=d.OrderStatus.Accepted,t.controller.ok(),t.processing=!1}).catch(function(e){t.notification.presentError(e),t.processing=!1})):t.notification.error("Erros de validação foram encontrados")})},e.prototype.cancel=function(){this.controller.cancel()},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.DialogController,r.ValidationControllerFactory,o.EventAggregator,s.NotificationService,n.OrderRepository])],e)}();t.AceitePedido=u});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/cotacaoPedido",["require","exports","aurelia-api","../../../repositories/productRepository","../../../services/notificationService","../../../services/identityService","aurelia-framework","aurelia-router","aurelia-event-aggregator"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a,o,r){this.router=e,this.service=t,this.nService=i,this.ea=a,this.config=o,this.repository=r}return e=__decorate([s.autoinject,__metadata("design:paramtypes",[n.Router,r.IdentityService,o.NotificationService,l.EventAggregator,i.Config,a.ProductRepository])],e)}();t.CotacaoPedido=c});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/selecaoDeProdutosFoodService",["require","exports","../../../repositories/productRepository","../../../services/notificationService","../../../services/identityService","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../../repositories/foodServiceRepository","../../../domain/foodServiceProduct"],function(e,t,i,a,o,r,s,n,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,i,a,o,r){this.router=e,this.service=t,this.nService=i,this.ea=a,this.productRepository=o,this.repository=r,this.isFiltered=!1,this.isProcessing=!1}return e.prototype.attached=function(){var t=this;this.loadData(),this.ea.subscribe("productRemoved",function(e){t.allProducts.unshift(e.product),t.search()})},e.prototype.loadData=function(){var t=this,e=this.productRepository.getAllCategories().then(function(e){t.categories=e}).catch(function(e){t.nService.presentError(e)}),i=this.productRepository.getAllProducts().then(function(e){t.allProducts=e}).catch(function(e){t.nService.presentError(e)});Promise.all([e,i]).then(function(){return t.ea.publish("dataLoaded")})},e.prototype.search=function(){var i=this;null!=this.selectedCategory&&""!=this.selectedCategory||null!=this.filter&&""!=this.filter?(this.isFiltered=!0,this.filteredProducts=this.allProducts.filter(function(e){var t=!0;if(null!=i.selectedCategory&&""!=i.selectedCategory&&(t=e.category.id==i.selectedCategory),t&&null!=i.filter&&""!=i.filter&&(t=!!e.name.toUpperCase().includes(i.filter.toUpperCase())),t)return e})):this.isFiltered=!1},e.prototype.addProduct=function(t){var i=this;this.service.getIdentity();t.isLoading=!0,this.isProcessing=!0;var e=new c.FoodServiceProduct;e.product=t,e.isActive=!0,this.isFiltered=!0,this.repository.addProduct(e).then(function(e){i.filteredProducts=i.filteredProducts.filter(function(e){return e.id!=t.id}),i.allProducts=i.allProducts.filter(function(e){return e.id!=t.id}),i.nService.presentSuccess("Produto incluído com sucesso!"),i.ea.publish("productAdded",e),i.isProcessing=!1,t.isLoading=!0}).catch(function(e){i.nService.presentError(e),i.isProcessing=!1,t.isLoading=!0})},e=__decorate([r.autoinject,__metadata("design:paramtypes",[s.Router,o.IdentityService,a.NotificationService,n.EventAggregator,i.ProductRepository,l.FoodServiceRepository])],e)}();t.SelecaoDeProdutosFoodService=d});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/listaDePrecos",["require","exports","../../../repositories/priceListRepository","aurelia-api","../../../services/notificationService","../../../services/identityService","aurelia-framework","aurelia-router","aurelia-event-aggregator"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a,o,r){this.router=e,this.service=t,this.nService=i,this.ea=a,this.config=o,this.repository=r,this.lists=[]}return e.prototype.attached=function(){var t=this;this.loadData(),this.ea.subscribe("uploadSupplierProductFileDone",function(e){t.loadData()})},e.prototype.loadData=function(){var t=this;this.repository.getAll().then(function(e){t.lists=e,t.ea.publish("listaDePrecosLoaded")}).catch(function(e){t.nService.presentError(e)})},e.prototype.downloadList=function(e){var t=this.service.getIdentity().id,i=this.config.getEndpoint("csz");window.open(i.client.baseUrl+"DownloadPriceList?userId="+t+"&listId="+e.id,"_parent")},e.prototype.dataAtualFormatada=function(e){var t="",i="",a=new Date(e);1==(t=a.getDate().toString()).toString().length&&(t="0"+t),1==(i=(a.getMonth()+1).toString()).toString().length&&(i="0"+i);var o=a.getFullYear().toString();return 0==a.getHours()?t+"/"+i+"/"+o:t+"/"+i+"/"+o+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()},e=__decorate([s.autoinject,__metadata("design:paramtypes",[n.Router,r.IdentityService,o.NotificationService,l.EventAggregator,a.Config,i.PriceListRepository])],e)}();t.ListaDePrecos=c});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/baixaPedido",["require","exports","aurelia-framework","aurelia-dialog","aurelia-event-aggregator","../../../services/notificationService","../../../repositories/orderRepository","../../../domain/order","../../../domain/orderStatus","../../../domain/evaluation","../../../repositories/evaluationRepository"],function(e,t,i,a,o,r,s,n,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t,i,a,o){this.ea=t,this.evalRepository=i,this.notification=a,this.orderRepo=o,this.processing=!1,this.controller=e,this.order=new n.Order,this.evaluation=new c.Evaluation}return e.prototype.activate=function(e){null!=e.Order&&(this.order=e.Order,this.evaluation.order=this.order)},e.prototype.acceptOrder=function(){var t=this;this.processing=!0,this.evalRepository.finishOrder(this.evaluation).then(function(e){t.notification.success("Pedido baixado com sucesso!"),t.order.status=l.OrderStatus.Accepted,t.controller.ok(),t.processing=!1}).catch(function(e){t.notification.presentError(e),t.processing=!1})},e.prototype.setAvaliacao=function(e){this.notaAvaliacao=e,this.evaluation.rating=e},e.prototype.cancel=function(){this.controller.cancel()},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.DialogController,o.EventAggregator,d.EvaluationRepository,r.NotificationService,s.OrderRepository])],e)}();t.BaixaPedido=u});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/selecaoDeProdutos",["require","exports","../../../repositories/productRepository","../../../services/notificationService","../../../services/identityService","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../../repositories/supplierRepository","../../../domain/supplierProduct"],function(e,t,i,a,o,r,s,n,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,i,a,o,r){this.router=e,this.service=t,this.nService=i,this.ea=a,this.productRepository=o,this.repository=r,this.isFiltered=!0,this.isLoaded=!1}return e.prototype.attached=function(){this.loadData()},e.prototype.loadData=function(){var t=this;this.productRepository.getAllCategories().then(function(e){t.categories=e,t.selectedCategory=t.categories[0].id,t.loadProducts()}).catch(function(e){t.nService.presentError(e)})},e.prototype.loadProducts=function(){var t=this;this.isLoaded=!1,this.allProducts=[],this.filteredProducts=[],this.productRepository.getOfferedProducts(this.selectedCategory).then(function(e){t.allProducts=e,t.filteredProducts=e,t.isLoaded=!0,t.ea.publish("selecaoDeProdutosLoaded")}).catch(function(e){t.nService.presentError(e),t.isLoaded=!0,t.ea.publish("selecaoDeProdutosLoaded")})},e.prototype.search=function(){var i=this;null!=this.selectedCategory&&""!=this.selectedCategory||null!=this.filter&&""!=this.filter?(this.isFiltered=!0,this.filteredProducts=this.allProducts.filter(function(e){var t=!0;if(null!=i.selectedCategory&&""!=i.selectedCategory&&(t=e.category.id==i.selectedCategory),t&&null!=i.filter&&""!=i.filter&&(t=!!e.name.toUpperCase().includes(i.filter.toUpperCase())),t)return e})):this.isFiltered=!1},e.prototype.includeProduct=function(e){var t=new c.SupplierProduct;t.product=e,t.isActive=!0,this.isFiltered=!0,e.supplierProduct=t,this.isEditing=!0},e.prototype.saveProduct=function(t){var i=this,e=t.supplierProduct;t.supplierProduct=null,e.isActive=!0,this.isFiltered=!0,this.repository.addProduct(e).then(function(e){i.allProducts=i.allProducts.filter(function(e){return e.id!=t.id}),i.filteredProducts=i.filteredProducts.filter(function(e){return e.id!=t.id}),i.nService.presentSuccess("Produto incluído com sucesso!"),i.ea.publish("productAdded",e),i.isEditing=!1}).catch(function(e){i.nService.presentError(e)})},e=__decorate([r.autoinject,__metadata("design:paramtypes",[s.Router,o.IdentityService,a.NotificationService,n.EventAggregator,i.ProductRepository,l.SupplierRepository])],e)}();t.SelecaoDeProdutos=d});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/rejeicaoPedido",["require","exports","aurelia-framework","aurelia-dialog","aurelia-event-aggregator","aurelia-validation","../../../services/notificationService","../../../repositories/orderRepository","../../formValidationRenderer","../../../domain/order","../../../domain/orderStatus","../../../domain/rejectOrderViewModel"],function(e,t,i,a,o,r,s,n,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t,i,a,o){this.ea=t,this.validationControllerFactory=i,this.notification=a,this.orderRepo=o,this.controller=e,this.order=new c.Order,this.vm=new u.RejectOrderViewModel,this.processing=!1,this.validationController=this.validationControllerFactory.createForCurrentScope(),this.validationController.addRenderer(new l.FormValidationRenderer),this.validationController.validateTrigger=r.validateTrigger.blur,this.validationController.addObject(this.vm)}return e.prototype.activate=function(e){null!=e.Order&&(this.order=e.Order,this.vm.orderId=this.order.id),r.ValidationRules.ensure(function(e){return e.orderId}).displayName("Código do pedido").required().ensure(function(e){return e.reason}).displayName("Motivo da Rejeição").required().on(this.vm)},e.prototype.rejectOrder=function(){var t=this;this.validationController.validate().then(function(e){e.valid?(t.processing=!0,t.orderRepo.rejectOrder(t.vm).then(function(e){t.processing=!1,t.notification.success("Pedido rejeitado com sucesso!"),t.ea.publish("orderRejected",t.order),t.order.status=d.OrderStatus.Rejected,t.controller.ok()}).catch(function(e){t.processing=!1,t.notification.presentError(e)})):(t.processing=!1,t.notification.error("Erros de validação foram encontrados"))})},e.prototype.cancel=function(){this.controller.cancel()},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.DialogController,o.EventAggregator,r.ValidationControllerFactory,s.NotificationService,n.OrderRepository])],e)}();t.RejeicaoPedido=p});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/horarioDeEntregaPedido",["require","exports","aurelia-framework","aurelia-dialog","aurelia-event-aggregator","aurelia-validation","../../../services/notificationService","../../formValidationRenderer","../../../domain/confirmScheduleOrderViewModel"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a){this.ea=t,this.validationControllerFactory=i,this.notification=a,this.controller=e,this.vm=new l.ConfirmScheduleOrderViewModel,this.validationController=this.validationControllerFactory.createForCurrentScope(),this.validationController.addRenderer(new n.FormValidationRenderer),this.validationController.validateTrigger=r.validateTrigger.blur,this.validationController.addObject(this.vm)}return e.prototype.activate=function(e){var t=this;r.ValidationRules.ensure(function(e){return e.deliveryScheduleStart}).displayName("Horário inicial").required().ensure(function(e){return e.deliveryScheduleEnd}).displayName("Horário final").required().on(this.vm),r.ValidationRules.ensureObject().satisfies(function(e){return t.vm.deliveryScheduleStart<t.vm.deliveryScheduleEnd}).withMessage("O horario inicial deve ser menor que o horário final").on(this.vm)},e.prototype.confirmSchedule=function(){var t=this;this.validationController.validate().then(function(e){e.valid?t.controller.ok(t.vm):t.notification.error("Erros de validação foram encontrados")})},e.prototype.cancel=function(){this.controller.cancel()},e=__decorate([i.autoinject,__metadata("design:paramtypes",[a.DialogController,o.EventAggregator,r.ValidationControllerFactory,s.NotificationService])],e)}();t.HorarioDeEntregaPedido=c});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/historicoDeImportacao",["require","exports","aurelia-api","../../../repositories/productRepository","../../../services/notificationService","../../../services/identityService","aurelia-framework","aurelia-router","aurelia-event-aggregator"],function(e,t,i,a,o,r,s,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i,a,o,r){this.router=e,this.service=t,this.nService=i,this.ea=a,this.config=o,this.repository=r,this.files=[]}return e.prototype.attached=function(){var t=this;this.loadData(),this.ea.subscribe("uploadSupplierProductFileDone",function(e){null!=e&&t.files.unshift(e)})},e.prototype.loadData=function(){var t=this;this.repository.getAllSuplierProductFiles().then(function(e){t.files=e,t.ea.publish("historicoDeImportacaoLoaded")}).catch(function(e){t.nService.presentError(e)})},e.prototype.dataAtualFormatada=function(e){var t="",i="",a=new Date(e);1==(t=a.getDate().toString()).toString().length&&(t="0"+t),1==(i=(a.getMonth()+1).toString()).toString().length&&(i="0"+i);var o=a.getFullYear().toString();return 0==a.getHours()?t+"/"+i+"/"+o:t+"/"+i+"/"+o+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()},e=__decorate([s.autoinject,__metadata("design:paramtypes",[n.Router,r.IdentityService,o.NotificationService,l.EventAggregator,i.Config,a.ProductRepository])],e)}();t.HistoricoDeImportacao=c});__decorate=this&&this.__decorate||function(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;0<=n;n--)(o=e[n])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("views/components/partials/produtosSelecionados",["require","exports","../../../repositories/productRepository","../../../services/notificationService","../../../services/identityService","../../../domain/productCategory","aurelia-framework","aurelia-router","aurelia-event-aggregator","../../../repositories/foodServiceRepository","../../../domain/buyList","../../../domain/buyListProduct","../../../domain/alterBuyListProductViewModel"],function(e,t,i,a,o,r,s,n,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i,a,o,r,s){this.router=e,this.service=t,this.nService=i,this.ea=a,this.productRepository=o,this.repository=r,this.identityService=s,this.isFiltered=!1,this.isCreatingList=!1,this.filteredProducts=[],this.lists=[]}return e.prototype.attached=function(){var e=this;this.loadData(),this.ea.subscribe("productAdded",function(a){a.isNew=!0,"-1"==e.selectedCategory||"-2"==e.selectedCategory||""==e.selectedCategory||null==e.selectedCategory?(e.isFiltered=!0,e.filteredProducts.unshift(a),e.allProducts.unshift(a),e.lists.forEach(function(e){var t=e.products.filter(function(e){return e.foodServiceProduct.productId==a.productId});if(null==t){var i=new u.BuyListProduct;i.foodServiceProduct=a,i.isInList=!1,e.products.unshift(i)}else t[0].foodServiceProduct.isActive=!0})):e.allProducts.unshift(a)})},e.prototype.loadData=function(){var i=this;this.productRepository.getAllCategories().then(function(e){var t;i.categories=e,(t=new r.ProductCategory).id="-2",t.name="Todos",i.categories.unshift(t),(t=new r.ProductCategory).id="-1",t.name="Novos Produtos",i.categories.unshift(t)}).catch(function(e){i.nService.presentError(e)}),this.repository.getProducts().then(function(e){i.allProducts=e,i.repository.getLists().then(function(e){i.lists=e,i.defineProductsInList(),i.search()}).catch(function(e){i.nService.presentError(e)})}).catch(function(e){i.nService.presentError(e)})},e.prototype.defineProductsInList=function(){this.lists.forEach(function(t){t.products.forEach(function(e){null!=e.foodServiceProduct&&(t[e.foodServiceProduct.product.name+"_"+e.foodServiceProduct.product.unit.name]=e.isInList)})})},e.prototype.search=function(){var i=this;this.isFiltered=!0,"-2"==this.selectedCategory&&(this.filteredProducts=this.allProducts),this.filteredProducts=this.allProducts.filter(function(e){var t=!0;return"-1"==i.selectedCategory?null!=e.isNew&&1==e.isNew:(null!=i.selectedCategory&&""!=i.selectedCategory&&"-2"!=i.selectedCategory&&(t=e.product.category.id==i.selectedCategory),t&&null!=i.filter&&""!=i.filter&&(t=!!e.product.name.toUpperCase().includes(i.filter.toUpperCase())),t?e:void 0)})},e.prototype.addProduct=function(t){this.allProducts=this.allProducts.filter(function(e){if(e.product.id!=t.id)return e}),this.filteredProducts=this.filteredProducts.filter(function(e){if(e.product.id!=t.id)return e}),this.ea.publish("productAdded",t)},e.prototype.createList=function(){var t=this;if(null!=this.newListName&&""!=this.newListName){var e=new d.BuyList;e.name=this.newListName,this.repository.addBuyList(e).then(function(e){t.lists.unshift(e),t.newListName="",t.nService.presentSuccess("Lista criada com sucesso!")}).catch(function(e){t.nService.presentError(e)})}},e.prototype.changeList=function(e,t){var i=this,a=new p.AlterBuyListProductViewModel;a.isInList=e[t.product.name+"_"+t.product.unit.name],a.foodServiceProductId=t.productId,a.buyListId=e.id,this.repository.alterBuyList(a).then(function(e){i.nService.presentSuccess("Lista atualizada com sucesso!")}).catch(function(e){i.nService.presentError(e)})},e.prototype.removeProduct=function(t){var i=this;t.isLoading=!0,this.isProcessing=!0,this.repository.inativateProduct(t).then(function(e){i.allProducts=i.allProducts.filter(function(e){return e.productId!=t.productId}),i.filteredProducts=i.filteredProducts.filter(function(e){return e.productId!=t.productId}),t.isActive=!1,i.ea.publish("productRemoved",t),i.nService.presentSuccess("Produto removido  com sucesso!"),i.isProcessing=!1,t.isLoading=!0}).catch(function(e){i.nService.presentError(e),i.isProcessing=!1,t.isLoading=!0})},e=__decorate([s.autoinject,__metadata("design:paramtypes",[n.Router,o.IdentityService,a.NotificationService,l.EventAggregator,i.ProductRepository,c.FoodServiceRepository,o.IdentityService])],e)}();t.ProdutosSelecionados=f}),define("text!app.html",["module"],function(e){e.exports='<template><div class="container-fluid"><router-view containerless></router-view></div></template>'}),define("text!views/cadastro.html",["module"],function(e){e.exports='<template><require from="./components/attributes/cnpjMask"></require><require from="./components/attributes/cepMask"></require><require from="./components/attributes/phoneWithDDDMask"></require><require from="./components/attributes/cellPhoneWithDDDMask"></require><require from="./components/attributes/inscricaoEstadualMask"></require><require from="./components/valueConverters/cnpjValueConverter"></require><require from="./components/valueConverters/cepValueConverter"></require><require from="./components/valueConverters/phoneWithDDDValueConverter"></require><require from="./components/valueConverters/cellPhoneWithDDDValueConverter"></require><require from="./components/valueConverters/inscricaoEstadualValueConverter"></require><div class="row mb-5 au-animate"><div class="col-md-12"><div class="card"><div class="card-header">Cadastro de Fornecedor<div class="progress"><div class="progress-bar progress-bar-sm bg-gradient" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div></div></div><div class="card-form-wizard"><div class="row"><div class="col-lg-12"><div id="rootwizard-1"><ul class="nav nav-pills"><li><a href="#tab1" data-toggle="tab"><span class="main-text"><span class="h3">1. Dados Básicos</span></span></a></li><li><a href="#tab2" data-toggle="tab"><span class="main-text"><span class="h3">2. Endereço</span> <small>No validation required</small></span></a></li><li><a href="#tab3" data-toggle="tab"><span class="main-text"><span class="h3">3. Contatos</span></span></a></li></ul><div class="tab-content clearfix"><div class="tab-pane" id="tab1"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Razão Social *</label> <input type="text" class="form-control disabled" disabled="disabled" value.bind="supplier.name"></div><div class="form-group"><label class="control-label">CNPJ *</label> <input type="text" class="form-control disabled" disabled="disabled" cnpj value.bind="supplier.cnpj | cnpj  "></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Nome Fantasia *</label> <input type="text" class="form-control disabled" disabled="disabled" value.bind="supplier.fantasyName"></div><div class="form-group"><label class="control-label">Inscrição Estadual *</label> <input type="text" class="form-control disabled" disabled="disabled" inscricaoestadual value.bind="supplier.inscricaoEstadual | inscricaoEstadual"></div></div></div></div><div class="tab-pane" id="tab2"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">CEP</label> <input type="text" class="form-control ${validator.addressValidator.isCepInvalid  ? \'border-danger\' : \'\' } " cep value.bind="supplier.address.cep | cep" change.delegate="consultaCEP()"></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Logradouro</label> <input type="text" class="form-control ${validator.addressValidator.isLogradouroInvalid  ? \'border-danger\' : \'\' } " value.bind="supplier.address.logradouro" change.delegate="validator.addressValidator.validateLogradouro()"></div><div class="form-group"><label class="control-label">Bairro</label> <input type="text" class="form-control ${validator.addressValidator.isNeighborhoodInvalid  ? \'border-danger\' : \'\' } " value.bind="supplier.address.neighborhood" change.delegate="validator.addressValidator.validateNeighborhood()"></div><div class="form-group"><label class="control-label">Estado</label> <input type="text" class="form-control ${validator.addressValidator.isStateInvalid  ? \'border-danger\' : \'\' } " value.bind="supplier.address.state" change.delegate="validator.addressValidator.validateState()"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Número</label> <input type="number" class="form-control ${validator.addressValidator.isNumberInvalid  ? \'border-danger\' : \'\' }" value.bind="supplier.address.number" change.delegate="validator.addressValidator.validateNumber()"></div><div class="form-group"><label class="control-label">Cidade</label> <input type="text" class="form-control ${validator.addressValidator.isCityInvalid  ? \'border-danger\' : \'\' }" value.bind="supplier.address.city" change.delegate="validator.addressValidator.validateCity()"></div><div class="form-group"><label class="control-label">Complemento</label> <input type="text" class="form-control" value.bind="supplier.address.complement"></div></div></div></div><div class="tab-pane" id="tab3"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Nome</label> <input type="text" class="form-control ${validator.contactValidator.isNameInvalid  ? \'border-danger\' : \'\' }" value.bind="supplier.contact.name" change.delegate="validator.contactValidator.validateName()"></div><div class="form-group"><label class="control-label">Telefone Comercial</label> <input type="text" class="form-control" phone-with-ddd value.bind="supplier.contact.commercialPhone | phoneWithDDD" placeholder="(01) 1234-5678"></div><div class="form-group"><label class="control-label">E-mail</label> <input type="text" class="form-control ${validator.contactValidator.isEmailInvalid  ? \'border-danger\' : \'\' } " value.bind="supplier.contact.email" change.delegate="validator.contactValidator.validateEmail()"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Telefone</label> <input type="text" class="form-control ${validator.contactValidator.isPhoneInvalid  ? \'border-danger\' : \'\' } " phone-with-ddd value.bind="supplier.contact.phone | phoneWithDDD" change.delegate="validator.contactValidator.validatePhone()"></div><div class="form-group"><label class="control-label">Telefone Celular</label> <input type="text" class="form-control" cell-phone-with-ddd value.bind="supplier.contact.personalPhone | cellPhoneWithDDD" placeholder="(01) 01234-5678"></div></div></div></div><ul class="pager wizard"><li class="previous"><a href="#" class="waves-effect waves-light" click.trigger="back()">Voltar</a></li><li class="next" if.bind="currentStep < totalSteps"><a href="#" class="waves-effect waves-light" click.trigger="advance()">Avançar</a></li><li class="finish float-right" if.bind="currentStep == totalSteps"><button type="button" if.bind="! isLoading" class="btn btn-primary btn-gradient assign-task waves-effect waves-light" click.trigger="save()"><span class="gradient">Salvar</span></button><div class="fa-2x text-center" if.bind="isLoading"><i class="fa fa-refresh fa-spin"></i></div></li></ul></div></div></div></div></div></div></div></div></template>'}),define("text!views/master.html",["module"],function(e){e.exports='<template><div><div class="row"><nav id="sidebar" class="px-0 bg-dark bg-gradient sidebar"><ul class="nav nav-pills flex-column" if.bind="identity.type == 0"><li class="logo-nav-item"><a class="navbar-brand"><img src="assets/img/logo-white.png" width="145" height="32.3" alt="QuillPro" class="mCS_img_loaded" style="width:150px;height:85px;margin-left:5px"></a></li><li><h6 class="nav-header">Geral</h6></li><li class="nav-item"><a class="nav-link" href="/#/csz/dashboard"><i class="batch-icon batch-icon-browser-alt"></i> Dashboard <span class="sr-only">(current)</span></a></li><li class="nav-item"><a class="nav-link" href="/#/csz/cadastro"><i class="batch-icon batch-icon-list-alt"></i>Cadastro</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/regrasDeMercado"><i class="batch-icon batch-icon-star"></i> Regras de Mercado</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/produtos"><i class="batch-icon batch-icon-layout-content-left"></i> Produtos</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/clientes"><i class="batch-icon batch-icon-users"></i>Clientes <span class="badge badge-danger float-right ml-2 mr-2" if.bind="novoFoodServices.length > 0 && ! isloadingFoodServices">${novoFoodServices.length}</span><span class="badge badge-warning float-right ml-2 mr-2" if.bind="waitingFoodServices.length > 0 && ! isloadingFoodServices">${waitingFoodServices.length}</span><span class="float-right" if.bind="isloadingFoodServices"><i class="fa fa-refresh fa-spin"></i></span></a></li><li class="nav-item"><a class="nav-link" href="/#/csz/pedidosFornecedor"><i class="batch-icon batch-icon-layout-center-column"></i>Pedidos <span class="badge badge-warning float-right ml-2 mr-2" if.bind="acceptedOrdersCount > 0 && ! isLoadingOrders">${acceptedOrdersCount}</span><span class="badge badge-danger float-right ml-2 mr-2" if.bind="newOrdersCount > 0 && ! isLoadingOrders">${newOrdersCount}</span><span class="float-right" if.bind="isLoadingOrders"><i class="fa fa-refresh fa-spin"></i></span></a></li><li class="nav-item"><a class="nav-link" href="/#/csz/avaliacoesFornecedor"><i class="batch-icon batch-icon-star"></i> Avaliações</a></li></ul><ul class="nav nav-pills flex-column" if.bind="identity.type == 1"><li class="logo-nav-item"><a class="navbar-brand"><img src="assets/img/logo-white.png" width="145" height="32.3" alt="QuillPro" class="mCS_img_loaded" style="width:150px;height:85px;margin-left:5px"></a></li><li><h6 class="nav-header">Geral</h6></li><li class="nav-item"><a class="nav-link" href="/#/csz/dashboardFoodService"><i class="batch-icon batch-icon-browser-alt"></i> Dashboard <span class="sr-only">(current)</span></a></li><li class="nav-item"><a class="nav-link" href="/#/csz/cadastroFoodService"><i class="batch-icon batch-icon-list-alt"></i>Cadastro</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/Fornecedores"><i class="batch-icon batch-icon-users"></i>Fornecedores</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/meusProdutos"><i class="batch-icon batch-icon-layout-center-column"></i>Produtos</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/cotacao"><i class="batch-icon batch-icon-layout-center-column"></i>Cotação</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/pedidosFoodService"><i class="batch-icon batch-icon-layout-center-column"></i>Pedidos <span class="badge badge-warning float-right ml-2 mr-2" if.bind="acceptedOrdersCount > 0 && ! isLoadingOrders">${acceptedOrdersCount}</span><span class="badge badge-success float-right ml-2 mr-2" if.bind="newOrdersCount > 0  && ! isLoadingOrders">${newOrdersCount}</span><span class="float-right" if.bind="isLoadingOrders"><i class="fa fa-refresh fa-spin"></i></span></a></li><li class="nav-item"><a class="nav-link" href="/#/csz/avaliacoesFoodService"><i class="batch-icon batch-icon-star"></i> Avaliações</a></li></ul><ul class="nav nav-pills flex-column" if.bind="identity.type == 2"><li class="logo-nav-item"><a class="navbar-brand"><img src="assets/img/logo-white.png" width="145" height="32.3" alt="QuillPro" class="mCS_img_loaded" style="width:150px;height:85px;margin-left:5px"></a></li><li><h6 class="nav-header">Geral</h6></li><li class="nav-item"><a class="nav-link" href="/#/csz/dashboard"><i class="batch-icon batch-icon-browser-alt"></i> Dashboard <span class="sr-only">(current)</span></a></li><li class="nav-item"><a class="nav-link" href="/#/csz/produtosAdmin"><i class="batch-icon batch-icon-list-alt"></i>Produtos</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/suppliersAdmin"><i class="batch-icon batch-icon-star"></i> Fornecedores</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/foodServicesAdmin"><i class="batch-icon batch-icon-layout-content-left"></i> Foodservices</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/avaliacoes"><i class="batch-icon batch-icon-star"></i> Avaliações</a></li><li class="nav-item"><a class="nav-link" href="/#/csz/financeiro"><i class="batch-icon batch-icon-layout-center-column"></i>Financeiro</a></li></ul></nav><div class="right-column"><nav class="navbar navbar-expand-lg navbar-light bg-white"><button class="hamburger hamburger--slider" type="button" data-target=".sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle Sidebar"><span class="hamburger-box"><span class="hamburger-inner"></span></span></button><div class="navbar-collapse" id="navbar-header-content"><ul class="navbar-nav navbar-language-translation mr-auto"></ul><ul class="navbar-nav navbar-notifications float-right"><li class="nav-item dropdown"><ul class="dropdown-menu dropdown-menu-fullscreen" aria-labelledby="navbar-notification-search"><li><form class="form-inline my-2 my-lg-0 no-waves-effect"><div class="input-group"><input type="text" class="form-control" placeholder="Search for..."> <span class="input-group-btn"><button class="btn btn-primary btn-gradient waves-effect waves-light" type="button">Search</button></span></div></form></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle no-waves-effect" id="navbar-notification-misc" click.trigger="updateNotifications()" data-toggle="dropdown" data-flip="false" aria-haspopup="true" aria-expanded="false"><i class="batch-icon batch-icon-bell"></i> <span class="notification-number" if.bind="unSeenCount > 0">${unSeenCount}</span></a><ul class="dropdown-menu dropdown-menu-right dropdown-menu-md" aria-labelledby="navbar-notification-misc"><li class="media" repeat.for="notification of notifications"><a><i class="batch-icon batch-icon-bell batch-icon-xl d-flex mr-3"></i><div class="media-body"><h6 class="mt-0 mb-1 notification-heading">${notification.title}</h6><div class="notification-text"> ${notification.message} </div></div></a></li></ul></li></ul><ul class="navbar-nav ml-5 navbar-profile"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" id="navbar-dropdown-navbar-profile" data-toggle="dropdown" data-flip="false" aria-haspopup="true" aria-expanded="false"><div class="profile-name"> ${identity.name} </div><div class="profile-picture bg-gradient bg-primary has-message float-right"><img src="assets/img/profile-pic.jpg" width="44" height="44"></div></a><ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar-dropdown-navbar-profile"><li><a class="dropdown-item" href="#" click.trigger="logout()">Logout</a></li></ul></li></ul></div></nav><div class="${ isLoading ? \'invisible\' : \'\' }"><main class="main-content p-5" role="main"><router-view containerless></router-view></main></div><div class="fa-5x ${  isLoading  ? \'\' : \'invisible\'}" style="position:fixed;top:40%;left:50%"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></template>'}),define("text!views/regrasDeMercado.html",["module"],function(e){e.exports='<template><require from="./components/attributes/moneyMask"></require><require from="./components/attributes/numberMask"></require><require from="./components/attributes/timeMask"></require><require from="./components/valueConverters/moneyValueConverter"></require><require from="./components/valueConverters/numberValueConverter"></require><require from="./components/valueConverters/timeValueConverter"></require><div class="row mb-5 au-animate"><div class="col-md-12"><div class="card"><div class="card-header">Regras de Mercado</div><div class="card-body"><div class="row"><div class="col-md-12"><h2>1. Pedido</h2><div class="form-inline"><div class="col-md-4"><label class="mr-sm-2 float-right" for="inlineFormCustomSelect">Valor mínimo</label></div><div class="col-md-4"><div class="input-group"><span class="input-group-addon">$</span> <input type="text" class="money form-control ${validator.isMinimumOrderValueInvalid  ? \'border-danger\' : \'\' } " autocomplete="off" money placeholder="000,00" value.bind="rule.minimumOrderValue | money" change.delegate="validator.validateMinimumOrderValue()"></div></div></div><br><br><div class="form-inline"><div class="col-md-4"><label class="mr-sm-2 float-right" for="inlineFormCustomSelect">Qtde de dias para aceite</label></div><div class="col-md-2"><div class="input-group"><input type="text" class="money form-control ${validator.isnumberOfDaysToAcceptInvalid  ? \'border-danger\' : \'\' } " autocomplete="off" number value.bind="rule.numberOfDaysToAccept | number" change.delegate="validator.validateNumberOfDaysToAccept()"></div></div></div><br><br><div class="form-inline"><div class="col-md-4"><label class="mr-sm-2 float-right" for="inlineFormCustomSelect">Período de Aceite</label></div><div class="col-md-4"><div class="input-group"><span class="input-group-addon input-group-icon"><i class="batch-icon batch-icon-clock"></i> </span><input type="time" class="time form-control ${validator.isPeriodToAcceptOrder1Invalid  ? \'border-danger\' : \'\' } " autocomplete="off" placeholder="HH:mm" time value.bind="rule.periodToAcceptOrder1 | time & updateTrigger:\'blur\' " change.delegate="validator.validatePeriodToAcceptOrder1()"> <label class="mr-sm-2 ml-2" for="inlineFormCustomSelect">as</label> <span class="input-group-addon input-group-icon"><i class="batch-icon batch-icon-clock"></i> </span><input type="time" class="time form-control ${validator.isPeriodToAcceptOrder2Invalid  ? \'border-danger\' : \'\' } " autocomplete="off" placeholder="HH:mm" maxlength="8" time value.bind="rule.periodToAcceptOrder2 | time & updateTrigger:\'blur\' " change.delegate="validator.validatePeriodToAcceptOrder2()"></div></div></div></div><div class="col-md-12 mt-5"><h2>2. Entrega</h2><div class="form-inline"><div class="col-md-4"><label class="mr-sm-2 float-right" for="inlineFormCustomSelect">Dias de entrega</label></div><div class="col-md-4"><div class="input-group"><div class="form-check form-check-inline"><label class="form-check-label ml-2"><input class="form-check-input" type="checkbox" value="0" checked.bind="rule.deliveryOnMonday"> <span class="badge ${ rule.deliveryOnMonday ? \'badge-success\' : \'badge-warning\' }">Segunda-feira</span></label> <label class="form-check-label ml-2"><input class="form-check-input" type="checkbox" value="1" checked.bind="rule.deliveryOnTuesday"> <span class="badge ${ rule.deliveryOnTuesday ? \'badge-success\' : \'badge-warning\' }">Terça-feira</span></label> <label class="form-check-label ml-2"><input class="form-check-input" type="checkbox" value="2" checked.bind="rule.deliveryOnWednesday"> <span class="badge ${ rule.deliveryOnWednesday ? \'badge-success\' : \'badge-warning\' }">Quarta-feira</span></label> <label class="form-check-label ml-2"><input class="form-check-input" type="checkbox" value="3" checked.bind="rule.deliveryOnThursday"> <span class="badge ${ rule.deliveryOnThursday ? \'badge-success\' : \'badge-warning\' }">Quinta-feira</span></label> <label class="form-check-label ml-2"><input class="form-check-input" type="checkbox" value="4" checked.bind="rule.deliveryOnFriday"> <span class="badge ${ rule.deliveryOnFriday ? \'badge-success\' : \'badge-warning\' }">Sexta-feira</span></label></div></div><br><div class="input-group"><div class="form-check form-check-inline"><label class="form-check-label ml-2"><input class="form-check-input" type="checkbox" value="5" checked.bind="rule.deliveryOnSaturday"> <span class="badge ${ rule.deliveryOnSaturday ? \'badge-success\' : \'badge-warning\' }">Sábado</span></label> <label class="form-check-label ml-2"><input class="form-check-input" type="checkbox" value="6" checked.bind="rule.deliveryOnSunday"> <span class="badge ${ rule.deliveryOnSunday ? \'badge-success\' : \'badge-warning\' }">Domingo</span></label></div></div></div></div><br><br><div class="form-inline"><div class="col-md-4"><label class="mr-sm-2 float-right" for="inlineFormCustomSelect">Período de Entrega</label></div><div class="col-md-4"><div class="input-group"><span class="input-group-addon input-group-icon"><i class="batch-icon batch-icon-clock"></i> </span><input type="time" class="time form-control ${validator.isDeliverySchedule1Invalid  ? \'border-danger\' : \'\' } " autocomplete="off" placeholder="HH:mm" time value.bind="rule.deliverySchedule1 | time & updateTrigger:\'blur\' " change.delegate="validator.validateDeliverySchedule1()"> <label class="mr-sm-2 ml-2" for="inlineFormCustomSelect">as</label> <span class="input-group-addon input-group-icon"><i class="batch-icon batch-icon-clock"></i> </span><input type="time" class="time form-control ${validator.isDeliverySchedule2Invalid ? \'border-danger\' : \'\' }" autocomplete="off" placeholder="HH:mm" time value.bind="rule.deliverySchedule2 | time & updateTrigger:\'blur\' " change.delegate="validator.validateDeliverySchedule2()"></div></div></div></div><div class="col-md-12 mt-5"><h2>3. Alertas</h2><div class="form-inline"><div class="col-md-4"></div><div class="col-md-6"><label class="form-check-label ml-2 float-left"><input class="form-check-input float-left" type="checkbox" value="0" checked.bind="rule.sendNotificationToNewClient"> <label class="mr-sm-2 float-right" for="inlineFormCustomSelect">Receber notificação de um novo cliente por email</label></label></div></div><br><div class="form-inline"><div class="col-md-4"></div><div class="col-md-4"><div class="input-group"><input type="email" class="form-control ${validator.sendNotificationToNewClient  ? \'border-danger\' : \'\' } " autocomplete="off" data-validation="email" if.bind="rule.sendNotificationToNewClient" value.bind="rule.receiverNewClient" change.delegate="validator.validateReceiverNewClient()"></div></div></div><br><div class="form-inline"><div class="col-md-4"></div><div class="col-md-6"><label class="form-check-label ml-2 float-left"><input class="form-check-input float-left" type="checkbox" value="0" checked.bind="rule.sendNotificationToNewOrder"> <label class="mr-sm-2 float-right" for="inlineFormCustomSelect">Receber notificação de um novo pedido por email</label></label></div></div><br><div class="form-inline"><div class="col-md-4"></div><div class="col-md-4"><div class="input-group"><input type="email" class="form-control ${validator.sendNotificationToNewOrder  ? \'border-danger\' : \'\' } " autocomplete="off" data-validation="email" if.bind="rule.sendNotificationToNewOrder" value.bind="rule.receiverNewOrder" change.delegate="validator.validateReceiverNewOrder()"></div></div></div></div></div><div class="row mt-5"><button type="button" class="btn btn-primary btn-gradient assign-task waves-effect waves-light mx-auto" click.trigger="save()" if.bind="! isLoading"><span class="gradient">Salvar</span></button><div class="fa-2x text-center mx-auto" if.bind="isLoading"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></div></div></template>'}),define("text!views/login.html",["module"],function(e){e.exports='<template><div class="row"><div class="right-column sisu"><div class="row mx-0"><div class="col-md-7 order-md-2 signin-right-column px-5 bg-dark"><a class="signin-logo d-sm-block d-md-none" href="#"><img src="assets/img/logo-white.png" width="145" height="32.3" alt="QuillPro"></a><h1 class="display-4">CSZ Compras Inteligentes</h1><p class="lead mb-5">Olá, seja bem-vindo</p></div><div class="col-md-5 order-md-1 signin-left-column bg-white px-5"><a class="signin-logo d-sm-none d-md-block" style="margin-left:10%"><img class="ml-5" src="assets/img/logo2T.png" style="cursor:default" width="150" height="92" alt="CSZ"></a><form><div class="form-group"><label for="exampleInputEmail1">Email</label> <input type="email" class="form-control" id="exampleInputEmail1" value.bind="credential.email" aria-describedby="emailHelp" placeholder="Enter email"></div><div class="form-group"><label for="exampleInputPassword1">Senha</label> <input type="password" class="form-control" id="exampleInputPassword1" value.bind="credential.password" placeholder="Password"></div><button type="submit" if.bind="! processing" class="btn btn-primary btn-gradient btn-block waves-effect waves-light" click.delegate="doLogin()"><i class="batch-icon batch-icon-key mr-2"></i> Login</button><div class="fa-2x text-center" if.bind="processing"><i class="fa fa-refresh fa-spin"></i></div><hr><p class="text-center">Ainda não possui um usuário?<a href="/#/welcome"> Registre-se aqui</a></p><p class="text-center">Esqueceu sua senha?<a href="/#/forgotMyPassword"> Clique aqui</a></p></form></div></div></div></div></template>'}),define("text!views/dashboard.html",["module"],function(e){e.exports="<template></template>"}),define("text!views/welcome.html",["module"],function(e){e.exports='<template><require from="./components/attributes/cnpjMask"></require><require from="./components/attributes/cepMask"></require><require from="./components/attributes/phoneWithDDDMask"></require><require from="./components/attributes/cellPhoneWithDDDMask"></require><require from="./components/valueConverters/cnpjValueConverter"></require><require from="./components/valueConverters/cepValueConverter"></require><require from="./components/valueConverters/phoneWithDDDValueConverter"></require><require from="./components/valueConverters/cellPhoneWithDDDValueConverter"></require><div class="row"><div class="right-column sisu"><div class="row mx-0"><div class="col-md-7 order-md-2 signin-right-column px-5 bg-dark"><a class="signin-logo d-sm-block d-md-none" href="#"><img src="assets/img/logo-white.png" width="145" height="32.3" alt="QuillPro"></a><h1 class="display-4">CSZ Compras Inteligentes</h1><p class="lead mb-5">Olá, seja bem-vindo</p></div><div class="col-md-5 order-md-1 signin-left-column bg-white px-5"><div if.bind="wasCreated"><h2>Obrigado!</h2><p class="mt-4">Em breve nossa equipre entrará em contato com você para liberar acesso a ferramenta!</p></div><form if.bind="! wasCreated"><h4 class="text-center">Dados de Cadastro</h4><p>Preencha os dados abaixo para sabermos mais sobre você</p><div class="form-group"><label class="control-label active">Nome<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" value.bind="user.contactName  & validate"></div><div class="form-group"><label class="control-label active">E-mail<span class="text-danger ml-1 bold">*</span></label> <input type="email" class="form-control" value.bind="user.email  & validate"></div><div class="form-group"><label class="control-label active">Telefone</label> <input type="text" class="form-control" phone-with-ddd value.bind="user.commercialPhone | phoneWithDDD  & validate" id="exampleInputEmail1" value.bind="credential.email"></div><div class="form-group"><label class="control-label active">Telefone Celular</label> <input type="text" class="form-control" cell-phone-with-ddd value.bind="user.mobilePhone | cellPhoneWithDDD  & validate" id="exampleInputEmail1" value.bind="credential.email"></div><div class="form-group"><label class="control-label active">Razão Social<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" value.bind="user.companyName  & validate"></div><div class="form-group text-center mt-4"><div class="form-check form-check-inline mt-3"><input class="form-check-input" type="radio" name="inlineRadioOptions" value="0" checked.bind="user.selectedType"> <label class="form-check-label" for="inlineRadio1">Fornecedor</label></div><div class="form-check form-check-inline ml-5 mt-3"><input class="form-check-input" type="radio" name="inlineRadioOptions" value="1" checked.bind="user.selectedType"> <label class="form-check-label" for="inlineRadio2">Food service</label></div></div><button type="submit" if.bind="! isLoading" class="btn btn-primary btn-gradient btn-block waves-effect waves-light mt-4" click.delegate="save()" if.bind="! isloading"><i class="batch-icon batch-icon-mail"></i> Salvar</button><div class="fa-2x text-center" if.bind="isLoading"><i class="fa fa-refresh fa-spin"></i></div></form></div></div></div></div></template>'}),define("text!views/forgotMyPassword.html",["module"],function(e){e.exports='<template><div class="row"><div class="right-column sisu"><div class="row mx-0"><div class="col-md-7 order-md-2 signin-right-column px-5 bg-dark"><a class="signin-logo d-sm-block d-md-none" href="#"><img src="assets/img/logo-white.png" width="145" height="32.3" alt="QuillPro"></a><h1 class="display-4">CSZ Compras Inteligentes</h1><p class="lead mb-5">Olá, seja bem-vindo</p></div><div class="col-md-5 order-md-1 signin-left-column bg-white px-5"><a class="signin-logo d-sm-none d-md-block" style="margin-left:10%"><img class="ml-5" src="assets/img/logo2T.png" style="cursor:default" width="150" height="92" alt="CSZ"></a><div if.bind="wasReseted"><h2>Obrigado!</h2><p class="mt-4">Em breve você receberá um e-mail para redefinir a sua senha</p></div><form if.bind="! wasReseted"><div class="form-group"><label>E-mail</label> <input type="text" class="form-control" value.bind="email" placeholder="E-mail"></div><button type="submit" if.bind="! isLoading" class="btn btn-primary btn-gradient btn-block waves-effect waves-light" click.delegate="resetPassword()"><i class="batch-icon batch-icon-key mr-2"></i> Confirmar</button><div class="fa-2x text-center" if.bind="isLoading"><i class="fa fa-refresh fa-spin"></i></div></form></div></div></div></div></template>'}),define("text!views/confirmInvite.html",["module"],function(e){e.exports='<template><div class="row" if.bind="! isLoading"><div class="right-column sisu"><div class="row mx-0"><div class="col-md-7 order-md-2 signin-right-column px-5 bg-dark"><a class="signin-logo d-sm-block d-md-none" href="#"><img src="assets/img/logo-white.png" width="145" height="32.3" alt="QuillPro"></a><h1 class="display-4">CSZ Compras Inteligentes</h1><p class="lead mb-5">Olá, seja bem-vindo ${user.name} </p></div><div class="col-md-5 order-md-1 signin-left-column bg-white px-5"><a class="signin-logo d-sm-none d-md-block" style="margin-left:10%"><img class="ml-5" src="assets/img/logo2T.png" style="cursor:default" width="150" height="92" alt="CSZ"></a><form><div class="form-group"><label for="exampleInputPassword1">Senha</label> <input type="password" class="form-control" id="exampleInputPassword1" value.bind="invite.password" placeholder="Password"></div><div class="form-group"><label for="exampleInputPassword1">Confirme sua senha</label> <input type="password" class="form-control" id="exampleInputPassword1" value.bind="invite.confirmPassword" placeholder="Password"></div><button type="submit" if.bind="! processing" class="btn btn-primary btn-gradient btn-block waves-effect waves-light" click.delegate="save()"><i class="batch-icon batch-icon-key mr-2"></i> Definir senha</button> <span if.bind="processing" class="badge badge-warning">Efetuando autenticação</span></form></div></div></div></div><div class="fa-5x ${  isLoading  ? \'\' : \'invisible\'}" style="position:fixed;top:40%;left:50%"><i class="fa fa-refresh fa-spin"></i></div></template>'}),define("text!views/produtos.html",["module"],function(e){e.exports='<template><require from="./components/attributes/moneyMask"></require><require from="./components/attributes/numberMask"></require><require from="./components/attributes/timeMask"></require><require from="./components/valueConverters/moneyValueConverter"></require><require from="./components/valueConverters/numberValueConverter"></require><require from="./components/valueConverters/timeValueConverter"></require><div class="row mb-5 au-animate"><div class="col-md-12"><div class="card"><div class="card-header">Produtos</div><div class="card-body"><div class="row"><div class="col-md-12 pb-5"><ul class="nav nav-tabs" id="myTab-1" role="tablist"><li class="nav-item waves-effect waves-light"><a class="nav-link active" href="#tab-1-1" data-toggle="tab" role="tab" aria-controls="tab-1-1" aria-selected="true" aria-expanded="true"><i class="batch-icon batch-icon-list-alt mr-2"></i> Seleção de Produtos</a></li><li class="nav-item waves-effect waves-light"><a class="nav-link" href="#tab-1-2" data-toggle="tab" role="tab" aria-controls="tab-1-2" aria-selected="false" aria-expanded="false"><i class="batch-icon batch-icon-pencil mr-2"></i> Atualização de Preços <span class="badge badge-warning" if.bind="productAddedCount > 0">${productAddedCount}</span></a></li><li class="nav-item waves-effect waves-light"><a class="nav-link" href="#tab-1-3" data-toggle="tab" role="tab" aria-controls="tab-1-3" aria-selected="false"><i class="batch-icon batch-icon-cloud-upload mr-2"></i> Histórico de Importação</a></li><li class="nav-item waves-effect waves-light"><a class="nav-link" href="#tab-1-4" data-toggle="tab" role="tab" aria-controls="tab-1-4" aria-selected="false"><i class="batch-icon batch-icon-list mr-2"></i> Lista de Preços</a></li></ul><div class="tab-content" id="myTabContent-1"><div class="tab-pane fade active show" id="tab-1-1" role="tabpanel" aria-labelledby="tab-1-1" aria-expanded="true"><p class="p-3"><require from="./components/partials/selecaoDeProdutos"></require><selecao-de-produtos containerless></selecao-de-produtos></p></div><div class="tab-pane fade" id="tab-1-2" role="tabpanel" aria-labelledby="tab-1-2" aria-expanded="false"><p class="p-3"><require from="./components/partials/atualizacaoDePrecos"></require><atualizacao-de-precos containerless></atualizacao-de-precos></p></div><div class="tab-pane fade" id="tab-1-3" role="tabpanel" aria-labelledby="tab-1-3"><p class="p-3"><require from="./components/partials/historicoDeImportacao"></require><historico-de-importacao containerless></historico-de-importacao></p></div><div class="tab-pane fade" id="tab-1-4" role="tabpanel" aria-labelledby="tab-1-7"><p class="p-4"><require from="./components/partials/listaDePrecos"></require><lista-de-precos containerless></lista-de-precos></p></div></div></div></div></div></div></div></div></template>'}),define("text!views/cotacao/pedidosFornecedor.html",["module"],function(e){e.exports='<template><require from="../components/attributes/moneyMask"></require><require from="../components/valueConverters/moneyValueConverter"></require><require from="../components/attributes/timeMask"></require><require from="../components/valueConverters/timeValueConverter"></require><require from="../components/valueConverters/dateFormatValueConverter"></require><require from="../components/attributes/cnpjMask"></require><require from="../components/attributes/cepMask"></require><require from="../components/attributes/phoneWithDDDMask"></require><require from="../components/attributes/cellPhoneWithDDDMask"></require><require from="../components/valueConverters/cnpjValueConverter"></require><require from="../components/valueConverters/cepValueConverter"></require><require from="../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../components/valueConverters/cellPhoneWithDDDValueConverter"></require><div class="row mb-5 au-animate"><div class="col-lg-12"><div class="card"><div class="card-header"><span if.bind="! showdDetails">Meus Pedidos </span><span if.bind="showdDetails">Pedido nº ${selectedOrder.code}</span></div><div class="card-body"><div class="row"><div class="col-md-12" if.bind="showdDetails"><div class="mt-1"><h5 class="mb-0"> ${selectedOrder.foodService.name} <span class="badge badge-danger float-right" if.bind="selectedOrder.status == 0">Aguardando aprovação</span> <span class="badge badge-warning float-right" if.bind="selectedOrder.status == 1">Aprovado</span> <span class="badge badge-primary float-right" if.bind="selectedOrder.status == 2">Entregue</span><br><br><span class="badge badge-warning float-right" if.bind="selectedOrder.deliveryScheduleStart != null">Horário de Entrega: das ${selectedOrder.deliveryScheduleStart | time} as ${selectedOrder.deliveryScheduleEnd | time} </span></h5><div><div class="card-body"><h6 class="mt-2 mb-5"><i class="fa fa-tag mr-2"></i>Cadastro</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Razão Social</label> <label class="control-label col-md-6">${foodService.name}</label></div><div class="form-group"><label class="control-label col-md-6">CNPJ</label> <label class="control-label col-md-6">${foodService.cnpj | cnpj}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome Fantasia</label> <label class="control-label col-md-6">${foodService.fantasyName}</label></div><div class="form-group"><label class="control-label col-md-6">Inscrição Estadual</label> <label class="control-label col-md-6">${foodService.stateRegistration.name}</label></div></div></div><h6 class="mt-5 mb-5"><i class="fa fa-envelope-o mr-2"></i> Endereço</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">CEP</label> <label class="control-label col-md-6">${foodService.address.cep | cep}</label></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Logradouro</label> <label class="control-label col-md-6">${foodService.address.logradouro}</label></div><div class="form-group"><label class="control-label col-md-6">Bairro</label> <label class="control-label col-md-6">${foodService.address.neighborhood}</label></div><div class="form-group"><label class="control-label col-md-6">Estado</label> <label class="control-label col-md-6">${foodService.address.state}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Número</label> <label class="control-label col-md-6">${foodService.address.number}</label></div><div class="form-group"><label class="control-label col-md-6">Cidade</label> <label class="control-label col-md-6">${foodService.address.city}</label></div><div class="form-group"><label class="control-label col-md-6">Complemento</label> <label class="control-label col-md-6">${foodService.address.complement}</label></div></div></div><h6 class="mt-5 mb-5"><i class="batch-icon batch-icon-users mr-2"></i>Contato</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome</label> <label class="control-label col-md-6">${foodService.contact.name}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Comercial</label> <label class="control-label col-md-6">${foodService.contact.commercialPhone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">E-mail</label> <label class="control-label col-md-6">${foodService.contact.email}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Telefone</label> <label class="control-label col-md-6">${foodService.contact.phone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Celular</label> <label class="control-label col-md-6">${foodService.contact.personalPhone | phoneWithDDD}</label></div></div></div></div></div><div class="card-header ml-0" role="tab" id="headingTwo"><h4>Dados do pedido</h4></div><div><table class="table table-hover table-responsive"><thead><tr><th class="text-left">Nome do Produto</th><th>Descrição</th><th>Categoria</th><th>UM</th><th>Marca</th><th class="text-center">Quantidade</th><th class="text-center">Preço unitário</th><th class="text-center">Total</th></tr></thead><tbody><tr repeat.for="item of selectedOrder.items"><td>${item.product.name}</td><td>${item.product.description}</td><td>${item.product.category.name}</td><td>${item.product.unit.name}</td><td>${item.product.brand.name}</td><td class="text-center">${item.quantity | money}</td><td class="text-center">${item.price | money}</td><td class="text-center">${item.total | money}</td></tr></tbody></table></div></div><div class="text-center mt-3"><button type="button" class="btn btn-secondary waves-effect waves-light" click.trigger="showdDetails = false"><i class="fa fa-undo mr-2" aria-hidden="true"></i> Voltar</button> <button type="button" class="btn btn-success waves-effect waves-light" click.trigger="acceptOrder(selectedOrder)" if.bind="selectedOrder.status == 0">Aceitar <i class="fa fa-arrow-right ml-2" aria-hidden="true"></i></button></div></div><div class="col-md-12" if.bind="! showdDetails"><div class="form-row align-items-center"><div class="col-lg-4 ml-1"><label for="input-task-title" class="active">Status</label> <select class="form-control" value.bind="selectedStatus" change.delegate="load()"><option value="0" selected="selected">Novo pedido</option><option value="1">Aceito</option><option value="2">Entregue</option><option value="3">Rejeitado</option></select></div><div class="col-lg-4"><label for="input-task-title" class="active">Dados do pedido</label> <input type="text" class="form-control input-task-title" placeholder="Codigo / Cliente / Contato / Valor" change.trigger="search()" value.bind="filter"></div><div class="col-lg-3 ml-4 mt-3"><button type="button" click.trigger="search()" class="btn btn-primary btn-gradient assign-task waves-effect waves-light"><span class="gradient">Pesquisar</span></button></div></div><div><table class="table table-hover table-responsive"><thead><tr><th class="text-center">Código</th><th class="text-center">Status</th><th>Data do Pedido</th><th class="text-center">Cliente</th><th class="text-center">Contato</th><th class="text-center">Entrega</th><th class="text-center">Quantidade de Produtos</th><th class="text-center">Total</th><th></th></tr></thead><tbody><tr repeat.for="order of filteredOrders"><td class="text-center">${order.code}</td><td class="text-center"><span class="badge badge-danger" if.bind="order.status == 0">Novo pedido</span> <span class="badge badge-warning" if.bind="order.status == 1">Aceito</span> <span class="badge badge-primary" if.bind="order.status == 2">Entregue</span> <span class="badge badge-default" if.bind="order.status == 3">Rejeitado</span></td><td>${order.createdOn | dateFormat}</td><td class="text-center">${order.foodService.name}</td><td class="text-center">${order.createdBy.name}</td><td class="text-center"><span if.bind="order.deliveryScheduleStart != null">das ${order.deliveryScheduleStart | time} as ${order.deliveryScheduleEnd | time} </span></td><td class="text-center">${order.items.length}</td><td class="text-right">${order.total | money}</td><td class="text-right"><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="selectOrder(order)">Ver detalhes</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" click.trigger="acceptOrder(order)" if.bind="order.status == 0"><i class="fa fa-check mr-2"></i>Aprovar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" click.trigger="rejectOrder(order)" if.bind="order.status == 0"><i class="fa fa-times mr-2" aria-hidden="true"></i> Rejeitar</button></td></tr></tbody></table></div></div></div></div></div></div></div></template>'}),define("text!views/cotacao/cotacao.html",["module"],function(e){e.exports='<template><require from="../components/attributes/moneyMask"></require><require from="../components/valueConverters/moneyValueConverter"></require><require from="../components/attributes/timeMask"></require><require from="../components/valueConverters/timeValueConverter"></require><div class="row mb-5 au-animate"><div class="col-md-12"><div class="card"><div class="card-header">Cotação<div class="progress"><div class="progress-bar progress-bar-sm bg-gradient" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div></div></div><div class="card-form-wizard"><div class="row"><div class="col-lg-12"><div id="rootwizard-1"><ul class="nav nav-pills"><li><a href="#tab1" data-toggle="tab"><span class="main-text"><span class="h3">1. Lista de Compras</span></span></a></li><li><a href="#tab2" data-toggle="tab"><span class="main-text"><span class="h3">2. Cotações</span></span></a></li><li><a href="#tab3" data-toggle="tab"><span class="main-text"><span class="h3">3. Pedido</span></span></a></li></ul><div class="tab-content clearfix"><div class="tab-pane" id="tab1"><div class="card-body"><div class="row"><div class="col-md-4"><div class="form-group"><label class="control-label">Selecione a lista de compras</label> <select class="form-control" value.bind="selectedQuote"><option value=""></option><option repeat.for="quote of quotes" model.bind="quote">${quote.buyListName}</option></select></div></div><div class="col-md-12 mt-5"><span class="badge badge-warning" if.bind="selectedQuote.products.length == 0">Lista sem produtos selecionados. Favor incluir em Produtos > Meus Produtos</span><div if.bind="selectedQuote.products.length > 0"><div class="col-md-12 mt-3"><div class="form-group"><p>Você pode remover fornecedores da sua cotação</p><span style="padding:10px;cursor:pointer" click.trigger="addRemoveSupplier(supplier)" repeat.for="supplier of selectedQuote.suppliers" class="badge ${ ! supplier.wasRemoved ?  \'badge-success\' : \'badge-default\' } ml-3 mt-2"><i class="fa fa-times mr-3" if.bind="! supplier.wasRemoved" aria-hidden="true" style="cursor:pointer" click.trigger="removeSupplier(supplier)"></i> <i class="fa fa-plus mr-3" if.bind="supplier.wasRemoved" aria-hidden="true" style="cursor:pointer" click.trigger="addSupplier(supplier)"></i> ${supplier.name} </span></div><table class="table table-hover table-responsive mt-2"><thead><tr><th>Nome do produto</th><th>Descrição</th><th>Categoria</th><th>UM</th><th>Marca</th><th class="text-center">Fornecedores</th><th class="text-center">Quantidade</th></tr></thead><tbody><tr repeat.for="product of selectedQuote.products"><td><span class="badge badge-warning" if.bind="product.suppliers == null || product.suppliers.length == 0"><i class="fa fa-warning"></i> ${product.name} </span><span if.bind="product.suppliers != null && product.suppliers.length > 0">${product.name}</span></td><td>${product.description}</td><td>${product.category}</td><td>${product.unitOfMeasure}</td><td>${product.brand}</td><td class="text-right"><span style="padding:10px;cursor:pointer" click.trigger="addRemoveSupplier(supplier)" repeat.for="supplier of product.suppliers" class="badge ${ ! supplier.wasRemoved ?  \'badge-success\' : \'badge-default\' } ml-3 mt-2"><i class="fa fa-times mr-3" if.bind="! supplier.wasRemoved" aria-hidden="true" style="cursor:pointer" click.trigger="removeSupplier(supplier)"></i> <i class="fa fa-plus mr-3" if.bind="supplier.wasRemoved" aria-hidden="true" style="cursor:pointer" click.trigger="addSupplier(supplier)"></i> ${supplier.name} </span><span class="font-bold" if.bind="product.suppliers == null || product.suppliers.length == 0">Não há fornecedores cadastrados que oferecem esse produto</span></td><td class="text-center"><div class="col-md-8 mx-auto"><input type="text" class="money text-right form-control ${ product.suppliers == null || product.suppliers.length == 0 ? \'disabled\' : \'\' }" autocomplete="off" value.bind="product.quantity | money" money placeholder="000" disabled.bind="product.suppliers == null || product.suppliers.length == 0"></div></td></tr></tbody></table></div></div></div></div></div></div><div class="tab-pane" id="tab2"><div class="row" if.bind="isProcessing"><div class="col-md-6"><div class="form-group"><span if.bind="processing" class="badge badge-warning">Efetuando cotação</span></div></div></div><div class="col-md-12"><div id="accordion2" role="tablist" aria-multiselectable="true"><div class="col-md-12 mt-3" if.bind="buyList"><div class="form-group"><span class="badge badge-warning">Selecione uma das cotações abaixo</span></div></div><div class="mt-4" if.bind="! isProcessing" repeat.for="result of simulation.betterResults"><div class="card-header ml-0" role="tab" id="result${result.id}"><h5 class="mb-0"><label class="custom-control custom-checkbox text-center"><input type="checkbox" class="custom-control-input" change.trigger="changeSelectedCotacao(result)" checked.bind="result.isSelected"> <span class="custom-control-indicator"></span></label> <a data-toggle="collapse" data-parent="#accordion2" href="#collapse${result.id}" aria-expanded="false" aria-controls="collapse${result.id}" class="">Cotação ${$index + 1} <i class="fa fa-check" if.bind="result.isSelected"></i> <span class="text-right float-right">${result.total  | money}</span></a></h5></div><div id="collapse${result.id}" class="collapse" role="tabpanel" aria-labelledby="headingOne" style=""><div class="card-body"><h4 class="mt-4">Alertas</h4><p style="padding:10px;cursor:pointer" repeat.for="item of result.logMessages.split(\';\')" if.bind="item != null && item != \'\'" class="badge badge-warning ml-3 mt-2"><i class="fa fa-warning"></i> ${item} </p><h4 class="mt-5">Fornecedores</h4><div class="col-md-12 card-table table-responsive"><table class="table table-hover table-sm align-middle"><thead><tr><th class="text-left">Fornecedor</th><th class="text-center">Avaliação</th><th class="text-center">Qtde de dias para aceite</th><th class="text-center">Período de Aceite</th><th class="text-center">Dias de entrega</th><th class="text-center">Período de Entrega</th><th class="text-right">Total</th></tr></thead><tbody><tr repeat.for="item of result.summaryItems"><td> ${item.supplier.fantasyName} </td><td class="text-center"><i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i></td><td class="text-center"> ${item.rule.numberOfDaysToAccept} dias</td><td class="text-center"> ${item.rule.periodToAcceptOrder1 | time} <label class="mr-sm-2 ml-2" for="inlineFormCustomSelect">as</label> ${item.rule.periodToAcceptOrder2 | time} </td><td class="text-center"><span if.bind="item.rule.deliveryOnMonday" class="badge ${ item.rule.deliveryOnMonday ? \'badge-success\' : \'badge-warning\' }">Segunda-feira</span> <span if.bind="item.rule.deliveryOnTuesday" class="badge ${ item.rule.deliveryOnTuesday ? \'badge-success\' : \'badge-warning\' }">Terça-feira</span> <span if.bind="item.rule.deliveryOnWednesday" class="badge ${ item.rule.deliveryOnWednesday ? \'badge-success\' : \'badge-warning\' }">Quarta-feira</span> <span if.bind="item.rule.deliveryOnThursday" class="badge ${ item.rule.deliveryOnThursday ? \'badge-success\' : \'badge-warning\' }">Quinta-feira</span> <span if.bind="item.rule.deliveryOnFriday" class="badge ${ item.rule.deliveryOnFriday ? \'badge-success\' : \'badge-warning\' }">Sexta-feira</span><br><br><span if.bind="item.rule.deliveryOnSaturday" class="badge ${ item.rule.deliveryOnSaturday ? \'badge-success\' : \'badge-warning\' }">Sábado</span> <span if.bind="item.rule.deliveryOnSunday" class="badge ${ item.rule.deliveryOnSunday ? \'badge-success\' : \'badge-warning\' }">Domingo</span></td><td class="text-center"> ${item.rule.deliverySchedule1 | time} <label class="mr-sm-2 ml-2" for="inlineFormCustomSelect">as</label> ${item.rule.deliverySchedule2 | time} </td><td class="text-right"> ${item.total  | money} </td></tr></tbody></table></div><h4 class="mt-5">Produtos</h4><div class="col-md-12 card-table table-responsive"><table class="table table-hover table-sm align-middle"><thead><tr><th class="text-left">Nome do Produto</th><th class="text-left">Descrição</th><th class="text-center">UM</th><th class="text-right">Preço unitário</th><th class="text-right">Quantidade</th><th class="text-right">Total</th></tr></thead><tbody><tr repeat.for="item of result.items"><td> ${item.product.name} <div><small class="boldness-light">${item.supplier.fantasyName}</small></div></td><td class="text-center align-middle"> ${item.product.description} </td><td class="text-center"> ${item.product.unit.name} </td><td class="text-right"> ${item.price | money} </td><td class="text-right"> ${item.quantity} </td><td class="text-right"> ${item.total  | money} </td></tr><tr><td colspan="4" class="text-right"><strong>Total:</strong></td><td class="text-right"><strong>${result.total  | money}</strong></td></tr></tbody></table></div></div></div></div></div></div></div><div class="tab-pane" id="tab3"><div class="col-md-12 mt-3" if.bind="isProcessing"><div class="form-group"><span class="badge badge-warning">Confirme os dados antes de gerar o pedido</span></div></div><div class="card-table table-responsive" repeat.for="summary of selectedResult.summaryItems"><h4><i class="fa fa-tag mr-2"></i> Pedido ${$index + 1} - ${summary.supplier.fantasyName}</h4><h5 class="mt-5">Informações do fornecedor</h5><table class="table table-hover table-sm align-middle mt-1"><thead><tr><th class="text-left">Fornecedor</th><th class="text-center">Avaliação</th><th class="text-center">Qtde de dias para aceite</th><th class="text-center">Período de Aceite</th><th class="text-center">Dias de entrega</th><th class="text-center">Período de Entrega</th><th class="text-right">Total</th></tr></thead><tbody><tr><td> ${summary.supplier.fantasyName} </td><td class="text-center"><i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i></td><td class="text-center"> ${summary.rule.numberOfDaysToAccept} dias</td><td class="text-center"> ${summary.rule.periodToAcceptOrder1 | time} <label class="mr-sm-2 ml-2" for="inlineFormCustomSelect">as</label> ${summary.rule.periodToAcceptOrder2 | time} </td><td class="text-center"><span if.bind="summary.rule.deliveryOnMonday" class="badge ${ summary.rule.deliveryOnMonday ? \'badge-success\' : \'badge-warning\' }">Segunda-feira</span> <span if.bind="summary.rule.deliveryOnTuesday" class="badge ${ summary.rule.deliveryOnTuesday ? \'badge-success\' : \'badge-warning\' }">Terça-feira</span> <span if.bind="summary.rule.deliveryOnWednesday" class="badge ${ summary.rule.deliveryOnWednesday ? \'badge-success\' : \'badge-warning\' }">Quarta-feira</span> <span if.bind="summary.rule.deliveryOnThursday" class="badge ${ summary.rule.deliveryOnThursday ? \'badge-success\' : \'badge-warning\' }">Quinta-feira</span> <span if.bind="summary.rule.deliveryOnFriday" class="badge ${ summary.rule.deliveryOnFriday ? \'badge-success\' : \'badge-warning\' }">Sexta-feira</span><br><br><span if.bind="summary.rule.deliveryOnSaturday" class="badge ${ summary.rule.deliveryOnSaturday ? \'badge-success\' : \'badge-warning\' }">Sábado</span> <span if.bind="summary.rule.deliveryOnSunday" class="badge ${ summary.rule.deliveryOnSunday ? \'badge-success\' : \'badge-warning\' }">Domingo</span></td><td class="text-center"> ${summary.rule.deliverySchedule1 | time} <label class="mr-sm-2 ml-2" for="inlineFormCustomSelect">as</label> ${summary.rule.deliverySchedule2 | time} </td><td class="text-right"> ${summary.total  | money} </td></tr></tbody></table><h5 class="mt-5">Produtos</h5><table class="table table-hover mt-1"><thead><tr><th class="text-left">Nome do Produto</th><th class="text-center">Descrição</th><th class="text-center">UM</th><th class="text-right">Preço unitário</th><th class="text-right">Quantidade</th><th class="text-right">Total</th></tr></thead><tbody><tr repeat.for="item of summary.items"><td> ${item.product.name} </td><td class="text-center align-middle"> ${item.product.description} </td><td class="text-center"> ${item.product.unit.name} </td><td class="text-right"> ${item.price | money} </td><td class="text-right"> ${item.quantity} </td><td class="text-right"> ${item.total  | money} </td></tr><tr><td colspan="4" class="text-right"><strong>Total:</strong></td><td class="text-right"><strong>${summary.total  | money}</strong></td></tr></tbody></table></div></div><ul class="pager wizard mt-5"><li class="previous" if.bind="currentStep != 1"><a href="#" class="waves-effect waves-light" click.trigger="back()" if.bind="currentStep > 0 ">Voltar</a></li><li class="next" if.bind="currentStep < totalSteps && ( (currentStep != 2) || (currentStep == 2 && selectedResult) ) "><a href="#" id="next" class="waves-effect waves-light" click.trigger="advance()">Avançar</a></li><li class="finish float-right" if.bind="currentStep == totalSteps"><button type="button" class="btn btn-success waves-effect waves-light" if.bind="! isProcessing && ! orderWasGenerated" click.trigger="generateOrder()"><span class="gradient">Gerar pedido</span> <i class="fa fa-arrow-right" aria-hidden="true"></i></button><div class="fa-2x text-center" if.bind="isProcessing"><i class="fa fa-refresh fa-spin"></i></div></li></ul></div></div></div></div></div></div></div></div></template>'}),define("text!views/foodService/cadastro.html",["module"],function(e){e.exports='<template><require from="../components/attributes/cnpjMask"></require><require from="../components/attributes/cepMask"></require><require from="../components/attributes/phoneWithDDDMask"></require><require from="../components/attributes/cellPhoneWithDDDMask"></require><require from="../components/attributes/inscricaoEstadualMask"></require><require from="../components/valueConverters/cnpjValueConverter"></require><require from="../components/valueConverters/cepValueConverter"></require><require from="../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../components/valueConverters/cellPhoneWithDDDValueConverter"></require><require from="../components/valueConverters/inscricaoEstadualValueConverter"></require><div class="row mb-5 au-animate"><div class="col-md-12"><div class="card"><div class="card-header">Cadastro de Cliente<div class="progress"><div class="progress-bar progress-bar-sm bg-gradient" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div></div></div><div class="card-form-wizard"><div class="row"><div class="col-lg-12"><div id="rootwizard-1"><ul class="nav nav-pills"><li><a href="#tab1" data-toggle="tab"><span class="main-text"><span class="h3">1. Dados Básicos</span></span></a></li><li><a href="#tab2" data-toggle="tab"><span class="main-text"><span class="h3">2. Endereço</span> <small>No validation required</small></span></a></li><li><a href="#tab3" data-toggle="tab"><span class="main-text"><span class="h3">3. Contatos</span></span></a></li></ul><div class="tab-content clearfix"><div class="tab-pane" id="tab1"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Razão Social *</label> <input type="text" class="form-control disabled" disabled="disabled" value.bind="foodService.name"></div><div class="form-group"><label class="control-label">CNPJ *</label> <input type="text" class="form-control disabled" disabled="disabled" cnpj value.bind="foodService.cnpj | cnpj  "></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Nome Fantasia *</label> <input type="text" class="form-control disabled" disabled="disabled" value.bind="foodService.fantasyName"></div><div class="form-group"><label class="control-label">Inscrição Estadual *</label> <input type="text" class="form-control disabled" disabled="disabled" inscricaoestadual value.bind="foodService.inscricaoEstadual | inscricaoEstadual"></div></div></div></div><div class="tab-pane" id="tab2"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">CEP</label> <input type="text" class="form-control ${validator.addressValidator.isCepInvalid  ? \'border-danger\' : \'\' } " cep value.bind="foodService.address.cep | cep" change.delegate="consultaCEP()"></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Logradouro</label> <input type="text" class="form-control ${validator.addressValidator.isLogradouroInvalid  ? \'border-danger\' : \'\' } " value.bind="foodService.address.logradouro" change.delegate="validator.addressValidator.validateLogradouro()"></div><div class="form-group"><label class="control-label">Bairro</label> <input type="text" class="form-control ${validator.addressValidator.isNeighborhoodInvalid  ? \'border-danger\' : \'\' } " value.bind="foodService.address.neighborhood" change.delegate="validator.addressValidator.validateNeighborhood()"></div><div class="form-group"><label class="control-label">Estado</label> <input type="text" class="form-control ${validator.addressValidator.isStateInvalid  ? \'border-danger\' : \'\' } " value.bind="foodService.address.state" change.delegate="validator.addressValidator.validateState()"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Número</label> <input type="number" class="form-control ${validator.addressValidator.isNumberInvalid  ? \'border-danger\' : \'\' }" value.bind="foodService.address.number" change.delegate="validator.addressValidator.validateNumber()"></div><div class="form-group"><label class="control-label">Cidade</label> <input type="text" class="form-control ${validator.addressValidator.isCityInvalid  ? \'border-danger\' : \'\' }" value.bind="foodService.address.city" change.delegate="validator.addressValidator.validateCity()"></div><div class="form-group"><label class="control-label">Complemento</label> <input type="text" class="form-control" value.bind="foodService.address.complement"></div></div></div></div><div class="tab-pane" id="tab3"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Nome</label> <input type="text" class="form-control ${validator.contactValidator.isNameInvalid  ? \'border-danger\' : \'\' }" value.bind="foodService.contact.name" change.delegate="validator.contactValidator.validateName()"></div><div class="form-group"><label class="control-label">Telefone Comercial</label> <input type="text" class="form-control" phone-with-ddd value.bind="foodService.contact.commercialPhone | phoneWithDDD" placeholder="(01) 1234-5678"></div><div class="form-group"><label class="control-label">E-mail</label> <input type="text" class="form-control ${validator.contactValidator.isEmailInvalid  ? \'border-danger\' : \'\' } " value.bind="foodService.contact.email" change.delegate="validator.contactValidator.validateEmail()"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Telefone</label> <input type="text" class="form-control ${validator.contactValidator.isPhoneInvalid  ? \'border-danger\' : \'\' } " phone-with-ddd value.bind="foodService.contact.phone | phoneWithDDD" change.delegate="validator.contactValidator.validatePhone()"></div><div class="form-group"><label class="control-label">Telefone Celular</label> <input type="text" class="form-control" cell-phone-with-ddd value.bind="foodService.contact.personalPhone | cellPhoneWithDDD" placeholder="(01) 01234-5678"></div></div></div></div><ul class="pager wizard"><li class="previous"><a href="#" class="waves-effect waves-light" click.trigger="back()">Voltar</a></li><li class="next" if.bind="currentStep < totalSteps"><a href="#" class="waves-effect waves-light" click.trigger="advance()">Avançar</a></li><li class="finish float-right" if.bind="currentStep == totalSteps"><button type="button" if.bind="! isLoading" class="btn btn-primary btn-gradient assign-task waves-effect waves-light" click.trigger="save()"><span class="gradient">Salvar</span></button><div class="fa-2x text-center" if.bind="isLoading"><i class="fa fa-refresh fa-spin"></i></div></li></ul></div></div></div></div></div></div></div></div></template>'}),define("text!views/foodService/fornecedores.html",["module"],function(e){e.exports='<template><require from="../components/attributes/cnpjMask"></require><require from="../components/attributes/phoneWithDDDMask"></require><require from="../admin/supplier/editSupplier"></require><div class="row mb-5 task-manager au-animate" if.bind="! showDetails"><div class="col-lg-12"><div class="card"><div class="card-header"> ${title} </div><div class="card-body"><div class="form-row align-items-center"><div class="col-lg-3"><label for="input-task-title" class="active">Filtro</label> <select class="form-control" value.bind="tipoFiltro" change.delegate="alterView()"><option value="1">Sugeridos</option><option value="2">Meus fornecedores</option><option value="4">Bloqueados</option><option value="3">Todos</option></select></div><div class="col-lg-3"><label for="input-task-title" class="active">Nome do fornecedor <span class="required-item">*</span></label> <input type="text" class="form-control input-task-title" id="input-task-title" placeholder="nome..." change.trigger="search()" value.bind="filter"></div><div class="col-lg-3 ml-4 mt-3" if.bind="! isLoading"><button type="button" class="btn btn-primary btn-gradient assign-task waves-effect waves-light"><span class="gradient">Pesquisar</span></button></div><div class="col-lg-3 ml-4 mt-3 fa-2x text-center" if.bind="isLoading"><i class="fa fa-refresh fa-spin"></i></div></div></div><div class="card-body"><table class="table table-hover"><thead><tr><th>Nome</th><th>Situação Cadastral</th><th>Contato</th><th>E-mail</th><th>Telefone</th><th>CNPJ</th><th></th><th></th></tr></thead><tbody><tr repeat.for="x of filteredSuppliers"><td>${x.supplier.fantasyName}</td><td><span class="badge badge-primary" if.bind="x.status == 0">Não cadastrado</span> <span class="badge badge-warning" if.bind="x.status == 1">Cadastro enviado</span> <span class="badge badge-success" if.bind="x.status == 2">Disponível</span> <span class="badge badge-danger" if.bind="x.status == 3">Cadastro Rejeitado</span> <span class="badge badge-danger" if.bind="x.status == 4">Bloqueado</span> <span class="badge badge-warning" if.bind="x.status == 5">Aguardando aprovação</span> <span class="badge badge-danger" if.bind="x.status == 6">Bloqueado</span></td><td>${x.supplier.contact.name}</td><td>${x.supplier.contact.email}</td><td phone-with-ddd>${x.supplier.contact.phone}</td><td cnpj>${x.supplier.cnpj}</td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" if.bind="x.status == 0 && ! x.isLoading" click.trigger="connect(x)">Conectar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 2 && ! x.isLoading" click.trigger="block(x)">Bloquear</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" if.bind="x.status == 6 && ! x.isLoading" click.trigger="unblock(x)">Desbloquear</button></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="showSupplierDetails(x)">Detalhes</button><div class="fa-2x text-center ${x.isLoading  == true ? \'\' : \'invisible\'} mx-auto"><i class="fa fa-refresh fa-spin"></i></div></td></tr></tbody></table></div></div></div></div><div class=" ${ showDetails ? \'\' : \'invisible\' }" class="au-animate"><edit-supplier></edit-supplier></div></template>'}),define("text!views/foodService/evaluations.html",["module"],function(e){e.exports='<template><require from="../components/attributes/moneyMask"></require><require from="../components/valueConverters/moneyValueConverter"></require><require from="../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../components/valueConverters/cellPhoneWithDDDValueConverter"></require><require from="../components/valueConverters/cnpjValueConverter"></require><require from="../components/valueConverters/cepValueConverter"></require><require from="../components/valueConverters/dateFormatValueConverter"></require><require from="../components/attributes/cnpjMask"></require><require from="../components/attributes/cepMask"></require><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Avaliações</div><div class="card-body"><div if.bind="! evaluation"><table class="table table-hover mt-2"><thead><tr><th class="text-center">Nº pedido</th><th class="text-right">Valor do pedido</th><th class="text-center">Food Service</th><th class="text-center">Fornecedor</th><th class="text-center">Data da avaliação</th><th class="text-center" style="min-width:250px">Avaliação</th><th></th></tr></thead><tbody><tr repeat.for="x of filteredEvaluations"><td class="text-center">${x.order.code}</td><td class="text-right">${x.order.total | money}</td><td class="text-center">${x.foodService.name}</td><td class="text-center">${x.supplier.name}</td><td class="text-center">${x.createdOn | dateFormat}</td><td class="text-center"><i class="batch-icon ${ x.rating >= 1 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 2 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 3 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 4 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 5 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light mx-auto ml-2" click.trigger="showDetails(x)" if.bind="! x.processing">Detalhes</button></td></tr></tbody></table></div><div if.bind="evaluation"><div class="row mt-3"><div class="col-md-12"><h6 class="mt-5 mb-5"><i class="batch-icon batch-icon-users mr-2"></i>Dados do Food Service</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome</label> <label class="control-label col-md-6">${evaluation.foodService.name}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Comercial</label> <label class="control-label col-md-6">${evaluation.foodService.contact.commercialPhone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">E-mail</label> <label class="control-label col-md-6">${evaluation.foodService.contact.email}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Telefone</label> <label class="control-label col-md-6">${evaluation.foodService.contact.phone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Celular</label> <label class="control-label col-md-6">${evaluation.foodService.contact.personalPhone | phoneWithDDD}</label></div></div></div></div><div class="col-md-12"><h6 class="mt-5 mb-5"><i class="batch-icon batch-icon-users mr-2"></i>Dados do Fornecedor</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome</label> <label class="control-label col-md-6">${evaluation.supplier.name}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Comercial</label> <label class="control-label col-md-6">${evaluation.supplier.contact.commercialPhone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">E-mail</label> <label class="control-label col-md-6">${evaluation.supplier.contact.email}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Telefone</label> <label class="control-label col-md-6">${evaluation.supplier.contact.phone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Celular</label> <label class="control-label col-md-6">${evaluation.supplier.contact.personalPhone | phoneWithDDD}</label></div></div></div></div><div class="col-md-12 mt-5"><div class="form-group mx-auto text-center"><h5 class="text-center">Nota da avaliação</h5><i class="batch-icon ${ evaluation.rating  >= 1 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl mt-2"></i> <i class="batch-icon ${ evaluation.rating >= 2 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 3 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 4 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 5 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl mb-2"></i></div></div><div class="col-md-12 mt-3"><div class="form-group mx-auto"><label class="control-label">Comentários</label> <textarea class="form-control disabled" disabled="disabled" value.bind="evaluation.comment" rows="2"></textarea></div></div></div><div class="text-center"><button type="button" class="btn btn-secondary waves-effect waves-light ml-2" click.trigger="evaluation = null" if.bind="! evaluation.processing"><i class="fa fa-undo mr-2"></i>Voltar</button></div></div></div></div></div></div></template>'}),define("text!views/foodService/meusProdutos.html",["module"],function(e){e.exports='<template><require from="../components/attributes/moneyMask"></require><require from="../components/attributes/numberMask"></require><require from="../components/attributes/timeMask"></require><require from="../components/valueConverters/moneyValueConverter"></require><require from="../components/valueConverters/numberValueConverter"></require><require from="../components/valueConverters/timeValueConverter"></require><div class="row mb-5 au-animate"><div class="col-md-12"><div class="card"><div class="card-header">Produtos</div><div class="card-body"><div class="row"><div class="col-md-12 pb-5"><ul class="nav nav-tabs" id="myTab-1" role="tablist"><li class="nav-item waves-effect waves-light"><a class="nav-link active" href="#tab-1-1" data-toggle="tab" role="tab" aria-controls="tab-1-1" aria-selected="true" aria-expanded="true"><i class="batch-icon batch-icon-list-alt mr-2"></i> Seleção de Produtos</a></li><li class="nav-item waves-effect waves-light"><a class="nav-link" href="#tab-1-2" data-toggle="tab" role="tab" aria-controls="tab-1-2" aria-selected="false" aria-expanded="false"><i class="batch-icon batch-icon-paragraph-alt-justify mr-2"></i> Meus Produtos <span class="badge badge-warning" if.bind="productAddedCount > 0">${ productAddedCount }</span></a></li></ul><div class="tab-content" id="myTabContent-1"><div class="tab-pane fade active show" id="tab-1-1" role="tabpanel" aria-labelledby="tab-1-1" aria-expanded="true"><p class="p-3"><require from="../components/partials/selecaoDeProdutosFoodService"></require><selecao-de-produtos-food-service containerless></selecao-de-produtos-food-service></p></div><div class="tab-pane fade" id="tab-1-2" role="tabpanel" aria-labelledby="tab-1-2" aria-expanded="false"><p class="p-3"><require from="../components/partials/produtosSelecionados"></require><produtos-selecionados containerless></produtos-selecionados></p></div></div></div></div></div></div></div></div></template>'}),define("text!views/foodService/dashboard.html",["module"],function(e){e.exports='<template><div class="row mb-5 au-animate"><div class="col-md-12"><div class="card"><div class="card-body"><div class="col-md-7 order-md-2 signin-right-column px-5"><a class="signin-logo d-sm-none d-md-block"><img class="ml-5" src="assets/img/logo2T.png" style="cursor:default" width="150" height="92" alt="CSZ"></a><h1 class="display-6">CSZ Compras Inteligentes</h1><p class="lead mb-5">Olá, seja bem-vindo</p><p></p></div></div></div></div></div></template>'}),define("text!views/foodService/pedidosFoodService.html",["module"],function(e){e.exports='<template><require from="../components/attributes/moneyMask"></require><require from="../components/valueConverters/moneyValueConverter"></require><require from="../components/attributes/timeMask"></require><require from="../components/valueConverters/timeValueConverter"></require><require from="../components/valueConverters/dateFormatValueConverter"></require><require from="../components/attributes/cnpjMask"></require><require from="../components/attributes/cepMask"></require><require from="../components/attributes/phoneWithDDDMask"></require><require from="../components/attributes/cellPhoneWithDDDMask"></require><require from="../components/valueConverters/cnpjValueConverter"></require><require from="../components/valueConverters/cepValueConverter"></require><require from="../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../components/valueConverters/cellPhoneWithDDDValueConverter"></require><div class="row mb-5 au-animate"><div class="col-lg-12"><div class="card"><div class="card-header"><span if.bind="! showdDetails">Meus Pedidos </span><span if.bind="showdDetails">Pedido nº ${selectedOrder.code}</span></div><div class="card-body"><div class="row"><div class="col-md-12" if.bind="showdDetails"><div class="mt-1"><h5 class="mb-0"> ${selectedOrder.supplier.name} <span class="badge badge-danger float-right" if.bind="selectedOrder.status == 0">Aguardando aprovação</span> <span class="badge badge-warning float-right" if.bind="selectedOrder.status == 1">Aprovado</span> <span class="badge badge-primary float-right" if.bind="selectedOrder.status == 2">Entregue</span> <span class="badge badge-default float-right" if.bind="selectedOrder.status == 3">Rejeitado</span><br><br><span class="badge badge-warning float-right" if.bind="selectedOrder.deliveryScheduleStart != null">Horário de Entrega: das ${selectedOrder.deliveryScheduleStart | time} as ${selectedOrder.deliveryScheduleEnd | time} </span><br><br><span class="badge badge-danger float-left" if.bind="selectedOrder.reasonToReject && selectedOrder.reasonToReject != \'\' ">Motivo da Rejeição: ${selectedOrder.reasonToReject}</span></h5><div><div class="card-header ml-0" role="tab" id="headingTwo"><h4>Dados do Fornecedor</h4></div><div><div class="card-body"><h6 class="mt-2 mb-5"><i class="fa fa-tag mr-2"></i>Cadastro</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Razão Social</label> <label class="control-label col-md-6">${selectedOrder.supplier.name}</label></div><div class="form-group"><label class="control-label col-md-6">CNPJ</label> <label class="control-label col-md-6">${selectedOrder.supplier.cnpj | cnpj}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome Fantasia</label> <label class="control-label col-md-6">${selectedOrder.supplier.fantasyName}</label></div><div class="form-group"><label class="control-label col-md-6">Inscrição Estadual</label> <label class="control-label col-md-6">${selectedOrder.supplier.stateRegistration.name}</label></div></div></div><h6 class="mt-5 mb-5"><i class="fa fa-envelope-o mr-2"></i> Endereço</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">CEP</label> <label class="control-label col-md-6">${selectedOrder.supplier.address.cep | cep}</label></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Logradouro</label> <label class="control-label col-md-6">${selectedOrder.supplier.address.logradouro}</label></div><div class="form-group"><label class="control-label col-md-6">Bairro</label> <label class="control-label col-md-6">${selectedOrder.supplier.address.neighborhood}</label></div><div class="form-group"><label class="control-label col-md-6">Estado</label> <label class="control-label col-md-6">${selectedOrder.address.state}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Número</label> <label class="control-label col-md-6">${selectedOrder.supplier.address.number}</label></div><div class="form-group"><label class="control-label col-md-6">Cidade</label> <label class="control-label col-md-6">${selectedOrder.supplier.address.city}</label></div><div class="form-group"><label class="control-label col-md-6">Complemento</label> <label class="control-label col-md-6">${selectedOrder.supplier.address.complement}</label></div></div></div><h6 class="mt-5 mb-5"><i class="batch-icon batch-icon-users mr-2"></i>Contato</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome</label> <label class="control-label col-md-6">${selectedOrder.supplier.contact.name}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Comercial</label> <label class="control-label col-md-6">${selectedOrder.supplier.contact.commercialPhone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">E-mail</label> <label class="control-label col-md-6">${selectedOrder.supplier.contact.email}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Telefone</label> <label class="control-label col-md-6">${selectedOrder.supplier.contact.phone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Celular</label> <label class="control-label col-md-6">${selectedOrder.supplier.contact.personalPhone | phoneWithDDD}</label></div></div></div></div></div><div class="card-header ml-0" role="tab" id="headingTwo"><h4>Dados do pedido</h4></div><div><table class="table table-hover table-responsive"><thead><tr><th class="text-center">Nome do Produto</th><th>Descrição</th><th>Categoria</th><th>UM</th><th>Marca</th><th class="text-center">Quantidade</th><th class="text-center">Preço unitário</th><th class="text-center">Total</th></tr></thead><tbody><tr repeat.for="item of selectedOrder.items"><td>${item.product.name}</td><td class="text-center align-middle">${item.product.description}</td><td>${item.product.category.name}</td><td>${item.product.unit.name}</td><td>${item.product.brand.name}</td><td class="text-center">${item.quantity | money}</td><td class="text-center">${item.price | money}</td><td class="text-center">${item.total | money}</td></tr></tbody></table></div></div></div><div class="text-center mt-3"><button type="button" class="btn btn-secondary waves-effect waves-light" click.trigger="showdDetails = false"><i class="fa fa-undo mr-2" aria-hidden="true"></i> Voltar</button></div></div><div class="col-md-12" if.bind="! showdDetails"><div class="form-row align-items-center"><div class="col-lg-3"><label for="input-task-title" class="active">Dados do pedido</label> <input type="text" class="form-control input-task-title" id="input-task-title" placeholder="Codigo / Cliente / Contato / Valor" change.trigger="search()" value.bind="filter"></div><div class="col-lg-3 ml-5"><label for="input-task-title" class="active">Status</label> <select class="form-control" value.bind="selectedStatus" change.delegate="load()"><option value="0" selected="selected">Novo pedido</option><option value="1">Aceito</option><option value="2">Entregue</option><option value="3">Rejeitado</option></select></div><div class="col-lg-3 ml-4 mt-3"><button type="button" class="btn btn-primary btn-gradient assign-task waves-effect waves-light"><span class="gradient">Pesquisar</span></button></div></div><div><table class="table table-hover table-responsive mt-5"><thead><tr><th class="text-center">Código</th><th class="text-center">Status</th><th>Data do Pedido</th><th class="text-center">Criado por</th><th class="text-center">Data de pgto</th><th class="text-center">Fornecedor</th><th class="text-center">Previsão de entrega</th><th class="text-center">Total</th><th></th></tr></thead><tbody><tr repeat.for="order of filteredOrders"><td class="text-center">${order.code}</td><td class="text-center"><span class="badge badge-success" if.bind="order.status == 0">Novo pedido</span> <span class="badge badge-warning" if.bind="order.status == 1">Aceito</span> <span class="badge badge-primary" if.bind="order.status == 2">Entregue</span> <span class="badge badge-default" if.bind="order.status == 3">Rejeitado</span></td><td>${order.createdOn | dateFormat}</td><td class="text-center">${order.createdBy.name} <span class="ml-2">(${order.createdBy.email})</span></td><td>${order.paymentDate | dateFormat}</td><td class="text-center">${order.supplier.name}</td><td>${order.deliveryDate | dateFormat}</td><td class="text-right">${order.total | money}</td><td class="text-right"><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="selectOrder(order)">Ver detalhes</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" click.trigger="deliverOrder(order)" if.bind="order.status == 1">Efetuar baixa <i class="fa fa-arrow-right ml-2" aria-hidden="true"></i></button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" click.trigger="quoteAgain(order)" if.bind="order.status == 3">Cotar novamente <i class="fa fa-arrow-right ml-2" aria-hidden="true"></i></button></td></tr></tbody></table></div></div></div></div></div></div></div></template>'}),define("text!views/fornecedor/evaluations.html",["module"],function(e){e.exports='<template><require from="../components/attributes/moneyMask"></require><require from="../components/valueConverters/moneyValueConverter"></require><require from="../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../components/valueConverters/cellPhoneWithDDDValueConverter"></require><require from="../components/valueConverters/cnpjValueConverter"></require><require from="../components/valueConverters/cepValueConverter"></require><require from="../components/valueConverters/dateFormatValueConverter"></require><require from="../components/attributes/cnpjMask"></require><require from="../components/attributes/cepMask"></require><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Avaliações</div><div class="card-body"><div if.bind="! evaluation"><table class="table table-hover mt-2"><thead><tr><th class="text-center">Nº pedido</th><th class="text-right">Valor do pedido</th><th class="text-center">Food Service</th><th class="text-center">Fornecedor</th><th class="text-center">Data da avaliação</th><th class="text-center" style="min-width:250px">Avaliação</th><th></th></tr></thead><tbody><tr repeat.for="x of filteredEvaluations"><td class="text-center">${x.order.code}</td><td class="text-right">${x.order.total | money}</td><td class="text-center">${x.foodService.name}</td><td class="text-center">${x.supplier.name}</td><td class="text-center">${x.createdOn | dateFormat}</td><td class="text-center"><i class="batch-icon ${ x.rating >= 1 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 2 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 3 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 4 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 5 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light mx-auto ml-2" click.trigger="showDetails(x)" if.bind="! x.processing">Detalhes</button></td></tr></tbody></table></div><div if.bind="evaluation"><div class="row mt-3"><div class="col-md-12"><h6 class="mt-5 mb-5"><i class="batch-icon batch-icon-users mr-2"></i>Dados do Food Service</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome</label> <label class="control-label col-md-6">${evaluation.foodService.name}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Comercial</label> <label class="control-label col-md-6">${evaluation.foodService.contact.commercialPhone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">E-mail</label> <label class="control-label col-md-6">${evaluation.foodService.contact.email}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Telefone</label> <label class="control-label col-md-6">${evaluation.foodService.contact.phone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Celular</label> <label class="control-label col-md-6">${evaluation.foodService.contact.personalPhone | phoneWithDDD}</label></div></div></div></div><div class="col-md-12"><h6 class="mt-5 mb-5"><i class="batch-icon batch-icon-users mr-2"></i>Dados do Fornecedor</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome</label> <label class="control-label col-md-6">${evaluation.supplier.name}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Comercial</label> <label class="control-label col-md-6">${evaluation.supplier.contact.commercialPhone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">E-mail</label> <label class="control-label col-md-6">${evaluation.supplier.contact.email}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Telefone</label> <label class="control-label col-md-6">${evaluation.supplier.contact.phone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Celular</label> <label class="control-label col-md-6">${evaluation.supplier.contact.personalPhone | phoneWithDDD}</label></div></div></div></div><div class="col-md-12 mt-5"><div class="form-group mx-auto text-center"><h5 class="text-center">Nota da avaliação</h5><i class="batch-icon ${ evaluation.rating  >= 1 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl mt-2"></i> <i class="batch-icon ${ evaluation.rating >= 2 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 3 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 4 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 5 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl mb-2"></i></div></div><div class="col-md-12 mt-3"><div class="form-group mx-auto"><label class="control-label">Comentários</label> <textarea class="form-control disabled" disabled="disabled" value.bind="evaluation.comment" rows="2"></textarea></div></div></div><div class="text-center"><button type="button" class="btn btn-secondary waves-effect waves-light ml-2" click.trigger="evaluation = null" if.bind="! evaluation.processing"><i class="fa fa-undo mr-2"></i>Voltar</button></div></div></div></div></div></div></template>'}),define("text!views/fornecedor/dashboard.html",["module"],function(e){e.exports='<template><require from="../components/attributes/moneyMask"></require><require from="../components/valueConverters/moneyValueConverter"></require><require from="../components/valueConverters/dateFormatValueConverter"></require><div class="row mb-5 au-animate"><div class="col-md-12"><div class="row"><div class="col-md-6 col-lg-6 col-xl-3 mb-5"><div class="card card-tile card-xs bg-primary bg-gradient text-center"><div class="card-body p-4"><div class="tile-left"><i class="batch-icon batch-icon-users batch-icon-xxl"></i></div><div class="tile-right"><div class="tile-number"><i class="fa fa-refresh fa-spin" if.bind="isLoadingNumberOfCustomers"></i> <span if.bind="! isLoadingNumberOfCustomers">${numberOfCustomers.count}</span></div><div class="tile-description">Clientes cadastrados</div></div></div></div></div><div class="col-md-6 col-lg-6 col-xl-3 mb-5"><div class="card card-tile card-xs bg-secondary bg-gradient text-center"><div class="card-body p-4"><div class="tile-left"><i class="batch-icon batch-icon-tag-alt-2 batch-icon-xxl"></i></div><div class="tile-right"><div class="tile-number"><i class="fa fa-refresh fa-spin" if.bind="isLoadingNumberOfOrders"></i> <span if.bind="! isLoadingNumberOfOrders">${numberOfOrders.total | money }</span></div><div class="tile-description">Valor total dos pedidos</div></div></div></div></div><div class="col-md-6 col-lg-6 col-xl-3 mb-5"><div class="card card-tile card-xs bg-secondary bg-gradient text-center"><div class="card-body p-4"><div class="tile-left"><i class="batch-icon batch-icon-star batch-icon-xxl"></i></div><div class="tile-right"><div class="tile-number"><i class="fa fa-refresh fa-spin" if.bind="isLoadingNumberOfOrders"></i> <span if.bind="! isLoadingNumberOfOrders">${numberOfOrders.count}</span></div><div class="tile-description">Pedidos recebidos</div></div></div></div></div></div><div class="row"><div class="col-md-6 col-lg-6 col-xl-8 mb-5"><div class="card"><div class="card-header">Pedidos<div class="header-btn-block"><span class="data-range dropdown"><a href="#" class="btn btn-primary dropdown-toggle waves-effect waves-light" id="navbar-dropdown-sales-overview-header-button" data-toggle="dropdown" data-flip="false" aria-haspopup="true" aria-expanded="false"><i class="batch-icon batch-icon-calendar"></i></a><div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar-dropdown-sales-overview-header-button"><a class="dropdown-item" href="#" click.trigger="loadOrdersValues(1)">Ano</a> <a class="dropdown-item" href="#" click.trigger="loadOrdersValues(0)">Mês</a> <a class="dropdown-item" href="#" click.trigger="loadOrdersValues(2)">Início</a></div></span></div></div><div class="card-body"><span class="fa-5x" style="position:absolute;top:20%;left:50%" if.bind="! pedidosChart"><i class="fa fa-refresh fa-spin"></i></span><div class="card-chart" data-chart-color-1="#07a7e3" data-chart-color-2="#32dac3" data-chart-legend-1="Sales ($)" data-chart-legend-2="Orders" data-chart-height="281"><canvas id="pedidos" style="display:block"></canvas></div></div></div></div><div class="col-md-6 col-lg-6 col-xl-4 mb-5"><div class="card card-md"><div class="card-header">Últimas avaliações</div><div class="card-body text-center"><span class="fa-5x" style="position:absolute;top:20%;left:50%" if.bind="! evaluations"><i class="fa fa-refresh fa-spin"></i></span><table class="table table-hover mt-2" if.bind="evaluations"><thead><tr><th class="text-center">Food Service</th><th class="text-center" style="min-width:250px">Avaliação</th><th></th></tr></thead><tbody><tr repeat.for="x of evaluations"><td class="text-center">${x.foodService.name}</td><td class="text-center"><i class="batch-icon ${ x.rating >= 1 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 2 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 3 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 4 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i class="batch-icon ${ x.rating >= 5 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i></td></tr></tbody></table></div></div></div></div><div class="row mb-5"><div class="col-md-4"><div class="card card-md"><div class="card-header">Principais Clientes<div class="header-btn-block"><span class="data-range dropdown"><a href="#" class="btn btn-primary dropdown-toggle" id="navbar-dropdown-traffic-sources-header-button" data-toggle="dropdown" data-flip="false" aria-haspopup="true" aria-expanded="false"><i class="batch-icon batch-icon-calendar"></i></a><div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar-dropdown-traffic-sources-header-button"><a class="dropdown-item" href="#" click.trigger="loadMainClients(1)">Ano</a> <a class="dropdown-item" href="#" click.trigger="loadMainClients(0)">Mês</a> <a class="dropdown-item" href="#" click.trigger="loadMainClients(2)">Início</a></div></span></div></div><div class="card-body text-center"><span class="fa-5x" style="position:absolute;top:20%;left:50%" if.bind="! clientesChart"><i class="fa fa-refresh fa-spin"></i></span><div class="card-chart" data-chart-color-1="#07a7e3" data-chart-color-2="#32dac3" data-chart-color-3="#4f5b60" data-chart-color-4="#FCCF31" data-chart-color-5="#f43a59"><canvas id="principaisClientesChart"></canvas></div></div></div></div><div class="col-md-4"><div class="card card-md"><div class="card-header">Produtos mais vendidos</div><div class="card-body text-center"><span class="fa-5x" style="position:absolute;top:20%;left:50%" if.bind="! produtosChart"><i class="fa fa-refresh fa-spin"></i></span><div class="card-body text-center"><div class="card-chart" data-chart-color-1="#07a7e3" data-chart-color-2="#32dac3" data-chart-color-3="#4f5b60" data-chart-color-4="#FCCF31" data-chart-color-5="#f43a59"><canvas id="principaisProdutosChart"></canvas></div></div></div></div></div></div></div></div></template>'}),define("text!views/fornecedor/clientes.html",["module"],function(e){e.exports='<template><require from="../components/attributes/cnpjMask"></require><require from="../components/attributes/phoneWithDDDMask"></require><require from="../admin/foodService/editFoodService"></require><div class="row mb-5 task-manager au-animate" if.bind="! showDetails"><div class="col-lg-12"><div class="card"><div class="card-header"> ${title} </div><div class="card-body"><form><div class="form-row align-items-center"><div class="col-lg-3"><label for="input-task-title" class="active">Filtro</label> <select class="form-control" value.bind="tipoFiltro" change.delegate="alterView()"><option value="0">Novos Clientes</option><option value="1">Aguardando aprovação</option><option value="2">Meus Clientes</option><option value="3">Clientes Bloqueados</option></select></div><div class="col-lg-3"><label for="input-task-title" class="active">Nome do cliente</label> <input type="text" class="form-control input-task-title" id="input-task-title" placeholder="nome..." change.trigger="search()" value.bind="filter"></div><div class="col-lg-3 ml-4 mt-3 fa-2x text-center" if.bind="processing"><i class="fa fa-refresh fa-spin"></i></div><div class="col-lg-3 ml-4 mt-3" if.bind="! processing"><button type="button" class="btn btn-primary btn-gradient assign-task waves-effect waves-light"><span class="gradient">Pesquisar</span></button></div></div></form></div><div class="card-body"><table class="table table-hover"><thead><tr><th>Nome do cliente</th><th>Situação Cadastral</th><th>Contato</th><th>E-mail</th><th>Telefone</th><th>CNPJ</th><th></th><th></th></tr></thead><tbody><tr repeat.for="x of filteredFoodServices"><td>${x.foodService.name}</td><td><span class="badge badge-danger" if.bind="x.status == 1">Não cadastrado</span> <span class="badge badge-success" if.bind="x.status == 2">Cadastrado</span> <span class="badge badge-default" if.bind="x.status == 3">Rejeitado</span> <span class="badge badge-default" if.bind="x.status == 4">Bloqueado</span> <span class="badge badge-warning" if.bind="x.status == 5">Aguardando aprovação</span></td><td>${x.foodService.contact.name}</td><td>${x.foodService.contact.email}</td><td phone-with-ddd>${x.foodService.contact.phone}</td><td cnpj>${x.foodService.cnpj}</td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" if.bind="x.status == 1 && ! x.isLoading" click.trigger="registrationSent(x)">Cadastro recebido</button> <button type="button" class="btn btn-primary btn-sm waves-effect waves-light" if.bind="(x.status == 5 || x.status == 3) && ! x.isLoading" click.trigger="approve(x)">Aprovar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 5 && ! x.isLoading" click.trigger="reject(x)">Rejeitar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 2 && ! x.isLoading" click.trigger="block(x)">Bloquear</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" if.bind="x.status == 4 && ! x.isLoading" click.trigger="unblock(x)">Desbloquear</button> <button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="showFoodServiceDetails(x)">Detalhes</button></td><td><div class="fa-2x text-center ${x.isLoading  == true ? \'\' : \'invisible\'}"><i class="fa fa-refresh fa-spin"></i></div></td></tr></tbody></table></div></div></div></div><div class=" ${ showDetails ? \'\' : \'invisible\' }" class="au-animate"><edit-food-service></edit-food-service></div></template>'}),define("text!views/admin/product/listProduct.html",["module"],function(e){e.exports='<template><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Produtos</div><div class="card-body"><div if.bind="! isEditing"><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Categoria</label> <select class="form-control" value.bind="selectedCategory" change.delegate="searchProducts()"><option value=""></option><option repeat.for="category of categories" value.bind="category.id">${category.name}</option></select></div></div><div class="col-lg-6"><div class="form-group"><label class="control-label">Filtro</label> <input type="text" class="form-control" value.bind="filter" placeholder="Pesquise por Produto / Descrição" change.trigger="search()"></div></div></div><div class="row mt-2 ml-2"><button type="button" class="btn btn-primary waves-effect waves-light" click.trigger="create()">Novo produto</button></div><table class="table table-hover"><thead><tr><th>Nome</th><th>Descrição</th><th>Marca</th><th>Categoria</th><th>UM</th><th>Status</th><th></th></tr></thead><tbody><tr repeat.for="x of filteredProducts"><td>${x.name}</td><td>${x.description}</td><td>${x.brand.name}</td><td>${x.category.name}</td><td>${x.unit.name}</td><td><span class="badge badge-success" if.bind="x.isActive">Ativo</span> <span class="badge badge-danger" if.bind="! x.isActive">Inativo</span></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="edit(x)">Editar</button></td></tr></tbody></table></div><div if.bind="isEditing"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Nome<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" value.bind="product.name"></div></div></div><div class="row mt-4"><div class="col-md-12"><div class="form-group"><label class="control-label">Descrição<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" value.bind="product.description"></div></div></div><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">Categoria</label> <select class="form-control" value.bind="product.category"><option value=""></option><option repeat.for="category of categories" model.bind="category">${category.name}</option></select></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Marca</label> <select class="form-control" value.bind="selectedCategory"><option value=""></option></select></div></div></div><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">UM<span class="text-danger ml-1 bold">*</span></label> <select class="form-control" value.bind="product.unit"><option value=""></option><option repeat.for="unit of units" model.bind="unit">${unit.name}</option></select></div></div><div class="col-md-6"><div class="col-md-4"></div><label class="control-label mt-5">Ativo<span class="text-danger ml-1 bold">*</span></label> <label class="form-check-label ml-2 float-left mt-5"><input class="form-check-input float-left" type="checkbox" checked.bind="product.isActive"></label></div></div><div class="text-center mt-4"><button type="button" class="btn btn-primary waves-effect waves-light" click.trigger="addOrUpdate()">Salvar</button> <button type="button" class="btn btn-secondary waves-effect waves-light" click.trigger="cancel()">Cancelar</button></div></div></div></div></div></div></template>'}),define("text!views/admin/foodService/editFoodService.html",["module"],function(e){e.exports='<template><require from="../../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../../components/valueConverters/cellPhoneWithDDDValueConverter"></require><require from="../../components/valueConverters/cnpjValueConverter"></require><require from="../../components/valueConverters/cepValueConverter"></require><require from="../../components/valueConverters/inscricaoEstadualValueConverter"></require><require from="../../components/attributes/cnpjMask"></require><require from="../../components/attributes/cepMask"></require><require from="../../components/attributes/inscricaoEstadualMask"></require><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Edição de Food Service</div><div class="card-body"><h4>Dados básicos</h4><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">Razão Social<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.name"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Nome Fantasia<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.fantasyName"></div></div></div><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">CNPJ<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.cnpj | cnpj" cnpj></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Inscrição Estadual<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" inscricaoestadual value.bind="foodService.inscricaoEstadual | inscricaoEstadual"></div></div></div><h4 class="mt-4">Endereço</h4><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">CEP</label> <input type="text" class="form-control" disabled.bind="! edit" cep value.bind="foodService.address.cep | cep" change.delegate="consultaCEP()"></div></div></div><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">Logradouro</label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.address.logradouro"></div><div class="form-group"><label class="control-label">Bairro</label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.address.neighborhood"></div><div class="form-group"><label class="control-label">Estado</label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.address.state"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Número</label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.address.number"></div><div class="form-group"><label class="control-label">Complemento</label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.address.complement"></div><div class="form-group"><label class="control-label">Cidade</label> <input type="text" class="form-control" disabled.bind="! edit" value.bind="foodService.address.city"></div></div></div><h4 class="mt-4">Contato</h4><div class="tab-pane"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Nome</label> <input type="text" class="form-control ${validator.contactValidator.isNameInvalid  ? \'border-danger\' : \'\' }" disabled.bind="! edit" value.bind="foodService.contact.name" change.delegate="validator.contactValidator.validateName()"></div><div class="form-group"><label class="control-label">Telefone Comercial</label> <input type="text" class="form-control" phone-with-ddd value.bind="foodService.contact.commercialPhone | phoneWithDDD" disabled.bind="! edit" placeholder="(01) 1234-5678"></div><div class="form-group"><label class="control-label">E-mail</label> <input type="text" class="form-control ${validator.contactValidator.isEmailInvalid  ? \'border-danger\' : \'\' } " disabled.bind="! edit" value.bind="foodService.contact.email" change.delegate="validator.contactValidator.validateEmail()"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Telefone</label> <input type="text" class="form-control ${validator.contactValidator.isPhoneInvalid  ? \'border-danger\' : \'\' } " disabled.bind="! edit" phone-with-ddd value.bind="foodService.contact.phone | phoneWithDDD" change.delegate="validator.contactValidator.validatePhone()"></div><div class="form-group"><label class="control-label">Telefone Celular</label> <input type="text" class="form-control" cell-phone-with-ddd value.bind="foodService.contact.personalPhone | cellPhoneWithDDD" disabled.bind="! edit" placeholder="(01) 01234-5678"></div></div></div></div><h4 class="mt-4">Contrato Social</h4><div class="tab-pane" id="tab3"><div class="row"><div class="col-md-6" if.bind="selectedFiles == null || selectedFiles.length == 0"><div class="form-group"><button type="button" class="btn btn-primary waves-effect waves-light col-md-6" click.trigger="downloadSocialContract()"><i class="batch-icon batch-icon-cloud-download"></i> Download</button></div></div><div class="col-md-6" if.bind="edit"><div class="form-group"><form submit.delegate="uploadSocialContract()"><button type="submit" if.bind="selectedFiles.length > 0" class="btn ${ ! isUploading ? \'btn-primary\' : \'btn-warning\'} waves-effect waves-light col-md-6" disable.bind="isUploading"><span if.bind="! isUploading"><i class="batch-icon batch-icon-cloud-upload"></i> Upload </span><span if.bind="isUploading"><i class="fa fa-circle-o-notch fa-spin"></i> Processando arquivo</span></button> <button type="button" class="btn btn-secondary waves-effect waves-light" if.bind="selectedFiles != null && selectedFiles.length > 0" click.trigger="cancelUpload()">Cancelar</button> <input id="files" type="file" accept=".pdf" files.bind="selectedFiles" class="${ isUploading || (selectedFiles != null && selectedFiles.length > 0) ? \'invisible\' : \'\'} mt-4"></form></div></div></div></div><h4 class="mt-4" if.bind="edit">Usuários</h4><span class="badge badge-warning mt-2 mb-2" if.bind="foodService.status != 0 && edit ">Para poder criar usuários faça a ativação do cadastro</span><div class="tab-pane" if.bind="foodService.status != 2 && edit "><div class="row"><table class="table table-hover"><thead><tr><th>Nome</th><th>E-mail</th><th>Status</th><th></th></tr></thead><tbody><tr repeat.for="x of users"><td><span if.bind="! x.isEditing">${x.name}</span><input type="text" class="form-control col-md-8" if.bind="x.isEditing" value.bind="x.name"></td><td><span if.bind="! x.isEditing">${x.email}</span><input type="text" class="form-control col-md-8" if.bind="x.isEditing" value.bind="x.email"></td><td><span class="badge badge-success" if.bind="x.status == 0">Ativo</span> <span class="badge badge-danger" if.bind="x.status == 1">Inativo</span> <span class="badge badge-warning" if.bind="x.status == 2">Aguardando confirmação</span></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" if.bind="x.isEditing && foodService.status == 0" click.trigger="saveEditUser(x)">Salvar</button> <button type="button" class="btn btn-primary btn-sm waves-effect waves-light" if.bind="! x.isEditing  && foodService.status == 0" click.trigger="editUser(x)">Editar</button> <button type="button" class="btn btn-secondary btn-sm waves-effect waves-light" if.bind="  x.isEditing  && foodService.status == 0" click.trigger="cancelEditUser(x)">Cancelar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 0 && ! x.isEditing && foodService.status == 0" click.trigger="editUserStatus(x, 1)">Inativar</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" if.bind="x.status == 1 && ! x.isEditing  && foodService.status == 0" click.trigger="editUserStatus(x, 0)">Ativar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 2  && !    x.isEditing  && foodService.status == 0" click.trigger="resendInvite(x)">Reenviar convite</button></td></tr><tr if.bind="foodService.status == 0"><td><input type="text" class="form-control col-md-8" value.bind="user.name"></td><td><input type="text" class="form-control col-md-8" value.bind="user.email"></td><td></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="createUser()">Criar</button></td></tr></tbody></table></div></div></div><div class="row mt-5 mb-5 mx-auto"><button type="button" class="btn btn-primary btn-gradient waves-effect waves-light" if.bind="edit" click.trigger="save()"><span class="gradient">Salvar</span></button> <button type="button" class="btn btn-success ml-2 waves-effect waves-light" if.bind="foodService.status != 0 && edit" click.trigger="editStatus(0)">Ativar</button> <button type="button" class="btn btn-danger ml-2 waves-effect waves-light" if.bind="foodService.status == 0 && edit " click.trigger="editStatus(1)">Inativar</button> <button type="button" class="btn btn-secondary ml-2 waves-effect waves-light" if.bind="edit" click.trigger="cancel()">Cancelar</button> <button type="button" class="btn btn-secondary ml-2 waves-effect waves-light" if.bind="! edit" click.trigger="cancelShowDetails()">Cancelar</button></div></div></div></div></template>'}),define("text!views/admin/foodService/listFoodServices.html",["module"],function(e){e.exports='<template><require from="../../components/valueConverters/phoneWithDDDValueConverter"></require><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Food Services</div><div class="card-body"><div if.bind="! isEditing"><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Filtro</label> <input type="text" class="form-control" value.bind="filter" placeholder="Pesquise por Nome/ Contato" change.trigger="search()"></div></div><div class="col-lg-4"><div class="form-group"><label class="control-label">Status</label> <select class="form-control" value.bind="selectedStatus" change.delegate="search()"><option value=""></option><option value="0">Ativos</option><option value="1">Inativos</option><option value="2">Aguardando liberação</option></select></div></div></div><table class="table table-hover"><thead><tr><th>Nome</th><th>Contato</th><th>E-mail</th><th>Telefone</th><th>Status</th><th></th></tr></thead><tbody><tr repeat.for="x of filteredFoodServices"><td>${x.name}</td><td>${x.contact.name}</td><td>${x.contact.email}</td><td>${x.contact.phone  | phoneWithDDD }</td><td><span class="badge badge-success" if.bind="x.status == 0">Ativo</span> <span class="badge badge-danger" if.bind="x.status == 1">Inativo</span> <span class="badge badge-warning" if.bind="x.status == 2">Aguardando liberação</span></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="edit(x)">Editar</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" if.bind="x.status != 0" click.trigger="editStatus(x, 0)">Ativar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 0" click.trigger="editStatus(x, 1)">Inativar</button></td></tr></tbody></table></div></div></div></div></div></template>'}),define("text!views/admin/supplier/evaluations.html",["module"],function(e){e.exports='<template><require from="../../components/attributes/moneyMask"></require><require from="../../components/valueConverters/moneyValueConverter"></require><require from="../../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../../components/valueConverters/cellPhoneWithDDDValueConverter"></require><require from="../../components/valueConverters/cnpjValueConverter"></require><require from="../../components/valueConverters/cepValueConverter"></require><require from="../../components/valueConverters/dateFormatValueConverter"></require><require from="../../components/attributes/cnpjMask"></require><require from="../../components/attributes/cepMask"></require><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Avaliações</div><div class="card-body"><div if.bind="! evaluation"><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Status</label> <select class="form-control" value.bind="selectedStatus" change.delegate="load()"><option value="0">Novos</option><option value="1">Aprovados</option><option value="2">Rejeitados</option></select></div></div></div><table class="table table-hover mt-2"><thead><tr><th class="text-center">Nº pedido</th><th class="text-right">Valor do pedido</th><th class="text-center">Food Service</th><th class="text-center">Fornecedor</th><th>Avaliador</th><th class="text-center">Data da avaliação</th><th class="text-center" style="min-width:250px">Avaliação</th><th>Status</th><th></th></tr></thead><tbody><tr repeat.for="x of filteredEvaluations"><td class="text-center">${x.order.code}</td><td class="text-right">${x.order.total | money}</td><td class="text-left">${x.foodService.name}</td><td class="text-left">${x.supplier.name}</td><td>${x.createdBy.name}</td><td class="text-center">${x.createdOn | dateFormat}</td><td class="text-center"><i style="cursor:pointer" class="batch-icon ${ x.rating >= 1 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i style="cursor:pointer" class="batch-icon ${ x.rating >= 2 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i style="cursor:pointer" class="batch-icon ${ x.rating >= 3 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i style="cursor:pointer" class="batch-icon ${ x.rating >= 4 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i> <i style="cursor:pointer" class="batch-icon ${ x.rating >= 5 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg"></i></td><td><span class="badge badge-warning" if.bind="x.status == 0">Novo</span> <span class="badge badge-success" if.bind="x.status == 1">Aprovado</span> <span class="badge badge-danger" if.bind="x.status == 2 || x.status == 3">Rejeitado</span></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light mx-auto ml-2" click.trigger="showDetails(x)" if.bind="! x.processing">Detalhes</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light mx-auto" click.trigger="reject(x)" if.bind="! x.processing && (x.status == 1)"><i class="fa fa-times mr-2" aria-hidden="true"></i> Rejeitar</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light mx-auto ml-2" click.trigger="approve(x)" if.bind="! x.processing && (  x.status == 2  || x.status == 3)"><i class="fa fa-check mr-2"></i>Aprovar</button><div class="fa-2x text-center mx-auto" if.bind="x.processing"><i class="fa fa-refresh fa-spin"></i></div></td></tr></tbody></table></div><div if.bind="evaluation"><div class="row mt-3"><div class="col-md-12"><h6 class="mt-5 mb-5"><i class="batch-icon batch-icon-users mr-2"></i>Dados do Food Service</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome</label> <label class="control-label col-md-6">${evaluation.foodService.name}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Comercial</label> <label class="control-label col-md-6">${evaluation.foodService.contact.commercialPhone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">E-mail</label> <label class="control-label col-md-6">${evaluation.foodService.contact.email}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Telefone</label> <label class="control-label col-md-6">${evaluation.foodService.contact.phone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Celular</label> <label class="control-label col-md-6">${evaluation.foodService.contact.personalPhone | phoneWithDDD}</label></div></div></div></div><div class="col-md-12"><h6 class="mt-5 mb-5"><i class="batch-icon batch-icon-users mr-2"></i>Dados do Fornecedor</h6><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Nome</label> <label class="control-label col-md-6">${evaluation.supplier.name}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Comercial</label> <label class="control-label col-md-6">${evaluation.supplier.contact.commercialPhone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">E-mail</label> <label class="control-label col-md-6">${evaluation.supplier.contact.email}</label></div></div><div class="col-md-6"><div class="form-group"><label class="control-label col-md-6">Telefone</label> <label class="control-label col-md-6">${evaluation.supplier.contact.phone | phoneWithDDD}</label></div><div class="form-group"><label class="control-label col-md-6">Telefone Celular</label> <label class="control-label col-md-6">${evaluation.supplier.contact.personalPhone | phoneWithDDD}</label></div></div></div></div><div class="col-md-12 mt-5"><div class="form-group mx-auto text-center"><h5 class="text-center">Nota da avaliação</h5><i class="batch-icon ${ evaluation.rating  >= 1 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl mt-2"></i> <i class="batch-icon ${ evaluation.rating >= 2 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 3 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 4 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl"></i> <i class="batch-icon ${ evaluation.rating >= 5 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-xxl mb-2"></i></div></div><div class="col-md-12 mt-3"><div class="form-group mx-auto"><label class="control-label">Comentários</label> <textarea class="form-control disabled" disabled="disabled" value.bind="evaluation.comment" rows="2"></textarea></div></div></div><div class="row float-right"><button type="button" class="btn btn-secondary waves-effect waves-light ml-2" click.trigger="evaluation = null" if.bind="! evaluation.processing"><i class="fa fa-undo mr-2"></i>Cancelar</button> <button type="button" class="btn btn-danger waves-effect waves-light ml-2" click.trigger="reject(evaluation)" if.bind="! evaluation.processing && (evaluation.status == 0 || evaluation.status == 1)"><i class="fa fa-times mr-2" aria-hidden="true"></i> Rejeitar</button> <button type="button" class="btn btn-success waves-effect waves-light ml-2" click.trigger="approve(evaluation)" if.bind="! evaluation.processing  && (evaluation.status == 0 || evaluation.status == 2  || evaluation.status == 3)"><i class="fa fa-check mr-2"></i>Aprovar</button><div class="fa-2x text-center mx-auto" if.bind="evaluation.processing"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></div></div></div></template>'}),define("text!views/admin/supplier/editSupplier.html",["module"],function(e){e.exports='<template><require from="../../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../../components/valueConverters/cellPhoneWithDDDValueConverter"></require><require from="../../components/valueConverters/cnpjValueConverter"></require><require from="../../components/valueConverters/cepValueConverter"></require><require from="../../components/valueConverters/inscricaoEstadualValueConverter"></require><require from="../../components/attributes/cnpjMask"></require><require from="../../components/attributes/cepMask"></require><require from="../../components/attributes/inscricaoEstadualMask"></require><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Edição de fornecedor</div><div class="card-body"><h4>Dados básicos</h4><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">Razão Social<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" value.bind="supplier.name" disabled.bind="! edit"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Nome Fantasia<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" value.bind="supplier.fantasyName" disabled.bind="! edit"></div></div></div><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">CNPJ<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" value.bind="supplier.cnpj | cnpj  " cnpj disabled.bind="! edit"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Inscrição Estadual<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" inscricaoestadual value.bind="supplier.inscricaoEstadual | inscricaoEstadual" disabled.bind="! edit"></div></div></div><h4 class="mt-4">Endereço</h4><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">CEP</label> <input type="text" class="form-control" cep value.bind="supplier.address.cep | cep" change.delegate="consultaCEP()" disabled.bind="! edit"></div></div></div><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">Logradouro</label> <input type="text" class="form-control" value.bind="supplier.address.logradouro" disabled.bind="! edit"></div><div class="form-group"><label class="control-label">Bairro</label> <input type="text" class="form-control" value.bind="supplier.address.neighborhood" disabled.bind="! edit"></div><div class="form-group"><label class="control-label">Estado</label> <input type="text" class="form-control" value.bind="supplier.address.state" disabled.bind="! edit"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Número</label> <input type="text" class="form-control" value.bind="supplier.address.number" disabled.bind="! edit"></div><div class="form-group"><label class="control-label">Complemento</label> <input type="text" class="form-control" value.bind="supplier.address.complement" disabled.bind="! edit"></div><div class="form-group"><label class="control-label">Cidade</label> <input type="text" class="form-control" value.bind="supplier.address.city" disabled.bind="! edit"></div></div></div><h4 class="mt-4">Contato</h4><div class="tab-pane"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Nome</label> <input type="text" class="form-control ${validator.contactValidator.isNameInvalid  ? \'border-danger\' : \'\' }" value.bind="supplier.contact.name" change.delegate="validator.contactValidator.validateName()" disabled.bind="! edit"></div><div class="form-group"><label class="control-label">Telefone Comercial</label> <input type="text" class="form-control" phone-with-ddd value.bind="supplier.contact.commercialPhone | phoneWithDDD" placeholder="(01) 1234-5678"></div><div class="form-group"><label class="control-label">E-mail</label> <input type="text" class="form-control ${validator.contactValidator.isEmailInvalid  ? \'border-danger\' : \'\' } " value.bind="supplier.contact.email" change.delegate="validator.contactValidator.validateEmail()" disabled.bind="! edit"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Telefone</label> <input type="text" class="form-control ${validator.contactValidator.isPhoneInvalid  ? \'border-danger\' : \'\' } " phone-with-ddd value.bind="supplier.contact.phone | phoneWithDDD" change.delegate="validator.contactValidator.validatePhone()" disabled.bind="! edit"></div><div class="form-group"><label class="control-label">Telefone Celular</label> <input type="text" class="form-control" cell-phone-with-ddd value.bind="supplier.contact.personalPhone | cellPhoneWithDDD" placeholder="(01) 01234-5678" disabled.bind="! edit"></div></div></div></div><h4 class="mt-4">Contrato Social</h4><div class="tab-pane" id="tab3"><div class="row"><div class="col-md-6" if.bind="selectedFiles == null || selectedFiles.length == 0"><div class="form-group"><button type="button" class="btn btn-primary waves-effect waves-light col-md-6" click.trigger="downloadSocialContract()"><i class="batch-icon batch-icon-cloud-download"></i> Download</button></div></div><div class="col-md-6"><div class="form-group"><form submit.delegate="uploadSocialContract()" if.bind="edit"><button type="submit" if.bind="selectedFiles.length > 0" class="btn ${ ! isUploading ? \'btn-primary\' : \'btn-warning\'} waves-effect waves-light col-md-6" disable.bind="isUploading"><span if.bind="! isUploading"><i class="batch-icon batch-icon-cloud-upload"></i> Upload </span><span if.bind="isUploading"><i class="fa fa-circle-o-notch fa-spin"></i> Processando arquivo</span></button> <button type="button" class="btn btn-secondary waves-effect waves-light" if.bind="selectedFiles != null && selectedFiles.length > 0" click.trigger="cancelUpload()">Cancelar</button> <input id="files" type="file" accept=".pdf" files.bind="selectedFiles" class="${ isUploading || (selectedFiles != null && selectedFiles.length > 0) ? \'invisible\' : \'\'} mt-4"></form></div></div></div></div><h4 class="mt-4" if.bind="edit">Usuários</h4><span class="badge badge-warning mt-2 mb-2" if.bind="supplier.status != 0 && edit">Para poder criar usuários faça a ativação do cadastro</span><div class="tab-pane" if.bind="supplier.status != 2 && edit"><div class="row"><table class="table table-hover"><thead><tr><th>Nome</th><th>E-mail</th><th>Status</th><th></th></tr></thead><tbody><tr repeat.for="x of users"><td><span if.bind="! x.isEditing">${x.name}</span><input type="text" class="form-control col-md-8" if.bind="x.isEditing" value.bind="x.name"></td><td><span if.bind="! x.isEditing">${x.email}</span><input type="text" class="form-control col-md-8" if.bind="x.isEditing" value.bind="x.email"></td><td><span class="badge badge-success" if.bind="x.status == 0">Ativo</span> <span class="badge badge-danger" if.bind="x.status == 1">Inativo</span> <span class="badge badge-warning" if.bind="x.status == 2">Aguardando confirmação</span></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" if.bind="x.isEditing && supplier.status == 0" click.trigger="saveEditUser(x)">Salvar</button> <button type="button" class="btn btn-primary btn-sm waves-effect waves-light" if.bind="! x.isEditing  && supplier.status == 0" click.trigger="editUser(x)">Editar</button> <button type="button" class="btn btn-secondary btn-sm waves-effect waves-light" if.bind="  x.isEditing  && supplier.status == 0" click.trigger="cancelEditUser(x)">Cancelar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 0 && ! x.isEditing && supplier.status == 0" click.trigger="editUserStatus(x, 1)">Inativar</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" if.bind="x.status == 1 && ! x.isEditing  && supplier.status == 0" click.trigger="editUserStatus(x, 0)">Ativar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 2  && !    x.isEditing  && supplier.status == 0" click.trigger="resendInvite(x)">Reenviar convite</button></td></tr><tr if.bind="supplier.status == 0"><td><input type="text" class="form-control col-md-8" value.bind="user.name"></td><td><input type="text" class="form-control col-md-8" value.bind="user.email"></td><td></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="createUser()">Criar</button></td></tr></tbody></table></div></div></div><div class="row mt-5 mb-5 mx-auto" if.bind="edit"><button type="button" class="btn btn-primary btn-gradient waves-effect waves-light" click.trigger="save()"><span class="gradient">Salvar</span></button> <button type="button" class="btn btn-success ml-2 waves-effect waves-light" if.bind="supplier.status != 0" click.trigger="editStatus(0)">Ativar</button> <button type="button" class="btn btn-danger ml-2 waves-effect waves-light" if.bind="supplier.status == 0" click.trigger="editStatus(1)">Inativar</button> <button type="button" class="btn btn-secondary ml-2 waves-effect waves-light" click.trigger="cancel()">Cancelar</button></div><div class="row mt-5 mb-5 mx-auto" if.bind="! edit"><button type="button" class="btn btn-secondary ml-2 waves-effect waves-light" click.trigger="cancelView()">Cancelar</button></div></div></div></div></template>'}),define("text!views/admin/supplier/listSuppliers.html",["module"],function(e){e.exports='<template><require from="../../components/valueConverters/phoneWithDDDValueConverter"></require><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Fornecedores</div><div class="card-body"><div if.bind="! isEditing"><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Filtro</label> <input type="text" class="form-control" value.bind="filter" placeholder="Pesquise por Nome/ Contato" change.trigger="search()"></div></div><div class="col-lg-4"><div class="form-group"><label class="control-label">Status</label> <select class="form-control" value.bind="selectedStatus" change.delegate="search()"><option value=""></option><option value="0">Ativos</option><option value="1">Inativos</option><option value="2">Aguardando liberação</option></select></div></div></div><table class="table table-hover"><thead><tr><th>Nome</th><th>Contato</th><th>E-mail</th><th>Telefone</th><th>Status</th><th></th></tr></thead><tbody><tr repeat.for="x of filteredSuppliers"><td>${x.name}</td><td>${x.contact.name}</td><td>${x.contact.email}</td><td>${x.contact.phone  | phoneWithDDD }</td><td><span class="badge badge-success" if.bind="x.status == 0">Ativo</span> <span class="badge badge-danger" if.bind="x.status == 1">Inativo</span> <span class="badge badge-warning" if.bind="x.status == 2">Aguardando liberação</span></td><td><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="edit(x)">Editar</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" if.bind="x.status != 0" click.trigger="editStatus(x, 0)">Ativar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status == 0" click.trigger="editStatus(x, 1)">Inativar</button></td></tr></tbody></table></div></div></div></div></div></template>'}),define("text!views/admin/finance/listInvoice.html",["module"],function(e){e.exports='<template><require from="../../components/attributes/moneyMask"></require><require from="../../components/valueConverters/moneyValueConverter"></require><require from="../../components/valueConverters/dateFormatValueConverter"></require><require from="../../components/valueConverters/phoneWithDDDValueConverter"></require><require from="../../components/valueConverters/cellPhoneWithDDDValueConverter"></require><require from="../../components/valueConverters/cnpjValueConverter"></require><require from="../../components/valueConverters/cepValueConverter"></require><require from="../../components/valueConverters/inscricaoEstadualValueConverter"></require><require from="../../components/attributes/cnpjMask"></require><require from="../../components/attributes/cepMask"></require><require from="../../components/attributes/inscricaoEstadualMask"></require><require from="../../components/attributes/timeMask"></require><require from="../../components/valueConverters/timeValueConverter"></require><div class="row mb-5 task-manager au-animate"><div class="col-lg-12"><div class="card"><div class="card-header">Faturas</div><div class="card-body"><div if.bind="! isEditing"><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Data de referência</label> <select class="form-control" value.bind="selectedControl" change.delegate="changeControl()"><option repeat.for="control of controls" model.bind="control">${control.dateLabel}</option></select></div></div><div class="col-lg-4 mt-4" if.bind="selectedControl.canGenerateInvoices"><button type="button" if.bind="! isLoading" class="btn btn-primary waves-effect waves-light" click.trigger="generateInvoices()">Gerar Faturamento</button><div class="fa-2x" if.bind="isLoading"><i class="fa fa-refresh fa-spin"></i></div></div></div><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Valor a receber</label> <input type="text" class="form-control disabled" disabled.bind="true" value.bind="totalValue | money" money></div></div><div class="col-lg-4"><label class="control-label">Valor recebido</label> <input type="text" class="form-control disabled" disabled.bind="true" value.bind="totalValuePaid | money" money></div></div><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Filtro</label> <input type="text" class="form-control" value.bind="filter" placeholder="Pesquise por Nome/ Contato" change.trigger="search()"></div></div><div class="col-lg-4"><div class="form-group"><label class="control-label">Status</label> <select class="form-control" value.bind="selectedStatus" change.delegate="search()"><option value=""></option><option value="0">Gerado</option><option value="1">Pago</option><option value="2">Inadimplente</option></select></div></div></div><table class="table table-hover"><thead><tr><th>Fornecedor</th><th>Vencimento</th><th class="text-center">Qtde de Pedidos</th><th class="text-center">Total dos Pedidos</th><th class="text-center">Valor da Fatura</th><th>Status</th><th></th></tr></thead><tbody><tr repeat.for="x of filteredInvoices"><td>${x.supplier.name}</td><td>${x.maturity | dateFormat}</td><td class="text-center">${x.orders.length}</td><td class="text-center">${x.totalValue | money}</td><td class="text-center">${x.valueToPay | money}</td><td><span class="badge badge-primary" if.bind="x.status == 0">Gerado</span> <span class="badge badge-success" if.bind="x.status == 1">Pago</span> <span class="badge badge-danger" if.bind="x.status == 2">Inadimplente</span></td><td if.bind="! x.isEditing"><button type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="edit(x)">Detalhes</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light" if.bind="x.status != 1" click.trigger="editStatus(x, 1)">Efetuar baixa</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light" if.bind="x.status != 2" click.trigger="editStatus(x, 2)">Pendenciar</button></td><td if.bind="x.isEditing"><div class="fa-3x mx-auto" if.bind="isLoading"><i class="fa fa-refresh fa-spin"></i></div></td></tr></tbody></table></div><div if.bind="isEditing"><h4>Dados do fornecedor</h4><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">Razão Social</label> <input type="text" class="form-control disabled" disabled.bind="true" value.bind="selectedInvoice.supplier.name"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Nome Fantasia<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control disabled" disabled.bind="true" value.bind="selectedInvoice.supplier.fantasyName"></div></div></div><div class="row mt-4"><div class="col-md-6"><div class="form-group"><label class="control-label">CNPJ</label> <input type="text" class="form-control disabled" disabled.bind="true" value.bind="selectedInvoice.supplier.cnpj | cnpj" cnpj></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Inscrição Estadual</label> <input type="text" class="form-control disabled" disabled.bind="true" inscricaoestadual value.bind="selectedInvoice.supplier.inscricaoEstadual | inscricaoEstadual"></div></div></div><h4 class="mt-4">Contato</h4><div class="tab-pane"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Nome</label> <input type="text" class="form-control ${validator.contactValidator.isNameInvalid  ? \'border-danger\' : \'\' }" disabled.bind="! edit" value.bind="selectedInvoice.supplier.contact.name" change.delegate="validator.contactValidator.validateName()"></div><div class="form-group"><label class="control-label">Telefone Comercial</label> <input type="text" class="form-control disabled" disabled.bind="true" phone-with-ddd value.bind="selectedInvoice.supplier.contact.commercialPhone | phoneWithDDD" disabled.bind="! edit" placeholder="(01) 1234-5678"></div><div class="form-group"><label class="control-label">E-mail</label> <input type="text" class="form-control disabled" disabled.bind="true" value.bind="selectedInvoice.supplier.contact.email" change.delegate="validator.contactValidator.validateEmail()"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Telefone</label> <input type="text" class="form-control disabled" disabled.bind="true" phone-with-ddd value.bind="selectedInvoice.supplier.contact.phone | phoneWithDDD" change.delegate="validator.contactValidator.validatePhone()"></div><div class="form-group"><label class="control-label">Telefone Celular</label> <input type="text" class="form-control disabled" disabled.bind="true" cell-phone-with-ddd value.bind="selectedInvoice.supplier.contact.personalPhone | cellPhoneWithDDD" disabled.bind="! edit" placeholder="(01) 01234-5678"></div></div></div></div><h4 class="mt-4">Dados da Fatura</h4><div class="tab-pane"><div class="row"><div class="col-md-3"><div class="form-group"><label class="control-label">Valor Total dos pedidos</label> <input type="text" class="form-control" value.bind="selectedInvoice.totalValue | money" money change.delegate="calculateInvoicePrice()"></div><div class="form-group"><label class="control-label">Data de vencimento</label> <input type="text" class="form-control" value.bind="selectedInvoice.maturity | dateFormat" date></div></div><div class="col-md-3"><div class="form-group"><label class="control-label">Percentual de cobrança (%)</label> <input type="text" class="form-control" value.bind="selectedInvoice.fee | money" money change.delegate="calculateInvoicePrice()"></div><div class="form-group"><label class="control-label">Gerado em</label> <input type="text" class="form-control disabled" disabled.bind="true" value.bind="selectedControl.createdOn | dateFormat" date></div></div><div class="col-md-3"><div class="form-group"><label class="control-label">Valor da fatura</label> <input type="text" class="form-control disabled" disabled.bind="true" value.bind="selectedInvoice.valueToPay | money" money></div></div><div class="col-md-3 mt-4"><div class="form-group"><button type="button" class="btn btn-primary btn-sm btn-danger waves-effect waves-light" click.trigger="cancelEditInvoicePrice()"><span class="gradient">Cancelar</span></button></div></div></div></div><h4 class="mt-4">Pedidos</h4><div class="row mt-2"><table class="table table-hover table-responsive"><thead><tr><th class="text-center">Código</th><th class="text-center">Status</th><th class="text-center">Data do Pedido</th><th class="text-center">Food Service</th><th class="text-center">Entrega</th><th class="text-center">Quantidade de Produtos</th><th class="text-center">Total</th></tr></thead><tbody><tr repeat.for="order of selectedInvoice.orders"><td class="text-center">${order.code}</td><td class="text-center"><span class="badge badge-danger" if.bind="order.status == 0">Novo pedido</span> <span class="badge badge-warning" if.bind="order.status == 1">Aceito</span> <span class="badge badge-primary" if.bind="order.status == 2">Entregue</span> <span class="badge badge-default" if.bind="order.status == 3">Rejeitado</span></td><td class="text-center">${order.createdOn | dateFormat}</td><td>${order.foodService.name}</td><td class="text-center"><span if.bind="order.deliveryScheduleStart != null">das ${order.deliveryScheduleStart | time} as ${order.deliveryScheduleEnd | time} </span></td><td class="text-center">${order.items.length}</td><td class="text-center">${order.total | money}</td></tr></tbody></table></div></div><div class="row mt-5 mb-5"><div class="mx-auto" if.bind="isEditing && ! isLoading"><button type="button" class="btn btn-primary btn-gradient waves-effect waves-light" if.bind="edit" click.trigger="saveInvoice()"><span class="gradient">Salvar</span></button> <button type="button" class="btn btn-success waves-effect waves-light" if.bind="selectedInvoice.status != 1" click.trigger="editStatus(selectedInvoice, 1)">Efetuar baixa</button> <button type="button" class="btn btn-danger waves-effect waves-light" if.bind="selectedInvoice.status != 2" click.trigger="editStatus(selectedInvoice, 2)">Pendenciar</button> <button type="button" class="btn btn-secondary ml-2 waves-effect waves-light" click.trigger="cancelEdit()">Voltar</button></div><div class="fa-3x mx-auto" if.bind="isEditing && isLoading"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></div></div></template>'}),define("text!views/components/partials/listaDePrecos.html",["module"],function(e){e.exports='<template><require from="../attributes/moneyMask"></require><require from="../valueConverters/moneyValueConverter"></require><div class="col-md-12"><div id="accordion2" role="tablist" aria-multiselectable="true"><div class="" repeat.for="list of lists"><div class="card-header ml-0" role="tab" id="headingFile${list.id}"><h5 class="mb-0"><a data-toggle="collapse" data-parent="#accordion" href="#collapse${list.id}" aria-expanded="false" aria-controls="collapse${list.id}" class=""> ${dataAtualFormatada(list.date)} </a></h5></div><div id="collapse${list.id}" class="collapse" role="tabpanel" aria-labelledby="headingOne" style=""><div class="card-body"><table class="table table-hover"><thead><tr><th>Nome</th><th>Descrição</th><th>Categoria</th><th>UM</th><th>Marca</th><th class="text-center">Preço</th></tr></thead><tbody><tr repeat.for="item of list.items"><td>${item.product.product.name}</td><td>${item.product.product.description}</td><td>${item.product.product.category.name}</td><td>${item.product.product.unit.name}</td><td>${item.product.product.brand.name}</td><td class="text-center">${item.price.toFixed(2)}</td></tr></tbody></table><button type="button" class="btn btn-primary waves-effect waves-light col-md-2" click.trigger="downloadList(list)"><i class="batch-icon batch-icon-cloud-download"></i> Baixar Lista</button></div></div></div></div></div></template>'}),define("text!views/components/partials/baixaPedido.html",["module"],function(e){e.exports='<template><require from="jquery-datetimepicker/jquery.datetimepicker.min.css"></require><require from="../attributes/moneyMask"></require><require from="../attributes/datepicker"></require><require from="../valueConverters/dateFormatValueConverter"></require><div class="row mb-5"><div class="col-md-12"><div class="card"><div class="card-header">Baixa de Pedido</div><div class="card-body"><div class="row"><div class="col-md-12"><div class="form-group text-center"><label class="control-label">Tem certeza que deseja efetuar a baixa o pedido <strong>nº ${order.code}</strong>?</label></div></div></div><div class="row mt-3"><div class="col-md-12 mt-3"><div class="form-group mx-auto text-center"><p class="text-center">Avalie a qualidade do fornecedor</p><i style="cursor:pointer" class="batch-icon ${ notaAvaliacao >= 1 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg mt-2" click.trigger="setAvaliacao(1)"></i> <i style="cursor:pointer" class="batch-icon ${ notaAvaliacao >= 2 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg" click.trigger="setAvaliacao(2)"></i> <i style="cursor:pointer" class="batch-icon ${ notaAvaliacao >= 3 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg" click.trigger="setAvaliacao(3)"></i> <i style="cursor:pointer" class="batch-icon ${ notaAvaliacao >= 4 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg" click.trigger="setAvaliacao(4)"></i> <i style="cursor:pointer" class="batch-icon ${ notaAvaliacao >= 5 ? \'text-warning\' : \'\' } batch-icon-star-alt batch-icon-lg mb-2" click.trigger="setAvaliacao(5)"></i></div></div><div class="col-md-12 mt-3"><div class="form-group mx-auto"><label class="control-label">Comentários</label> <textarea class="form-control" value.bind="evaluation.comment" rows="2"></textarea></div></div></div><div class="row mt-3"><button type="button" class="btn btn-success waves-effect waves-light mx-auto ml-5" click.trigger="acceptOrder()" if.bind="! processing"><i class="fa fa-check mr-2"></i>Confirmar</button> <button type="button" class="btn btn-secondary waves-effect waves-light mx-auto ml-5 mr-5" click.trigger="cancel()" if.bind="! processing"><i class="fa fa-undo mr-2"></i>Cancelar</button><div class="fa-2x text-center mx-auto" if.bind="processing"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></div></div></template>'}),define("text!views/components/partials/cotacaoPedido.html",["module"],function(e){e.exports='<template><div class="card-body"><h4 class="mt-5">Dados do pedido</h4><div class="col-md-12 card-table table-responsive"><table class="table table-hover table-sm align-middle"><thead><tr><th class="text-center">Nome do Produto</th><th class="text-right">Preço unitário</th><th class="text-right">Quantidade</th><th class="text-right">Total</th></tr></thead><tbody><tr><td> ${item.product.name} <div><small class="boldness-light">${item.supplier.name}</small></div></td><td class="text-right"> ${item.price | money} </td><td class="text-right"> ${item.quantity} </td><td class="text-right"> ${item.total  | money} </td></tr><tr><td colspan="3" class="text-right"><strong>Total:</strong></td><td class="text-right"><strong>${result.total  | money}</strong></td></tr></tbody></table></div><h4>Sumário</h4><div class="col-md-12 card-table table-responsive"><table class="table table-hover table-sm align-middle"><thead><tr><th class="text-left">Fornecedor</th><th class="text-center">Avaliação</th><th class="text-center">Qtde de dias para aceite</th><th class="text-center">Período de Aceite</th><th class="text-center">Dias de entrega</th><th class="text-center">Período de Entrega</th><th class="text-right">Total</th></tr></thead><tbody><tr repeat.for="item of result.summaryItems"><td> ${item.supplier.name} </td><td class="text-center"><i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i> <i aria-hidden="true" class="fa fa-star" style="color:#ff0;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:orange"></i></td><td class="text-center"> ${item.rule.numberOfDaysToAccept} dias</td><td class="text-center"> ${item.rule.periodToAcceptOrder1 | time} <label class="mr-sm-2 ml-2" for="inlineFormCustomSelect">as</label> ${item.rule.periodToAcceptOrder2 | time} </td><td><span if.bind="item.rule.deliveryOnMonday" class="badge ${ item.rule.deliveryOnMonday ? \'badge-success\' : \'badge-warning\' }">Segunda-feira</span> <span if.bind="item.rule.deliveryOnTuesday" class="badge ${ item.rule.deliveryOnTuesday ? \'badge-success\' : \'badge-warning\' }">Terça-feira</span> <span if.bind="item.rule.deliveryOnWednesday" class="badge ${ item.rule.deliveryOnWednesday ? \'badge-success\' : \'badge-warning\' }">Quarta-feira</span> <span if.bind="item.rule.deliveryOnThursday" class="badge ${ item.rule.deliveryOnThursday ? \'badge-success\' : \'badge-warning\' }">Quinta-feira</span> <span if.bind="item.rule.deliveryOnFriday" class="badge ${ item.rule.deliveryOnFriday ? \'badge-success\' : \'badge-warning\' }">Sexta-feira</span><br><br><span if.bind="item.rule.deliveryOnSaturday" class="badge ${ item.rule.deliveryOnSaturday ? \'badge-success\' : \'badge-warning\' }">Sábado</span> <span if.bind="item.rule.deliveryOnSunday" class="badge ${ item.rule.deliveryOnSunday ? \'badge-success\' : \'badge-warning\' }">Domingo</span></td><td class="text-center"> ${item.rule.deliverySchedule1 | time} <label class="mr-sm-2 ml-2" for="inlineFormCustomSelect">as</label> ${item.rule.deliverySchedule2 | time} </td><td class="text-right"> ${item.total  | money} </td></tr></tbody></table></div></div></template>'}),define("text!views/components/partials/produtosSelecionados.html",["module"],function(e){e.exports='<template><div class="row mt-4"><div class="col-lg-4"><div class="form-group"><label class="control-label">Categoria</label> <select class="form-control" value.bind="selectedCategory" change.delegate="search()"><option repeat.for="category of categories" value.bind="category.id">${category.name}</option></select></div></div><div class="col-lg-4"><div class="form-group"><label class="control-label">Filtro</label> <input type="text" class="form-control" value.bind="filter" placeholder="Pesquise por Produto / Descrição" change.trigger="search()"></div></div></div><div class="row"><div class="col-lg-4"><div class="form-group"><button type="button" if.bind="! isCreatingList" class="btn btn-primary btn-sm waves-effect waves-light au-target au-target" click.trigger="isCreatingList = true">Criar Lista</button> <input type="text" if.bind="  isCreatingList" class="form-control" value.bind="newListName" placeholder="Digite o nome da lista"></div></div><div class="col-lg-4" if.bind="isCreatingList"><div class="form-group"><button type="button" class="btn btn-primary btn-sm waves-effect waves-light au-target au-target" click.trigger="createList()">Salvar</button> <button type="button" class="btn btn-primary btn-sm waves-effect waves-light au-target au-target" click.trigger="isCreatingList = false">Cancelar</button></div></div></div><div class="row" if.bind="isFiltered"><div class="col-md-12 pb-5"><table class="table table-hover"><thead><tr><th>Nome</th><th class="text-center align-middle">Descrição</th><th>Categoria</th><th>UM</th><th>Marca</th><th repeat.for="list of lists" class="ml-2">${list.name}</th><th></th></tr></thead><tbody><tr repeat.for="x of filteredProducts"><td> ${x.product.name} <span if.bind="x.isNew" class="badge badge-warning">Novo!</span></td><td class="text-center align-middle">${x.product.description}</td><td>${x.product.category.name}</td><td>${x.product.unit.name}</td><td></td><td repeat.for="list of lists"><label class="custom-control custom-checkbox"><input type="checkbox" class="custom-control-input" checked.bind="list[x.product.name + \'_\'+ x.product.unit.name]" change.trigger="changeList(list, x)"> <span class="custom-control-indicator"></span></label></td><td><button type="button" if.bind="! x.isLoading" class="btn btn-danger btn-sm waves-effect waves-light ${ isProcessing ? \'disable\' : \'\'  && ! product.isLoading }" disabled.bind="isProcessing" click.trigger="removeProduct(x)">Remover</button><div class="fa-2x" if.bind="x.isLoading  == true"><i class="fa fa-refresh fa-spin"></i></div></td></tr></tbody></table></div></div></template>'}),define("text!views/components/partials/selecaoDeProdutosFoodService.html",["module"],function(e){e.exports='<template><div class="row"><div class="col-lg-4"><div class="form-group"><label class="control-label">Categoria</label> <select class="form-control" value.bind="selectedCategory" change.delegate="search()"><option value=""></option><option repeat.for="category of categories" value.bind="category.id">${category.name}</option></select></div></div><div class="col-lg-4"><div class="form-group"><label class="control-label">Filtro</label> <input type="text" class="form-control" value.bind="filter" placeholder="Pesquise por Produto / Descrição" change.trigger="search()"></div></div></div><div class="row" if.bind="isFiltered"><div class="col-md-12 pb-5"><table class="table table-hover"><thead><tr><th>Nome</th><th class="text-center align-middle">Descrição</th><th>Categoria</th><th>UM</th><th></th></tr></thead><tbody><tr repeat.for="product of filteredProducts"><td>${product.name}</td><td class="text-center align-middle">${product.description}</td><td>${product.category.name}</td><td>${product.unit.name}</td><td><button if.bind="! product.isLoading" type="button" class="btn btn-primary btn-sm waves-effect waves-light ${ isProcessing ? \'disable\' : \'\'  && ! product.isLoading }" disabled.bind="isProcessing" click.trigger="addProduct(product)">Incluir</button><div class="fa-2x" if.bind="product.isLoading  == true"><i class="fa fa-refresh fa-spin"></i></div></td></tr></tbody></table></div></div></template>'}),define("text!views/components/partials/rejeicaoPedido.html",["module"],function(e){e.exports='<template><require from="jquery-datetimepicker/jquery.datetimepicker.min.css"></require><require from="../attributes/moneyMask"></require><require from="../attributes/datepicker"></require><require from="../valueConverters/dateFormatValueConverter"></require><div class="row mb-5"><div class="col-md-12"><div class="card"><div class="card-header">Rejeição de Pedido</div><div class="card-body"><div class="row"><div class="col-md-12"><div class="form-group"><h5 class="control-label">Tem certeza que deseja rejeitar o pedido <strong>nº ${order.code}</strong>?</h5></div></div></div><div class="row"><div class="col-md-12 mt-3"><div class="form-group"><label class="control-label">Informe o motivo da rejeição</label> <textarea class="form-control" value.bind="vm.reason & validate" rows="3"></textarea><h6 class="text-center mt-2 font-bold"><strong>Ao rejeitar pedidos sua avaliação pode ser penalizada</strong></h6></div></div></div></div><div class="row mb-4"><div class="fa-2x text-center mx-auto" if.bind="processing"><i class="fa fa-refresh fa-spin"></i></div><button type="button" class="btn btn-danger waves-effect waves-light mx-auto ml-5" if.bind="! processing" click.trigger="rejectOrder()"><i class="fa fa-times mr-2"></i>Rejeitar</button> <button type="button" class="btn btn-secondary waves-effect waves-light mx-auto ml-5 mr-5" if.bind="! processing" click.trigger="cancel()"><i class="fa fa-undo mr-2"></i>Cancelar</button><div class="fa-2x text-center mx-auto" if.bind="processing"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></div></template>'}),define("text!views/components/partials/horarioDeEntregaPedido.html",["module"],function(e){e.exports='<template><require from="jquery-datetimepicker/jquery.datetimepicker.min.css"></require><require from="../attributes/moneyMask"></require><require from="../attributes/timeMask"></require><require from="../attributes/datepicker"></require><require from="../valueConverters/dateFormatValueConverter"></require><require from="../valueConverters/timeValueConverter"></require><div class="row mb-5"><div class="col-md-12"><div class="card"><div class="card-header">Horário de Entrega</div><div class="card-body"><div class="row"><div class="col-md-12"><div class="form-group"><h5 class="control-label">Confirme o horário de entrega do pedido</h5></div></div></div><div class="row"><div class="col-md-12 mt-3"><div class="form-group"><label class="control-label">Horário inicial</label><div class="input-group"><span class="input-group-addon input-group-icon"><i class="batch-icon batch-icon-clock"></i> </span><input type="time" class="time form-control" autocomplete="off" placeholder="HH:mm" time value.bind="vm.deliveryScheduleStart | time & updateTrigger:\'blur\' & validate"></div></div></div></div><div class="row"><div class="col-md-12 mt-3"><div class="form-group"><label class="control-label">Horário final</label><div class="input-group"><span class="input-group-addon input-group-icon"><i class="batch-icon batch-icon-clock"></i> </span><input type="time" class="time form-control" autocomplete="off" placeholder="HH:mm" time value.bind="vm.deliveryScheduleEnd | time & updateTrigger:\'blur\' & validate "></div></div></div></div></div><div class="row mb-4"><div class="fa-2x text-center mx-auto" if.bind="processing"><i class="fa fa-refresh fa-spin"></i></div><button type="button" class="btn btn-success waves-effect waves-light mx-auto ml-5" click.trigger="confirmSchedule()"><i class="fa fa-check mr-2"></i>Confirmar</button> <button type="button" class="btn btn-secondary waves-effect waves-light mx-auto ml-5 mr-5" click.trigger="cancel()"><i class="fa fa-undo mr-2"></i>Cancelar</button><div class="fa-2x text-center mx-auto" if.bind="processing"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></div></template>'}),define("text!views/components/partials/atualizacaoDePrecos.html",["module"],function(e){e.exports='<template><require from="../attributes/moneyMask"></require><require from="../valueConverters/moneyValueConverter"></require><div class="col-md-12"><div id="accordion" role="tablist" aria-multiselectable="true"><div class=""><div class="card-header ml-0" role="tab" id="headingTwo"><h5 class="mb-0"><a class="" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Produtos fornecidos</a></h5></div><div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo" style=""><div class="card-body"><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Categoria</label> <select class="form-control" value.bind="selectedCategory" change.delegate="loadProducts()"><option value=""></option><option repeat.for="category of categories" value.bind="category.id">${category.name}</option></select></div></div><div class="col-lg-4"><div class="form-group"><label class="control-label">Filtro</label> <input type="text" class="form-control" value.bind="filter" placeholder="Pesquise por Produto / Descrição" change.trigger="search()"></div></div></div></div><table class="table table-hover mt-2"><thead><tr><th>Nome</th><th>Descrição</th><th>Categoria</th><th>UM</th><th>Marca</th><th class="text-center">Preço</th><th>Status</th><th></th></tr></thead><tbody><tr repeat.for="supplierProduct of filteredProducts"><td> ${supplierProduct.product.name} <span if.bind="supplierProduct.isNew" class="badge badge-warning">Novo!</span></td><td>${supplierProduct.product.description}</td><td>${supplierProduct.product.category.name}</td><td>${supplierProduct.product.unit.name}</td><td></td><td><div class="col-md-12 mx-auto"><input type="text" class="money text-right form-control ${supplierProduct.isEditing ? \'\' : \'disabled\' } " disabled.bind="! supplierProduct.isEditing" autocomplete="off" value.bind="supplierProduct.price | money" money placeholder="000,00"></div></td><th><span class="badge badge-success ${supplierProduct.isActive && ! supplierProduct.isEditing ? \'float-left\' :  \'invisible\' }">Ativo</span> <span class="badge badge-danger ${ ! supplierProduct.isActive && ! supplierProduct.isEditing ? \'float-left\' :  \'invisible\' }">Inativo</span><br><span class="badge badge-warning" if.bind="supplierProduct.wasAltered">Alterado</span></th><td><div class="fa-2x text-center mx-auto" if.bind="supplierProduct.isLoading"><i class="fa fa-refresh fa-spin"></i></div><div class="col-md-12 mx-auto"><button type="button" class="btn btn-primary btn-sm waves-effect waves-light ${ ! supplierProduct.isEditing && ! isLoading  ? \'\' : \'invisible\' } " if.bind="! supplierProduct.isEditing && ! supplierProduct.isLoading " click.trigger="edit(supplierProduct)">Editar</button> <button type="button" class="btn btn-danger btn-sm waves-effect waves-light ${supplierProduct.isActive && supplierProduct.isEditing ? \' float-left\' : \'invisible\' } " if.bind="supplierProduct.isActive" click.trigger="alterStatus(supplierProduct)">Inativar</button> <button type="button" class="btn btn-success btn-sm waves-effect waves-light ${! supplierProduct.isActive && supplierProduct.isEditing ? \'float-left\' :  \'invisible\'  } " if.bind="! supplierProduct.isActive" click.trigger="alterStatus(supplierProduct) ">Ativar</button> <button type="button" class="btn btn-primary btn-sm waves-effect waves-light ${ supplierProduct.isEditing && ! isLoading  ? \'\' : \'invisible\' } " if.bind="supplierProduct.isEditing" click.trigger="save(supplierProduct)">Salvar</button> <button type="button" class="btn btn-secondary btn-sm waves-effect waves-light ${ supplierProduct.isEditing && ! isLoading ? \'\' : \'invisible\' } " if.bind="supplierProduct.isEditing" click.trigger="cancelEdit(supplierProduct)">Cancelar</button></div></td></tr></tbody></table></div></div></div><div class=""><div class="card-header ml-0" role="tab" id="headingThree"><h5 class="mb-0"><a class="" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Download</a></h5></div><div id="collapseThree" class="collapse" role="tabpanel" aria-labelledby="headingThree" style=""><div class="card-body"><p class="text-left">Atualize o preço para os seus produtos através do download e upload de planilha</p><button type="button" class="btn btn-primary waves-effect waves-light col-md-3" click.trigger="downloadFile()"><i class="batch-icon batch-icon-cloud-download"></i> Download</button></div></div></div><div class=""><div class="card-header ml-0" role="tab" id="headingFour"><h5 class="mb-0"><a class="" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">Upload</a></h5></div><div id="collapseFour" class="collapse" role="tabpanel" aria-labelledby="headingFour" style=""><div class="card-body"><p class="text-left">Atualize o preço para os seus produtos através do download e upload de planilha</p><br><form submit.delegate="uploadFile()"><button type="submit" if.bind="selectedFiles.length > 0" class="btn ${ ! isUploading ? \'btn-primary\' : \'btn-warning\'} waves-effect waves-light col-md-3" disable.bind="isUploading"><span if.bind="! isUploading"><i class="batch-icon batch-icon-cloud-upload"></i> Upload </span><span if.bind="isUploading"><i class="fa fa-circle-o-notch fa-spin"></i> Processando arquivo</span></button> <input id="files" type="file" accept=".csv" files.bind="selectedFiles" class="${ isUploading ? \'invisible\' : \'\'}"></form></div></div></div></div></template>'}),define("text!views/components/partials/aceitePedido.html",["module"],function(e){e.exports='<template><require from="jquery-datetimepicker/jquery.datetimepicker.min.css"></require><require from="../attributes/moneyMask"></require><require from="../attributes/datepicker"></require><require from="../valueConverters/dateFormatValueConverter"></require><div class="row mb-5"><div class="col-md-12"><div class="card"><div class="card-header">Aceite de Pedido</div><div class="card-body"><div class="row"><div class="col-md-12"><div class="form-group"><label class="control-label">Tem certeza que deseja aceitar o pedido <strong>nº ${order.code}</strong>?</label></div></div></div><div class="row pb-5"><div class="col-md-12"><div class="form-group"><label class="control-label active">Informe a data prevista de entrega<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" autocomplete="off" placeholder="00/00/0000" value.bind="order.deliveryDate | dateFormat  & validate" datepicker></div></div></div><div class="row pb-5"><div class="col-md-12"><div class="form-group"><label class="control-label active">Informe a data de pagamento do boleto<span class="text-danger ml-1 bold">*</span></label> <input type="text" class="form-control" autocomplete="off" placeholder="00/00/0000" value.bind="order.paymentDate | dateFormat & validate" datepicker></div></div></div></div><div class="row"><button type="button" class="btn btn-success waves-effect waves-light mx-auto ml-5" click.trigger="acceptOrder()" if.bind="! processing"><i class="fa fa-check mr-2"></i>Aceitar</button> <button type="button" class="btn btn-secondary waves-effect waves-light mx-auto ml-5 mr-5" click.trigger="cancel()" if.bind="! processing"><i class="fa fa-undo mr-2"></i>Cancelar</button><div class="fa-2x text-center mx-auto" if.bind="processing"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></div></template>'}),define("text!views/components/partials/selecaoDeProdutos.html",["module"],function(e){e.exports='<template><require from="../attributes/moneyMask"></require><require from="../valueConverters/moneyValueConverter"></require><div class="row mt-2"><div class="col-lg-4"><div class="form-group"><label class="control-label">Categoria</label> <select class="form-control ${ isLoaded ? \'\' : \'disabled\' }" disabled.bind="! isLoaded" value.bind="selectedCategory" change.delegate="loadProducts()"><option value=""></option><option repeat.for="category of categories" value.bind="category.id">${category.name}</option></select></div></div><div class="col-lg-4"><div class="form-group"><label class="control-label">Filtro</label> <input type="text" class="form-control ${ isLoaded ? \'\' : \'disabled\' }" disabled.bind="! isLoaded" value.bind="filter" placeholder="Pesquise por Produto / Descrição" change.trigger="search()"></div></div></div><div class="row" if.bind="isFiltered"><div class="col-md-12 pb-5 mt-5"><table class="table table-hover table-sm"><thead><tr><th class="text-center">Nome</th><th class="text-center">Descrição</th><th class="text-center">Marca</th><th class="text-center">UM</th><th class="text-center">Preço</th><th class="text-center">Peso (kgs)</th><th></th></tr></thead><tbody><tr repeat.for="product of filteredProducts"><td class="align-middle">${product.name}</td><td class="text-center align-middle">${product.description}</td><td class="align-middle">${product.brand.name}</td><td class="text-center align-middle">${product.unit.name}</td><td class="align-middle text-center"><input type="text" disabled.bind="! product.supplierProduct" class="money form-control mx-auto col-md-6 text-right ${ product.supplierProduct ? \'\' : \'disabled\' } " autocomplete="off" value.bind="product.supplierProduct.price | money" money placeholder="000,00"></td><td class="align-middle"><input type="text" disabled.bind="! (product.supplierProduct && product.unit.mustInformQuantity) " class="money form-control mx-auto col-md-6 text-right ${ (product.supplierProduct && product.unit.mustInformQuantity) ? \'\' : \'disabled\' } " autocomplete="off" value.bind="product.supplierProduct.weight | money" money placeholder="000,00"></td><td class="align-middle"><button if.bind="! product.supplierProduct" type="button" class="btn btn-primary btn-sm waves-effect waves-light" click.trigger="includeProduct(product)">Incluir</button> <button if.bind="product.supplierProduct" type="button" class="btn btn-success btn-sm waves-effect waves-light" click.trigger="saveProduct(product)">Salvar</button> <button if.bind="product.supplierProduct" type="button" class="btn btn-secondary btn-sm waves-effect waves-light" click.trigger="product.supplierProduct = null">Cancelar</button></td></tr></tbody></table><div class="row mt-2 mb-4"><button type="button" class="btn btn-primary mx-auto waves-effect waves-light" if.bind="alteredProducts.length > 0 && ! isLoading" click.trigger="saveAll()">Salvar</button><div class="fa-2x text-center mx-auto" if.bind="! isLoaded"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></template>'}),define("text!views/components/partials/historicoDeImportacao.html",["module"],function(e){e.exports='<template><require from="../attributes/moneyMask"></require><require from="../valueConverters/moneyValueConverter"></require><div class="col-md-12"><div id="accordion2" role="tablist" aria-multiselectable="true"><div class="" repeat.for="file of files"><div class="card-header ml-0" role="tab" id="headingFile${file.id}"><h5 class="mb-0"><a data-toggle="collapse" data-parent="#accordion" href="#collapse${file.id}" aria-expanded="false" aria-controls="collapse${file.id}" class=""> ${file.fileName} </a></h5></div><div id="collapse${file.id}" class="collapse" role="tabpanel" aria-labelledby="headingOne" style=""><div class="card-body"><p class="text-right">Usuário : ${file.uploadedBy.name}</p><p class="text-right">Data: ${dataAtualFormatada(file.uploadedOn)}</p><p class="text-left">Os produtos abaixo foram atualizados com o upload desse arquivo</p><table class="table table-hover"><thead><tr><th>Nº da Linha</th><th>Nome</th><th>Descrição</th><th>Categoria</th><th>UM</th><th>Marca</th><th class="text-center">Preço Antigo</th><th class="text-center">Novo Preço</th><th>Status</th></tr></thead><tbody><tr repeat.for="row of file.rows"><td>${row.lineNumber}</td><td>${row.supplierProduct.product.name}</td><td>${row.supplierProduct.product.description}</td><td>${row.supplierProduct.product.category.name}</td><td>${row.supplierProduct.product.unit.name}</td><td>${row.supplierProduct.product.brand.name}</td><td class="text-center">${row.oldPrice.toFixed(2)}</td><td class="text-center">${row.newPrice.toFixed(2)}</td><td><span class="badge badge-success" if.bind="row.status == 0">Sucesso</span> <span class="badge badge-danger" if.bind="row.status == 1">Erro</span></td></tr></tbody></table></div></div></div></div></div></template>'});